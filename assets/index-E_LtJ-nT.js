(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function C_(){Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"))}const Rt={get(i,e){var t;return(t=e[Symbol.metadata])==null?void 0:t[i]},define(i,e,...t){var r;let s=(r=Object.getOwnPropertyDescriptor(e,Symbol.metadata))==null?void 0:r.value;s==null&&Object.defineProperty(e,Symbol.metadata,{value:s=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=t.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:s[t[0]]=i;return;case 2:s[t[0]]=s[t[1]]=i;return;default:{for(let o=0;o<n;++o)s[t[o]]=i;return}}},has(i,e){const t=e[Symbol.metadata];return t==null?!1:i in t},delete(i,e){const t=e[Symbol.metadata];t!=null&&Reflect.deleteProperty(t,i)}},zr=Object.freeze,hp=Object.assign,k_=String,jt=Rt.get,Cr=Rt.define,Ee=i=>i instanceof Promise,_e=i=>i instanceof Array,Sn=i=>i instanceof Set,Ws=i=>i instanceof Map,up=i=>i instanceof Object;function Ri(i){return typeof i=="object"&&i!==null||typeof i=="function"}const Y=i=>typeof i=="function",X=i=>typeof i=="string",S_=i=>typeof i=="symbol",$_=i=>typeof i=="number",ce=()=>Object.create(null),Is=Object.is,Ce=(i,...e)=>{const t=k_(i).padStart(4,"0"),s=A_(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/0001-to-0023/aur${t}`;return new Error(`AUR${t}: ${s}\\n\\nFor more information, see: ${n}`)},x_={1:"No registration for interface: '{{0}}'",2:`'{{0}}' was registered with "none" resolver, are you injecting the right key?`,3:"Cyclic dependency found: {{0}}",4:"Resolver for {{0}} returned a null factory",5:"Invalid resolver strategy specified: {{0}}. Did you assign an invalid strategy value?",6:"Unable to autoregister dependency: {{0}}",7:'Resource key "{{0}}" already registered',8:"Unable to resolve key: {{0}}",9:"Attempted to jitRegister something that is not a constructor: '{{0}}'. Did you forget to register this resource?",10:'Attempted to jitRegister an intrinsic type: "{{0}}". Did you forget to add @inject(Key)',11:"Invalid resolver, null/undefined returned from the static register method.",12:"Attempted to jitRegister an interface: {{0}}",13:"Cannot call resolve '{{0}}' before calling prepare or after calling dispose.",14:"Key cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?A common cause is circular dependency with bundler, did you accidentally introduce circular dependency into your module graph?",15:"'{{0}}' is a native function and cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.",16:'There is not a currently active container to resolve "{{0}}". Are you trying to "new Class(...)" that has a resolve(...) call?',17:"Failed to instantiate '{{0}}' via @newInstanceOf/@newInstanceForScope, there's no registration and no default implementation, or the default implementation does not result in factory for constructing the instances.",18:"Invalid channel name or instance: '{{0}}'.",19:"Invalid channel name or type: {{0}}.",20:"No defined value found when calling firstDefined()",21:"Invalid module transform input: {{0}}. Expected Promise or Object.",22:"The @inject decorator on the target ('{{0}}') type '{{1}}' is not supported.",23:"Resource key '{{0}}' has already been registered."},A_=(i,...e)=>{let t=x_[i];for(let s=0;s<e.length;++s)t=t.replace(`{{${s}}}`,String(e[s]));return t},hn=(...i)=>globalThis.console.error(...i),un=(()=>{const i={};let e=!1,t=0,s=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(r|0)===r;case"string":if(e=i[r],e!==void 0)return e;if(t=r.length,t===0)return i[r]=!1;for(s=0,n=0;n<t;++n)if(s=r.charCodeAt(n),n===0&&s===48&&t>1||s<48||s>57)return i[r]=!1;return i[r]=!0;default:return!1}}})(),dp=(function(){const i=hp(ce(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=t=>t===""?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:i[t]===!0?1:0;return(t,s)=>{const n=t.length;if(n===0)return t;let r=!1,o="",a,l="",c=0,u=t.charAt(0),h=e(u),p=0;for(;p<n;++p)a=c,l=u,c=h,u=t.charAt(p+1),h=e(u),c===0?o.length>0&&(r=!0):(!r&&o.length>0&&c===2&&(r=a===3||h===3),o+=s(l,r),r=!1);return o}})(),De=(function(){const i=ce(),e=(t,s)=>s?t.toUpperCase():t.toLowerCase();return t=>{let s=i[t];return s===void 0&&(s=i[t]=dp(t,e)),s}})(),pp=(function(){const i=ce();return e=>{let t=i[e];return t===void 0&&(t=De(e),t.length>0&&(t=t[0].toUpperCase()+t.slice(1)),i[e]=t),t}})(),fp=(function(){const i=ce(),e=(t,s)=>s?`-${t.toLowerCase()}`:t.toLowerCase();return t=>{let s=i[t];return s===void 0&&(s=i[t]=dp(t,e)),s}})(),Va=i=>{const e=i.length,t=Array(e);let s=0;for(;s<e;++s)t[s]=i[s];return t},zi=(i,e)=>{const t=e.name;e.addInitializer(function(){Reflect.defineProperty(this,t,{value:i.bind(this),writable:!0,configurable:!0,enumerable:!1})})},Te=(...i)=>{const e=[];let t=0;const s=i.length;let n=0,r,o=0;for(;o<s;++o)if(r=i[o],r!==void 0){n=r.length;let a=0;for(;a<n;++a)e[t++]=r[a]}return e},Fs=(...i)=>{const e=i.length;let t,s=0;for(;e>s;++s)if(t=i[s],t!==void 0)return t;throw Ce(20)},I_=(function(){const i=Function.prototype,e=Object.getPrototypeOf,t=new WeakMap;let s=i,n=0,r;return function(o){if(r=t.get(o),r===void 0)for(t.set(o,r=[s=o]),n=0;(s=e(s))!==i;)r[++n]=s;return r}})();function Pl(...i){return hp(ce(),...i)}const lu=(()=>{const i=new WeakMap;let e=!1,t="",s=0;return n=>(e=i.get(n),e==null&&(s=(t=n.toString()).length,e=s>28&&t.indexOf("[native code] }")===s-15,i.set(n,e)),e)})(),T=(i,e)=>Ee(i)?i.then(e):e(i),le=(...i)=>{let e,t,s,n=0,r=i.length;for(;n<r;++n)e=i[n],Ee(e=i[n])&&(t===void 0?t=e:s===void 0?s=[t,e]:s.push(e));return s===void 0?t:Promise.all(s)},R_=(i,e)=>new zt(i,0,e),kr=(i,e)=>new zt(i,1,e),gp=(i,e)=>new zt(i,2,e),P_=(i,e)=>new zt(i,3,e),T_=(i,e)=>new zt(i,3,_p(e)),Oo=(i,e)=>new zt(e,5,i),E_=(i,...e)=>new K_(i,e),cu=new WeakMap,_p=i=>(e,t,s)=>{let n=cu.get(e);if(n===void 0&&cu.set(e,n=new WeakMap),n.has(s))return n.get(s);const r=i(e,t,s);return n.set(s,r),r},Pt={instance:R_,singleton:kr,transient:gp,callback:P_,cachedCallback:T_,aliasTo:Oo,defer:E_},Hr=function(i){return function(t){t.register(kr(this,this),Oo(this,i))}},xi="au:annotation",qs=(i,e)=>e===void 0?`${xi}:${i}`:`${xi}:${i}:${e}`,O_=(i,e)=>{const t=jt(xi,i);t===void 0?Cr([e],i,xi):t.push(e)},B_=zr({name:"au:annotation",appendTo:O_,set(i,e,t){Cr(t,i,qs(e))},get:(i,e)=>jt(qs(e),i),getKeys(i){let e=jt(xi,i);return e===void 0&&Cr(e=[],i,xi),e},isKey:i=>i.startsWith(xi),keyFor:qs}),Dt="au:resource",si=(i,e,t)=>`${Dt}:${i}`,mp={annotation:B_},vp=Object.prototype.hasOwnProperty;function pt(i,e,t,s){let n=jt(qs(i),t);return n===void 0?(n=e[i],n===void 0?(n=t[i],n===void 0||!vp.call(t,i)?s():n):n):n}function Mt(i,e,t){let s=jt(qs(i),e);return s===void 0?(s=e[i],s===void 0||!vp.call(e,i)?t():s):s}function Qt(i,e,t){const s=e[i];return s===void 0?t():s}const cs=Symbol.for("au:registrable"),L_={singleton:i=>new zt(i,1,i)};class ts{constructor(e,t){this.inheritParentResources=e,this.defaultResolver=t}static from(e){return e===void 0||e===ts.DEFAULT?ts.DEFAULT:new ts(e.inheritParentResources??!1,e.defaultResolver??L_.singleton)}}ts.DEFAULT=ts.from({});const M_=i=>new nr(null,ts.from(i)),N_=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let D_=0,be=null;class nr{get depth(){return this._parent===null?0:this._parent.depth+1}get parent(){return this._parent}constructor(e,t){if(this.id=++D_,this._registerDepth=0,this._disposableResolvers=new Map,this._parent=e,this.config=t,this._resolvers=new Map,this.res={},e===null)this.root=this,this._factories=new Map;else if(this.root=e.root,this._factories=e._factories,t.inheritParentResources)for(const s in e.res)this.registerResolver(s,e.res[s]);this._resolvers.set(Ni,F_)}register(...e){var u,h,p,d;if(++this._registerDepth===100)throw Ce(6,...e);let t,s,n,r,o,a=0,l=e.length,c;for(;a<l;++a)if(t=e[a],!!Ri(t))if(Hn(t))t.register(this);else if((c=jt(Dt,t))!=null)c.register(this);else if(z_(t)){const g=(u=t[Symbol.metadata])==null?void 0:u[cs];if(Hn(g))g.register(this);else if(X((h=t.$au)==null?void 0:h.type)){const f=t.$au,_=(t.aliases??U).concat(f.aliases??U);let b=`${Dt}:${f.type}:${f.name}`;if(this.has(b,!1)){(p=globalThis.console)==null||p.warn(Ce(7,b));continue}for(Oo(t,b).register(this),this.has(t,!1)||kr(t,t).register(this),r=0,o=_.length;r<o;++r){if(b=`${Dt}:${f.type}:${_[r]}`,this.has(b,!1)){(d=globalThis.console)==null||d.warn(Ce(7,b));continue}Oo(t,b).register(this)}}else kr(t,t).register(this)}else for(s=Object.keys(t),r=0,o=s.length;r<o;++r)n=t[s[r]],Ri(n)&&(Hn(n)?n.register(this):this.register(n));return--this._registerDepth,this}registerResolver(e,t,s=!1){Mn(e);const n=this._resolvers,r=n.get(e);if(r==null){if(n.set(e,t),Fa(e)){if(this.res[e]!==void 0)throw Ce(7,e);this.res[e]=t}}else r instanceof zt&&r._strategy===4?r._state.push(t):n.set(e,new zt(e,4,[r,t]));return s&&this._disposableResolvers.set(e,t),t}deregister(e){Mn(e);const t=this._resolvers.get(e);t!=null&&(this._resolvers.delete(e),Fa(e)&&delete this.res[e],this._disposableResolvers.has(e)&&(t.dispose(),this._disposableResolvers.delete(e)))}registerTransformer(e,t){const s=this.getResolver(e);if(s==null)return!1;if(s.getFactory){const n=s.getFactory(this);return n==null?!1:(n.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(Mn(e),e.resolve!==void 0)return e;const s=be;let n=be=this,r,o;try{for(;n!=null;)if(r=n._resolvers.get(e),r==null){if(n._parent==null)return o=du(e)?this:n,t?this._jitRegister(e,o):null;n=n._parent}else return r}finally{be=s}return null}has(e,t=!1){var s;return this._resolvers.has(e)||Fa(e)&&e in this.res||((t&&((s=this._parent)==null?void 0:s.has(e,!0)))??!1)}get(e){if(Mn(e),e.$isResolver)return e.resolve(this,this);const t=be;let s=be=this,n,r;try{for(;s!=null;)if(n=s._resolvers.get(e),n==null){if(s._parent==null)return r=du(e)?this:s,n=this._jitRegister(e,r),n.resolve(s,this);s=s._parent}else return n.resolve(s,this)}finally{be=t}throw Ce(8,e)}getAll(e,t=!1){Mn(e);const s=be,n=be=this;let r=n,o,a=U;try{if(t){for(;r!=null;)o=r._resolvers.get(e),o!=null&&(a=a.concat(uu(o,r,n))),r=r._parent;return a}for(;r!=null;)if(o=r._resolvers.get(e),o==null){if(r=r._parent,r==null)return U}else return uu(o,r,n)}finally{be=s}return U}invoke(e,t){if(lu(e))throw Ce(15,e);const s=be;be=this;{let n,r;try{n=Xi(e).map(o=>this.get(r=o))}catch(o){throw hn(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}, caused by dependency: ${String(r)}`),be=s,o}try{return t===void 0?new e(...n):new e(...n,...t)}catch(o){throw hn(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}`),o}finally{be=s}}try{return t===void 0?new e(...Xi(e).map(Sr,this)):new e(...Xi(e).map(Sr,this),...t)}finally{be=s}}hasFactory(e){return this._factories.has(e)}getFactory(e){let t=this._factories.get(e);if(t===void 0){if(lu(e))throw Ce(15,e);this._factories.set(e,t=new V_(e,Xi(e)))}return t}registerFactory(e,t){this._factories.set(e,t)}createChild(e){return e===void 0&&this.config.inheritParentResources?this.config===ts.DEFAULT?new nr(this,this.config):new nr(this,ts.from({...this.config,inheritParentResources:!1})):new nr(this,ts.from(e??this.config))}disposeResolvers(){var r;const e=this._resolvers,t=this._disposableResolvers;let s,n;for([n,s]of t.entries())(r=s.dispose)==null||r.call(s),e.delete(n);t.clear()}useResources(e){const t=e.res;for(const s in t)this.registerResolver(s,t[s])}find(e,t){var o,a;const s=X(t)?`${Dt}:${e}:${t}`:e;let n=this,r=n.res[s];return r==null&&(n=n.root,r=n.res[s]),r==null?null:((a=(o=r.getFactory)==null?void 0:o.call(r,n))==null?void 0:a.Type)??null}dispose(){this._disposableResolvers.size>0&&this.disposeResolvers(),this._resolvers.clear(),this.root===this&&(this._factories.clear(),this.res={})}_jitRegister(e,t){const s=Hn(e);if(!Y(e)&&!s)throw Ce(9,e);if(N_.has(e.name))throw Ce(10,e);if(s){const r=e.register(t,e);if(!(r instanceof Object)||r.resolve==null){const o=t._resolvers.get(e);if(o!=null)return o;throw Ce(11,e)}return r}if(e.$isInterface)throw Ce(12,e.friendlyName);const n=this.config.defaultResolver(e,t);return t._resolvers.set(e,n),n}}class V_{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){const s=be;be=e;let n;{let r,o;try{r=this.dependencies.map(a=>e.get(o=a))}catch(a){throw hn(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}, caused by dependency: ${String(o)}`),be=s,a}try{return t===void 0?n=new this.Type(...r):n=new this.Type(...r,...t),this.transformers==null?n:this.transformers.reduce(hu,n)}catch(a){throw hn(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}`),a}finally{be=s}}try{return t===void 0?n=new this.Type(...this.dependencies.map(Sr,e)):n=new this.Type(...this.dependencies.map(Sr,e),...t),this.transformers==null?n:this.transformers.reduce(hu,n)}finally{be=s}}registerTransformer(e){(this.transformers??(this.transformers=[])).push(e)}}function hu(i,e){return e(i)}function Mn(i){if(i==null)throw Ce(14)}function Sr(i){return this.get(i)}function x(...i){if(be==null)throw Ce(16,...i);if(i.length===1)try{return be.get(i[0])}catch(e){throw hn(`[DEV:aurelia] resolve() call error for: ${String(i[0])}`),e}else{let e;try{return i.map(t=>be.get(e=t))}catch(t){throw hn(`[DEV:aurelia] resolve() call error for: ${String(e)}`),t}}return i.length===1?be.get(i[0]):i.map(Sr,be)}const uu=(i,e,t)=>{if(i instanceof zt&&i._strategy===4){const s=i._state,n=s.length,r=Array(n);let o=0;for(;o<n;++o)r[o]=s[o].resolve(e,t);return r}return[i.resolve(e,t)]},F_={$isResolver:!0,resolve(i,e){return e}},Hn=i=>Y(i==null?void 0:i.register),j_=i=>Hn(i)&&typeof i.registerInRequestor=="boolean",du=i=>j_(i)&&i.registerInRequestor,z_=i=>i.prototype!==void 0,Fa=i=>X(i)&&i.indexOf(":")>0;class H_{constructor(e,t){this._container=e,this._key=t}instance(e){return this._registerResolver(0,e)}singleton(e){return this._registerResolver(1,e)}transient(e){return this._registerResolver(2,e)}callback(e){return this._registerResolver(3,e)}cachedCallback(e){return this._registerResolver(3,_p(e))}aliasTo(e){return this._registerResolver(5,e)}_registerResolver(e,t){const{_container:s,_key:n}=this;return this._container=this._key=void 0,s.registerResolver(n,new zt(n,e,t))}}const Nn=i=>{const e=i.slice(),t=Object.keys(i),s=t.length;let n;for(let r=0;r<s;++r)n=t[r],un(n)||(e[n]=i[n]);return e},Co=qs("di:paramtypes"),G_=i=>jt(Co,i),bp=i=>jt("design:paramtypes",i),pu=i=>{var e;return(e=i.metadata)[Co]??(e[Co]=[])},Xi=i=>{const e=qs("di:dependencies");let t=jt(e,i);if(t===void 0){const s=i.inject;if(s===void 0){const n=bp(i),r=G_(i);if(n===void 0)if(r===void 0){const o=Object.getPrototypeOf(i);Y(o)&&o!==Function.prototype?t=Nn(Xi(o)):t=[]}else t=Nn(r);else if(r===void 0)t=Nn(n);else{t=Nn(n);let o=r.length,a,l=0;for(;l<o;++l)a=r[l],a!==void 0&&(t[l]=a);const c=Object.keys(r);let u;for(l=0,o=c.length,l=0;l<o;++l)u=c[l],un(u)||(t[u]=r[u])}}else t=Nn(s);Cr(t,i,e)}return t},hs=(i,e)=>{const t=Y(i)?i:e,s=(X(i)?i:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:s,toString:()=>`InterfaceSymbol<${s}>`,register:t!=null?(r,o)=>t(new H_(r,o??n)):void 0};return n},$n=(...i)=>(e,t)=>{switch(t.kind){case"class":{const s=pu(t);let n,r=0;for(;r<i.length;++r)n=i[r],n!==void 0&&(s[r]=n);break}case"field":{const s=pu(t),n=i[0];n!==void 0&&(s[t.name]=n);break}default:throw Ce(22,String(t.name),t.kind)}},at=(C_(),{createContainer:M_,getDesignParamtypes:bp,getDependencies:Xi,createInterface:hs,inject:$n,transient(i){return i.register=function(e){return gp(i,i).register(e,i)},i.registerInRequestor=!1,i},singleton(i,e=q_){return i.register=function(t){return kr(i,i).register(t,i)},i.registerInRequestor=e.scoped,i}}),Ni=hs("IContainer"),U_=Ni;function fu(i,e){return at.transient(i)}function W_(i,e){return i==null?fu:fu(i)}const q_={scoped:!1},gu=at.singleton;function Q_(i,e){return Y(i)?gu(i):function(t,s){return gu(t,i)}}class zt{get $isResolver(){return!0}constructor(e,t,s){this._resolving=!1,this._cachedFactory=null,this._key=e,this._strategy=t,this._state=s}register(e,t){return e.registerResolver(t||this._key,this)}resolve(e,t){switch(this._strategy){case 0:return this._state;case 1:{if(this._resolving)throw Ce(3,this._state.name);return this._resolving=!0,this._state=(this._cachedFactory=e.getFactory(this._state)).construct(t),this._strategy=0,this._resolving=!1,this._state}case 2:{const s=e.getFactory(this._state);if(s===null)throw Ce(4,this._key);return s.construct(t)}case 3:return this._state(e,t,this);case 4:return this._state[0].resolve(e,t);case 5:return t.get(this._state);default:throw Ce(5,this._strategy)}}getFactory(e){var t,s;switch(this._strategy){case 1:case 2:return e.getFactory(this._state);case 5:return((s=(t=e.getResolver(this._state))==null?void 0:t.getFactory)==null?void 0:s.call(t,e))??null;case 0:return this._cachedFactory;default:return null}}}class $e{get friendlyName(){return this._name}constructor(e,t=null,s=null){this._name=e,this._instance=t,this._Type=s}prepare(e){this._instance=e}get $isResolver(){return!0}resolve(){if(this._instance==null)throw Ce(13,this._name);return this._instance}getFactory(e){return this._Type==null?null:e.getFactory(this._Type)}dispose(){this._instance=null}}class K_{constructor(e,t){this.key=e,this.params=t}register(e){e.has(this.key,!0)?e.get(this.key).register(e,...this.params):e.register(...this.params.filter(t=>typeof t=="object"))}}const U=zr([]),Ke=zr({});function dt(){}const xn=hs("IPlatform");function Gr(i){return function(e){function t(s,n){$n(t)(s,n)}return t.$isResolver=!0,t.resolve=function(s,n){return i(e,s,n)},t}}const Pc=(i,e=!1)=>{function t(s,n){$n(t)(s,n)}return t.$isResolver=!0,t.resolve=(s,n)=>n.getAll(i,e),t},wp=Gr((i,e,t)=>{if(t.has(i,!0))return t.get(i)}),Z_=Gr((i,e,t)=>t.has(i,!1)?t.get(i):void 0),dn=Gr((i,e,t)=>t.has(i,!1)?t.get(i):t.root.get(i)),X_=Gr((i,e,t)=>t.has(i,!1)?t.get(i):t.root.has(i,!1)?t.root.get(i):void 0),J_=Gr((i,e,t)=>t===t.root?t.getAll(i,!1):t.has(i,!1)?t.getAll(i,!1).concat(t.root.getAll(i,!1)):t.root.getAll(i,!1));function Hi(i,e,t,s,n,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=i?s.static?i:i.prototype:null,u=c?Object.getOwnPropertyDescriptor(c,s.name):{},h,p=!1,d=t.length-1;d>=0;d--){var g={};for(var f in s)g[f]=f==="access"?{}:s[f];for(var f in s.access)g.access[f]=s.access[f];g.addInitializer=function(b){if(p)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var _=(0,t[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(u.get=h),(h=o(_.set))&&(u.set=h),(h=o(_.init))&&n.unshift(h)}else(h=o(_))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),p=!0}function Y_(i,e,t){for(var s=arguments.length>2,n=0;n<e.length;n++)t=s?e[n].call(i,t):e[n].call(i);return s?t:void 0}const rr=0,or=1,ar=2,on=3,lr=4,cr=5,e1=6,t1=zr({trace:rr,debug:or,info:ar,warn:on,error:lr,fatal:cr,none:e1}),yp=hs("ILogConfig",i=>i.instance(new o1("no-colors",on))),s1=hs("ISink"),i1=hs("ILogEventFactory",i=>i.singleton(l1)),Me=hs("ILogger",i=>i.singleton(c1)),n1=hs("ILogScope"),r1=zr({key:qs("logger-sink-handles"),define(i,e){Cr(e.handles,i,this.key)},getHandles(i){return jt(this.key,i.constructor)}}),ys=Pl({red(i){return`\x1B[31m${i}\x1B[39m`},green(i){return`\x1B[32m${i}\x1B[39m`},yellow(i){return`\x1B[33m${i}\x1B[39m`},blue(i){return`\x1B[34m${i}\x1B[39m`},magenta(i){return`\x1B[35m${i}\x1B[39m`},cyan(i){return`\x1B[36m${i}\x1B[39m`},white(i){return`\x1B[37m${i}\x1B[39m`},grey(i){return`\x1B[90m${i}\x1B[39m`}});class o1{constructor(e,t){this.colorOptions=e,this.level=t}}const ja=(function(){const i={"no-colors":Pl({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:Pl({TRC:ys.grey("TRC"),DBG:ys.grey("DBG"),INF:ys.white("INF"),WRN:ys.yellow("WRN"),ERR:ys.red("ERR"),FTL:ys.red("FTL"),QQQ:ys.grey("???")})};return(e,t)=>e<=rr?i[t].TRC:e<=or?i[t].DBG:e<=ar?i[t].INF:e<=on?i[t].WRN:e<=lr?i[t].ERR:e<=cr?i[t].FTL:i[t].QQQ})(),_u=(i,e)=>e==="no-colors"?i.join("."):i.map(ys.cyan).join("."),za=(i,e)=>e==="no-colors"?new Date(i).toISOString():ys.grey(new Date(i).toISOString());class a1{constructor(e,t,s,n,r,o){this.severity=e,this.message=t,this.optionalParams=s,this.scope=n,this.colorOptions=r,this.timestamp=o}toString(){const{severity:e,message:t,scope:s,colorOptions:n,timestamp:r}=this;return s.length===0?`${za(r,n)} [${ja(e,n)}] ${t}`:`${za(r,n)} [${ja(e,n)} ${_u(s,n)}] ${t}`}getFormattedLogInfo(e=!1){const{severity:t,message:s,scope:n,colorOptions:r,timestamp:o,optionalParams:a}=this;let l=null,c="";e&&s instanceof Error?l=s:c=s;const u=n.length===0?"":` ${_u(n,r)}`;let h=`${za(o,r)} [${ja(t,r)}${u}] ${c}`;if(a===void 0||a.length===0)return l===null?[h]:[h,l];let p=0;for(;h.includes("%s");)h=h.replace("%s",String(a[p++]));return l!==null?[h,l,...a.slice(p)]:[h,...a.slice(p)]}}class l1{constructor(){this.config=x(yp)}createLogEvent(e,t,s,n){return new a1(t,s,n,e.scope,this.config.colorOptions,Date.now())}}let c1=(()=>{var i;let e=[],t,s,n,r,o,a;return i=class{constructor(c=x(yp),u=x(i1),h=x(Pc(s1)),p=x(wp(n1))??[],d=null){this.scope=(Y_(this,e),p),this._scopedLoggers=ce();let g,f,_,b,v,$;if(this.config=c,this._factory=u,this.sinks=h,d===null){this.root=this,this.parent=this,g=this._traceSinks=[],f=this._debugSinks=[],_=this._infoSinks=[],b=this._warnSinks=[],v=this._errorSinks=[],$=this._fatalSinks=[];for(const m of h){const C=r1.getHandles(m);((C==null?void 0:C.includes(rr))??!0)&&g.push(m),((C==null?void 0:C.includes(or))??!0)&&f.push(m),((C==null?void 0:C.includes(ar))??!0)&&_.push(m),((C==null?void 0:C.includes(on))??!0)&&b.push(m),((C==null?void 0:C.includes(lr))??!0)&&v.push(m),((C==null?void 0:C.includes(cr))??!0)&&$.push(m)}}else this.root=d.root,this.parent=d,g=this._traceSinks=d._traceSinks,f=this._debugSinks=d._debugSinks,_=this._infoSinks=d._infoSinks,b=this._warnSinks=d._warnSinks,v=this._errorSinks=d._errorSinks,$=this._fatalSinks=d._fatalSinks}trace(c,...u){this.config.level<=rr&&this._emit(this._traceSinks,rr,c,u)}debug(c,...u){this.config.level<=or&&this._emit(this._debugSinks,or,c,u)}info(c,...u){this.config.level<=ar&&this._emit(this._infoSinks,ar,c,u)}warn(c,...u){this.config.level<=on&&this._emit(this._warnSinks,on,c,u)}error(c,...u){this.config.level<=lr&&this._emit(this._errorSinks,lr,c,u)}fatal(c,...u){this.config.level<=cr&&this._emit(this._fatalSinks,cr,c,u)}scopeTo(c){const u=this._scopedLoggers;let h=u[c];return h===void 0&&(h=u[c]=new i(this.config,this._factory,null,this.scope.concat(c),this)),h}_emit(c,u,h,p){const d=Y(h)?h():h,g=this._factory.createLogEvent(this,u,d,p);for(let f=0,_=c.length;f<_;++f)c[f].handleEvent(g)}},(()=>{const l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[zi],s=[zi],n=[zi],r=[zi],o=[zi],a=[zi],Hi(i,null,t,{kind:"method",name:"trace",static:!1,private:!1,access:{has:c=>"trace"in c,get:c=>c.trace},metadata:l},null,e),Hi(i,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:c=>"debug"in c,get:c=>c.debug},metadata:l},null,e),Hi(i,null,n,{kind:"method",name:"info",static:!1,private:!1,access:{has:c=>"info"in c,get:c=>c.info},metadata:l},null,e),Hi(i,null,r,{kind:"method",name:"warn",static:!1,private:!1,access:{has:c=>"warn"in c,get:c=>c.warn},metadata:l},null,e),Hi(i,null,o,{kind:"method",name:"error",static:!1,private:!1,access:{has:c=>"error"in c,get:c=>c.error},metadata:l},null,e),Hi(i,null,a,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:c=>"fatal"in c,get:c=>c.fatal},metadata:l},null,e),l&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),i})();const h1=hs(i=>i.singleton(p1)),u1=i=>i;class d1{constructor(e){this._promiseCache=new Map,this._objectCache=new Map,this._transform=e}transform(e){if(e instanceof Promise)return this._transformPromise(e);if(typeof e=="object"&&e!==null)return this._transformObject(e);throw Ce(21,e)}_transformPromise(e){if(this._promiseCache.has(e))return this._promiseCache.get(e);const t=e.then(s=>this._transformObject(s));return this._promiseCache.set(e,t),t.then(s=>{this._promiseCache.set(e,s)}),t}_transformObject(e){if(this._objectCache.has(e))return this._objectCache.get(e);const t=this._transform(this._analyze(e));return this._objectCache.set(e,t),t instanceof Promise&&t.then(s=>{this._objectCache.set(e,s)}),t}_analyze(e){if(e==null)throw Ce(21,e);if(typeof e!="object")return new mu(e,[]);let t,s,n,r;const o=[];for(const a in e){switch(typeof(t=e[a])){case"object":if(t===null)continue;s=Y(t.register),n=!1,r=null;break;case"function":s=Y(t.register),n=t.prototype!==void 0,r=jt(Dt,t)??null;break;default:continue}o.push(new f1(a,t,s,n,r))}return new mu(e,o)}}class p1{constructor(){this.transformers=new Map}load(e,t=u1){const s=this.transformers;let n=s.get(t);return n===void 0&&s.set(t,n=new d1(t)),n.transform(e)}dispose(){this.transformers.clear()}}class mu{constructor(e,t){this.raw=e,this.items=t}}class f1{constructor(e,t,s,n,r){this.key=e,this.value=t,this.isRegistry=s,this.isConstructable=n,this.definition=r}}class g1{constructor(e,t){this.type=e,this.cb=t}handle(e){e instanceof this.type&&this.cb.call(null,e)}}const pa=hs("IEventAggregator",i=>i.singleton(_1));class _1{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(e,t){if(!e)throw Ce(18,e);if(X(e)){let s=this.eventLookup[e];if(s!==void 0){s=s.slice();const n=s.length;for(let r=0;r<n;r++)s[r](t,e)}}else{const s=this.messageHandlers.slice(),n=s.length;for(let r=0;r<n;r++)s[r].handle(e)}}subscribe(e,t){if(!e)throw Ce(19,e);let s,n;return X(e)?(this.eventLookup[e]===void 0&&(this.eventLookup[e]=[]),s=t,n=this.eventLookup[e]):(s=new g1(e,t),n=this.messageHandlers),n.push(s),{dispose(){const r=n.indexOf(s);r!==-1&&n.splice(r,1)}}}subscribeOnce(e,t){const s=this.subscribe(e,(n,r)=>{s.dispose(),t(n,r)});return s}}const Cp="AccessThis",m1="AccessBoundary",Tc="AccessGlobal",Ec="AccessScope",v1="ArrayLiteral",b1="ObjectLiteral",w1="PrimitiveLiteral",y1="New",C1="Template",k1="Unary",S1="CallScope",$1="CallMember",x1="CallFunction",A1="CallGlobal",fa="AccessMember",kp="AccessKeyed",I1="TaggedTemplate",R1="Binary",P1="Conditional",T1="Assign",E1="ArrowFunction",O1="ValueConverter",B1="BindingBehavior",Sp="ArrayBindingPattern",$p="ObjectBindingPattern",xp="BindingIdentifier",L1="ForOfStatement",M1="Interpolation",Ap="ArrayDestructuring",N1="ObjectDestructuring",D1="DestructuringAssignmentLeaf",V1="Custom";class Ip{constructor(e){this.value=e,this.$kind=V1}evaluate(...e){return this.value}assign(...e){return e}bind(...e){}unbind(...e){}accept(e){}}class F1{constructor(e,t,s){this.expression=e,this.name=t,this.args=s,this.$kind=B1,this.key=`_bb_${t}`}}class j1{constructor(e,t,s){this.expression=e,this.name=t,this.args=s,this.$kind=O1}}class z1{constructor(e,t,s="="){this.target=e,this.value=t,this.op=s,this.$kind=T1}}class H1{constructor(e,t,s){this.condition=e,this.yes=t,this.no=s,this.$kind=P1}}class G1{constructor(e){this.name=e,this.$kind=Tc}}class hr{constructor(e=0){this.ancestor=e,this.$kind=Cp}}class U1{constructor(){this.$kind=m1}}class ur{constructor(e,t=0){this.name=e,this.ancestor=t,this.$kind=Ec}}const Rp=i=>i.$kind===Tc||(i.$kind===fa||i.$kind===kp)&&i.accessGlobal;class Tl{constructor(e,t,s=!1){this.object=e,this.name=t,this.optional=s,this.$kind=fa,this.accessGlobal=Rp(e)}}class Pp{constructor(e,t,s=!1){this.object=e,this.key=t,this.optional=s,this.$kind=kp,this.accessGlobal=Rp(e)}}class W1{constructor(e,t){this.func=e,this.args=t,this.$kind=y1}}class Tp{constructor(e,t,s=0,n=!1){this.name=e,this.args=t,this.ancestor=s,this.optional=n,this.$kind=S1}}class Bo{constructor(e,t,s,n=!1,r=!1){this.object=e,this.name=t,this.args=s,this.optionalMember=n,this.optionalCall=r,this.$kind=$1}}class ko{constructor(e,t,s=!1){this.func=e,this.args=t,this.optional=s,this.$kind=x1}}class q1{constructor(e,t){this.name=e,this.args=t,this.$kind=A1}}class Q1{constructor(e,t,s){this.operation=e,this.left=t,this.right=s,this.$kind=R1}}class vu{constructor(e,t,s=0){this.operation=e,this.expression=t,this.pos=s,this.$kind=k1}}class Fe{constructor(e){this.value=e,this.$kind=w1}}Fe.$undefined=new Fe(void 0);Fe.$null=new Fe(null);Fe.$true=new Fe(!0);Fe.$false=new Fe(!1);Fe.$empty=new Fe("");class El{constructor(e){this.elements=e,this.$kind=v1}}El.$empty=new El(U);class Ol{constructor(e,t){this.keys=e,this.values=t,this.$kind=b1}}Ol.$empty=new Ol(U,U);class Lo{constructor(e,t=U){this.cooked=e,this.expressions=t,this.$kind=C1}}Lo.$empty=new Lo([""]);class Ep{constructor(e,t,s,n=U){this.cooked=e,this.func=s,this.expressions=n,this.$kind=I1,e.raw=t}}class K1{constructor(e){this.elements=e,this.$kind=Sp}}class Z1{constructor(e,t){this.keys=e,this.values=t,this.$kind=$p}}class Mo{constructor(e){this.name=e,this.$kind=xp}}class X1{constructor(e,t,s){this.declaration=e,this.iterable=t,this.semiIdx=s,this.$kind=L1}}class J1{constructor(e,t=U){this.parts=e,this.expressions=t,this.$kind=M1,this.isMulti=t.length>1,this.firstExpression=t[0]}}class Y1{constructor(e,t,s,n){this.$kind=e,this.list=t,this.source=s,this.initializer=n}}class Op{constructor(e,t,s){this.target=e,this.source=t,this.initializer=s,this.$kind=D1}}class Bl{constructor(e,t,s=!1){this.args=e,this.body=t,this.rest=s,this.$kind=E1}}const Ll=String,So=()=>Object.create(null),pe=(i,...e)=>new Error(`AUR${Ll(i).padStart(4,"0")}: ${tm(i,...e)}`),em={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`},tm=(i,...e)=>{var s;let t=em[i];for(let n=0;n<e.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(t);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=e[n];if(l!=null)switch(a){case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=Ll(l[a.slice(1)]):l=Ll(l)}t=t.slice(0,o.index)+l+t.slice(r.lastIndex),o=r.exec(t)}}return t},An=at.createInterface("IExpressionParser");class Bp{constructor(){this._expressionLookup=So(),this._forOfLookup=So(),this._interpolationLookup=So()}parse(e,t){let s;switch(t){case Np:return new Ip(e);case No:return s=this._interpolationLookup[e],s===void 0&&(s=this._interpolationLookup[e]=this.$parse(e,t)),s;case ks:return s=this._forOfLookup[e],s===void 0&&(s=this._forOfLookup[e]=this.$parse(e,t)),s;default:{if(e.length===0){if(t===om||t===bu)return Fe.$empty;throw Cm()}return s=this._expressionLookup[e],s===void 0&&(s=this._expressionLookup[e]=this.$parse(e,t)),s}}}$parse(e,t){return ie=e,Z=0,is=e.length,vt=0,Pi=0,L=6291456,ge="",he=Ti(0),re=!0,se=!1,Gn=!0,Bc=-1,ke(61,t===void 0?bu:t)}}Bp.register=Hr(An);function Oc(i){switch(i){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return i}}const sm=Fe.$false,im=Fe.$true,nm=Fe.$null,Lp=Fe.$undefined,dr=new hr(0),Ha=new hr(1),rm=new U1,$s="None",No="Interpolation",ks="IsIterator",Mp="IsChainable",om="IsFunction",bu="IsProperty",Np="IsCustom";let ie="",Z=0,is=0,vt=0,Pi=0,L=6291456,ge="",he,re=!0,se=!1,Gn=!0,Bc=-1;const $r=String.fromCharCode,Ti=i=>ie.charCodeAt(i),xs=()=>ie.slice(Pi,Z),am="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function ke(i,e){if(e===Np)return new Ip(ie);if(Z===0){if(e===No)return gm();if(j(),L&4194304)throw bm()}re=577>i,se=!1,Gn=579>i;let t=!1,s,n=0;if(L&131072){const r=Wi[L&63];j(),s=new vu(r,ke(579,e)),re=!1}else{e:switch(L){case 12296:n=vt,re=!1,Gn=!1;do switch(j(),++n,L){case 65547:if(j(),(L&12288)===0)throw vs();break;case 12:case 13:throw vs();case 2162702:if(se=!0,j(),(L&12288)===0){s=n===0?dr:n===1?Ha:new hr(n),t=!0;break e}break;default:if(L&2097152){s=n===0?dr:n===1?Ha:new hr(n);break e}throw wm()}while(L===12296);case 4096:{const r=ge;if(e===ks)s=new Mo(r);else if(Gn&&am.includes(r))s=new G1(r);else{if(Gn&&r==="import")throw Am();s=new ur(r,n)}if(re=!se,j(),Zt(53)){if(L===524298)throw zp();const o=se,a=vt;++vt;const l=ke(62,$s);se=o,vt=a,re=!1,s=new Bl([new Mo(r)],l)}break}case 12:throw Em();case 13:throw Ml();case 12293:switch(re=!1,j(),vt){case 0:s=dr;break;case 1:s=Ha;break;default:s=new hr(vt);break}break;case 12294:re=!1,j(),s=rm;break;case 2688009:s=hm(e);break;case 2688020:s=ie.search(/\s+of\s+/)>Z?lm():um(e);break;case 524298:s=fm(e);break;case 2163762:s=new Lo([ge]),re=!1,j();break;case 2163763:s=Ga(e,s,!1);break;case 16384:case 32768:s=new Fe(ge),re=!1,j();break;case 8194:case 8195:case 8193:case 8192:s=Wi[L&63],re=!1,j();break;case 8196:{j();const r=ke(578,e);let o;L===2688009?o=xt():(o=[],j()),s=new W1(r,o),re=!1;break}default:throw Z>=is?ym():Ua()}if(e===ks)return pm(s);switch(L){case 2228282:case 2228283:s=new vu(Wi[L&63],s,1),j(),re=!1;break}if(579<i)return s;if(L===12||L===13)throw vs();if(s.$kind===Cp)switch(L){case 2162702:if(se=!0,re=!1,j(),(L&13312)===0)throw Lc();if(L&12288)s=new ur(ge,s.ancestor),j();else if(L===2688009)s=new ko(s,xt(),!0);else if(L===2688020)s=$o(s,!0);else throw xo();break;case 65547:if(re=!se,j(),(L&12288)===0)throw vs();s=new ur(ge,s.ancestor),j();break;case 12:case 13:throw vs();case 2688009:s=new ko(s,xt(),t);break;case 2688020:s=$o(s,t);break;case 2163762:s=wu(s);break;case 2163763:s=Ga(e,s,!0);break}for(;(L&65536)>0;)switch(L){case 2162702:s=cm(s);break;case 65547:if(j(),(L&12288)===0)throw vs();s=Dp(s,!1);break;case 12:case 13:throw vs();case 2688009:if(i===578)return s;s.$kind===Ec?s=new Tp(s.name,xt(),s.ancestor,!1):s.$kind===fa?s=new Bo(s.object,s.name,xt(),s.optional,!1):s.$kind===Tc?s=new q1(s.name,xt()):s=new ko(s,xt(),!1);break;case 2688020:s=$o(s,!1);break;case 2163762:if(se)throw xo();s=wu(s);break;case 2163763:if(se)throw xo();s=Ga(e,s,!0);break}}if(L===12||L===13)throw vs();if(577<i)return s;for(;(L&262144)>0;){const r=L;if((r&960)<=i)break;j(),s=new Q1(Wi[r&63],s,ke(r&960,e)),re=!1}if(63<i)return s;if(Zt(6291480)){const r=ke(62,e);Ft(6291478),s=new H1(s,r,ke(62,e)),re=!1}if(62<i)return s;switch(L){case 4194352:case 4194358:case 4194359:case 4194360:case 4194361:{if(!re)throw km();const r=Wi[L&63];j(),s=new z1(s,ke(62,e),r);break}}if(61<i)return s;for(;Zt(6291482);){if(L===6291456)throw Sm();const r=ge;j();const o=new Array;for(;Zt(6291478);)o.push(ke(62,e));s=new j1(s,r,o)}for(;Zt(6291481);){if(L===6291456)throw $m();const r=ge;j();const o=new Array;for(;Zt(6291478);)o.push(ke(62,e));s=new F1(s,r,o)}if(L!==6291456){if(e===No&&L===7340047)return s;if(e===Mp&&L===6291479){if(Z===is)throw Ua();return Bc=Z-1,s}throw xs()==="of"?xm():Ua()}return s}function lm(){const i=[],e=new Y1(Ap,i,void 0,void 0);let t="",s=!0,n=0;for(;s;)switch(j(),L){case 7340053:s=!1,r();break;case 6291475:r();break;case 4096:t=xs();break;default:throw Pm()}return Ft(7340053),e;function r(){t!==""?(i.push(new Op(new Tl(dr,t),new Pp(dr,new Fe(n++)),void 0)),t=""):n++}}function xt(){const i=se;j();const e=[];for(;L!==7340048&&(e.push(ke(62,$s)),!!Zt(6291475)););return Ft(7340048),re=!1,se=i,e}function $o(i,e){const t=se;return j(),i=new Pp(i,ke(62,$s),e),Ft(7340053),re=!t,se=t,i}function cm(i){if(se=!0,re=!1,j(),(L&13312)===0)throw Lc();if(L&12288)return Dp(i,!0);if(L===2688009)return i.$kind===Ec?new Tp(i.name,xt(),i.ancestor,!0):i.$kind===fa?new Bo(i.object,i.name,xt(),i.optional,!0):new ko(i,xt(),!0);if(L===2688020)return $o(i,!0);throw xo()}function Dp(i,e){const t=ge;switch(L){case 2162702:{se=!0,re=!1;const s=Z,n=Pi,r=L,o=he,a=ge,l=re,c=se;if(j(),(L&13312)===0)throw Lc();return L===2688009?new Bo(i,t,xt(),e,!0):(Z=s,Pi=n,L=r,he=o,ge=a,re=l,se=c,new Tl(i,t,e))}case 2688009:return re=!1,new Bo(i,t,xt(),e,!1);default:return re=!se,j(),new Tl(i,t,e)}}function hm(i){j();const e=Z,t=Pi,s=L,n=he,r=ge,o=se,a=[];let l=1,c=!1;e:for(;;){if(L===13){if(j(),L!==4096)throw vs();if(a.push(new Mo(ge)),j(),L===6291475)throw Tm();if(L!==7340048||(j(),L!==53))throw Ml();j();const p=se,d=vt;++vt;const g=ke(62,$s);return se=p,vt=d,re=!1,new Bl(a,g,!0)}switch(L){case 4096:a.push(new Mo(ge)),j();break;case 7340048:j();break e;case 524298:case 2688020:j(),l=4;break;case 6291475:l=2,c=!0;break e;case 2688009:l=2;break e;default:j(),l=2;break}switch(L){case 6291475:if(j(),c=!0,l===1)break;break e;case 7340048:j();break e;case 4194352:l===1&&(l=3);break e;case 53:if(c)throw uo();j(),l=2;break e;default:l===1&&(l=2);break e}}if(L===53){if(l===1){if(j(),L===524298)throw zp();const p=se,d=vt;++vt;const g=ke(62,$s);return se=p,vt=d,re=!1,new Bl(a,g)}throw uo()}else if(l===1&&a.length===0)throw jp(53);if(c)switch(l){case 2:throw uo();case 3:throw ku();case 4:throw Su()}Z=e,Pi=t,L=s,he=n,ge=r,se=o;const u=se,h=ke(62,i);if(se=u,Ft(7340048),L===53)switch(l){case 2:throw uo();case 3:throw ku();case 4:throw Su()}return h}function um(i){const e=se;j();const t=new Array;for(;L!==7340053;)if(Zt(6291475)){if(t.push(Lp),L===7340053)break}else if(t.push(ke(62,i===ks?$s:i)),Zt(6291475)){if(L===7340053)break}else break;return se=e,Ft(7340053),i===ks?new K1(t):(re=!1,new El(t))}const dm=[Sp,$p,xp,Ap,N1];function pm(i){if(!dm.includes(i.$kind)||L!==4204596)throw Cu(i.$kind);j();const e=i,t=ke(61,Mp);return new X1(e,t,Bc)}function fm(i){const e=se,t=new Array,s=new Array;for(j();L!==7340047;){if(t.push(ge),L&49152)j(),Ft(6291478),s.push(ke(62,i===ks?$s:i));else if(L&12288){const n=he,r=L,o=Z;j(),Zt(6291478)?s.push(ke(62,i===ks?$s:i)):(he=n,L=r,Z=o,s.push(ke(580,i===ks?$s:i)))}else throw Im();L!==7340047&&Ft(6291475)}return se=e,Ft(7340047),i===ks?new Z1(t,s):(re=!1,new Ol(t,s))}function gm(){const i=[],e=[],t=is;let s="";for(;Z<t;){switch(he){case 36:if(Ti(Z+1)===123){i.push(s),s="",Z+=2,he=Ti(Z),j();const n=ke(61,No);e.push(n);continue}else s+="$";break;case 92:s+=$r(Oc(z()));break;default:s+=$r(he)}z()}return e.length?(i.push(s),new J1(i,e)):null}function Ga(i,e,t){const s=se,n=[ge];Ft(2163763);const r=[ke(62,i)];for(;(L=vm())!==2163762;)n.push(ge),Ft(2163763),r.push(ke(62,i));return n.push(ge),re=!1,se=s,t?(j(),new Ep(n,n,e,r)):(j(),new Lo(n,r))}function wu(i){re=!1;const e=[ge];return j(),new Ep(e,e,i)}function j(){for(;Z<is;)if(Pi=Z,(L=Bm[he]())!=null)return;L=6291456}function z(){return he=Ti(++Z)}function _m(){for(;Lm[z()];);const i=Om[ge=xs()];return i===void 0?4096:i}function yu(i){let e=he;if(i===!1){do e=z();while(e<=57&&e>=48);if(e!==46)return ge=parseInt(xs(),10),32768;if(e=z(),Z>=is)return ge=parseInt(xs().slice(0,-1),10),32768}if(e<=57&&e>=48)do e=z();while(e<=57&&e>=48);else he=Ti(--Z);return ge=parseFloat(xs()),32768}function mm(){const i=he;z();let e=0;const t=new Array;let s=Z;for(;he!==i;)if(he===92)t.push(ie.slice(s,Z)),z(),e=Oc(he),z(),t.push($r(e)),s=Z;else{if(Z>=is)throw Rm();z()}const n=ie.slice(s,Z);return z(),t.push(n),ge=t.join(""),16384}function Vp(){let i=!0,e="";for(;z()!==96;)if(he===36)if(Z+1<is&&Ti(Z+1)===123){Z++,i=!1;break}else e+="$";else if(he===92)e+=$r(Oc(z()));else{if(Z>=is)throw Fp();e+=$r(he)}return z(),ge=e,i?2163762:2163763}const vm=()=>{if(Z>=is)throw Fp();return Z--,Vp()},Zt=i=>L===i?(j(),!0):!1,Ft=i=>{if(L===i)j();else throw jp(i)},bm=()=>pe(151,ie),Ml=()=>pe(152,ie),vs=()=>pe(153,ie),wm=()=>pe(154,ie),ym=()=>pe(155,ie),Ua=()=>pe(156,xs(),Z,ie),Cm=()=>pe(157),km=()=>pe(158,ie),Sm=()=>pe(159,ie),$m=()=>pe(160,ie),xm=()=>pe(161,ie),Am=()=>pe(162,ie),Cu=i=>pe(163,ie,i),Im=()=>pe(164,ie),Rm=()=>pe(165,ie),Fp=()=>pe(166,ie),jp=i=>pe(167,Wi[i&63],ie),Pm=()=>pe(170,xs(),Z,ie),Lc=()=>pe(171,xs(),Z-1,ie),xo=()=>pe(172,ie),uo=()=>pe(173,ie),ku=()=>pe(174,ie),Su=()=>pe(175,ie),Tm=()=>pe(176,ie),zp=()=>pe(178,ie),Em=()=>pe(179,Z-1,ie),Wi=[sm,im,nm,Lp,"new","this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","**","=","!",2163762,2163763,"of","=>","+=","-=","*=","/=","++","--"],Om=Object.assign(So(),{true:8193,null:8194,false:8192,undefined:8195,new:8196,this:12294,$this:12293,$parent:12296,in:6562214,instanceof:6562215,typeof:139306,void:139307,of:4204596}),{CharScanners:Bm,IdParts:Lm}=(()=>{const i=()=>{throw pe(168,ie)};i.notMapped=!0;const e={IdStart:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Digit:[48,58],Skip:[0,33,127,161]},t=(o,a,l,c)=>{const u=l.length;for(let h=0;h<u;h+=2){const p=l[h];let d=l[h+1];d=d>0?d:p+1,o&&o.fill(c,p,d)}},s=(o=>(t(o,null,e.IdStart,1),t(o,null,e.Digit,1),o))(new Uint8Array(65535)),n=o=>()=>(z(),o),r=new Array(65535);return r.fill(i,0,65535),t(r,null,e.Skip,()=>(z(),null)),t(r,null,e.IdStart,_m),t(r,null,e.Digit,()=>yu(!1)),r[34]=r[39]=()=>mm(),r[96]=()=>Vp(),r[33]=()=>z()!==61?131121:z()!==61?6553951:(z(),6553953),r[61]=()=>z()===62?(z(),53):he!==61?4194352:z()!==61?6553950:(z(),6553952),r[38]=()=>z()!==38?6291481:(z(),6553885),r[124]=()=>z()!==124?6291482:(z(),6553820),r[63]=()=>{if(z()===46){const o=Ti(Z+1);return o<=48||o>=57?(z(),2162702):6291480}return he!==63?6291480:(z(),6553755)},r[46]=()=>z()<=57&&he>=48?yu(!0):he===46?z()!==46?12:(z(),13):65547,r[60]=()=>z()!==61?6554018:(z(),6554020),r[62]=()=>z()!==61?6554019:(z(),6554021),r[37]=n(6554157),r[40]=n(2688009),r[41]=n(7340048),r[42]=()=>z()===61?(z(),4194360):he===42?(z(),6554223):6554156,r[43]=()=>z()===43?(z(),2228282):he!==61?2490856:(z(),4194358),r[44]=n(6291475),r[45]=()=>z()===45?(z(),2228283):he!==61?2490857:(z(),4194359),r[47]=()=>z()!==61?6554158:(z(),4194361),r[58]=n(6291478),r[59]=n(6291479),r[91]=n(2688020),r[93]=n(7340053),r[123]=n(524298),r[125]=n(7340047),{CharScanners:r,IdParts:s}})(),us=at.createInterface,In=Object.freeze,{aliasTo:$u,singleton:Mc}=Pt,Nt="Interpolation",Hp="IsFunction",ds="IsProperty",qi="custom-element",Di=In({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),ga=us("ITemplateCompiler"),Gp=us("IAttrMapper"),ye=(i,...e)=>{const t=String(i).padStart(4,"0"),s=Nm(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/0088-to-0723/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${n}`)},Mm={88:"AttributeParser is already initialized; cannot add patterns after initialization.",89:'Attribute pattern "{{0}}" has already been registered.',99:"Method {{0}} not implemented",157:"Binding command {{0}} has already been registered.",701:'Template compilation error in element "{{0:name}}": the root <template> cannot be a local element template.',702:'Template compilation error: attribute "{{0}}" is invalid on element surrogate.',703:'Template compilation error: template controller "{{0}}" is invalid on element surrogate.',704:'Template compilation error: Invalid command "{{0:.command}}" for <let>. Only to-view/bind supported.',706:'Template compilation error: detected projection with [au-slot="{{0}}"] attempted on a non custom element {{1}}.',707:"Template compilation error: creating binding to non-bindable property {{0}} on {{1}}.",708:'Template compilation error: the custom element "{{0}}" does not have any content other than local template(s).',709:'Template compilation error: local element template needs to be defined directly under root of element "{{0}}".',710:'Template compilation error: bindable properties of local element "{{0}}" template needs to be defined directly under <template>.',711:`Template compilation error: the attribute 'property' is missing in {{0:outerHTML}} in local element "{{1}}"`,712:"Template compilation error: Bindable property and attribute needs to be unique; found property: {{0}}, attribute: {{1}}",713:'Template compilation error: unknown binding command: "{{0}}".{{0:bindingCommandHelp}}',714:'Template compilation error: primary already exists on element/attribute "{{0}}"',715:'Template compilation error: the value of "as-custom-element" attribute cannot be empty for local element in element "{{0}}"',716:'Template compilation error: duplicate definition of the local template named "{{0}} in element {{1}}"',717:'Template compilation error: detected a usage of "<slot>" element without specifying shadow DOM options in element: {{0}}',718:'Spreading template controller "{{0}}" is not supported.',719:"Attribute {{0}} has been already registered for {{1:element}}",720:'Spreading syntax "...xxx" is reserved. Encountered "...{{0}}"',721:'Usage of $bindables is only allowed on custom element. Encountered: <{{0}} {{1}}="{{2}}">',722:"Invalid platform object provided to the compilation, no DOM API found.",723:"Template compilation error: Invalid comma-separated class binding syntax in {{0}}. It resulted in no valid class names after parsing.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?"},Nm=(i,...e)=>{var s;let t=Mm[i];for(let n=0;n<e.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(t);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=e[n];if(l!=null)switch(a){case"nodeName":l=l.nodeName.toLowerCase();break;case"name":l=l.name;break;case"typeof":l=typeof l;break;case"ctor":l=l.constructor.name;break;case"controller":l=l.controller.name;break;case"target@property":l=`${l.target}@${l.targetProperty}`;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"bindingCommandHelp":l=Dm(l);break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=String(l[a.slice(1)]):l=String(l)}t=t.slice(0,o.index)+l+t.slice(r.lastIndex),o=r.exec(t)}}return t};function Dm(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}var Up,Wp,qp,Qp,Kp;class Nc{constructor(e,t,s,n){if(this.chars=e,this.repeat=t,this.isSymbol=s,this.isInverted=n,n)switch(e.length){case 0:this.has=this._hasOfNoneInverse;break;case 1:this.has=this._hasOfSingleInverse;break;default:this.has=this._hasOfMultipleInverse}else switch(e.length){case 0:this.has=this._hasOfNone;break;case 1:this.has=this._hasOfSingle;break;default:this.has=this._hasOfMultiple}}equals(e){return this.chars===e.chars&&this.repeat===e.repeat&&this.isSymbol===e.isSymbol&&this.isInverted===e.isInverted}_hasOfMultiple(e){return this.chars.includes(e)}_hasOfSingle(e){return this.chars===e}_hasOfNone(e){return!1}_hasOfMultipleInverse(e){return!this.chars.includes(e)}_hasOfSingleInverse(e){return this.chars!==e}_hasOfNoneInverse(e){return!0}}class Vm{constructor(){this.parts=U,this._pattern="",this._currentRecord={},this._partsRecord={}}get pattern(){const e=this._pattern;return e===""?null:e}set pattern(e){e==null?(this._pattern="",this.parts=U):(this._pattern=e,this.parts=this._partsRecord[e])}append(e,t){const s=this._currentRecord;s[e]===void 0?s[e]=t:s[e]+=t}next(e){const t=this._currentRecord;let s;t[e]!==void 0&&(s=this._partsRecord,s[e]===void 0?s[e]=[t[e]]:s[e].push(t[e]),t[e]=void 0)}}class Dc{get _pattern(){return this._isEndpoint?this._patterns[0]:null}constructor(e,...t){this.charSpec=e,this._nextStates=[],this._types=null,this._isEndpoint=!1,this._patterns=t}findChild(e){const t=this._nextStates,s=t.length;let n=null,r=0;for(;r<s;++r)if(n=t[r],e.equals(n.charSpec))return n;return null}append(e,t){const s=this._patterns;s.includes(t)||s.push(t);let n=this.findChild(e);return n==null&&(n=new Dc(e,t),this._nextStates.push(n),e.repeat&&n._nextStates.push(n)),n}findMatches(e,t){const s=[],n=this._nextStates,r=n.length;let o=0,a=null,l=0,c=0;for(;l<r;++l)if(a=n[l],a.charSpec.has(e))if(s.push(a),o=a._patterns.length,c=0,a.charSpec.isSymbol)for(;c<o;++c)t.next(a._patterns[c]);else for(;c<o;++c)t.append(a._patterns[c],e);return s}}let xu=class{constructor(e){this.text=e;const t=this._len=e.length,s=this._specs=[];let n=0;for(;t>n;++n)s.push(new Nc(e[n],!1,!1,!1))}eachChar(e){const t=this._len,s=this._specs;let n=0;for(;t>n;++n)e(s[n])}},Fm=class{constructor(e){this.text="PART",this._spec=new Nc(e,!0,!1,!0)}eachChar(e){e(this._spec)}};class jm{constructor(e){this.text=e,this._spec=new Nc(e,!1,!0,!1)}eachChar(e){e(this._spec)}}class zm{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const Hm=us("ISyntaxInterpreter",i=>i.singleton(Gm));class Gm{constructor(){this._rootState=new Dc(null),this._initialStates=[this._rootState]}add(e){e=e.slice(0).sort((p,d)=>p.pattern>d.pattern?1:-1);const t=e.length;let s,n,r,o,a,l,c,u=0,h;for(;t>u;){for(s=this._rootState,n=e[u],r=n.pattern,o=new zm,a=this._parse(n,o),l=a.length,c=p=>s=s.append(p,r),h=0;l>h;++h)a[h].eachChar(c);s._types=o,s._isEndpoint=!0,++u}}interpret(e){const t=new Vm,s=e.length;let n=this._initialStates,r=0,o;for(;r<s&&(n=this._getNextStates(n,e.charAt(r),t),n.length!==0);++r);return n=n.filter(Um),n.length>0&&(n.sort(Wm),o=n[0],o.charSpec.isSymbol||t.next(o._pattern),t.pattern=o._pattern),t}_getNextStates(e,t,s){const n=[];let r=null;const o=e.length;let a=0;for(;a<o;++a)r=e[a],n.push(...r.findMatches(t,s));return n}_parse(e,t){const s=[],n=e.pattern,r=n.length,o=e.symbols;let a=0,l=0,c="";for(;a<r;)c=n.charAt(a),o.length===0||!o.includes(c)?a===l&&c==="P"&&n.slice(a,a+4)==="PART"?(l=a=a+4,s.push(new Fm(o)),++t.dynamics):++a:a!==l?(s.push(new xu(n.slice(l,a))),++t.statics,l=a):(s.push(new jm(n.slice(l,a+1))),++t.symbols,l=++a);return l!==a&&(s.push(new xu(n.slice(l,a))),++t.statics),s}}function Um(i){return i._isEndpoint}function Wm(i,e){const t=i._types,s=e._types;return t.statics!==s.statics?s.statics-t.statics:t.dynamics!==s.dynamics?s.dynamics-t.dynamics:t.symbols!==s.symbols?s.symbols-t.symbols:0}class yt{constructor(e,t,s,n,r=null){this.rawName=e,this.rawValue=t,this.target=s,this.command=n,this.parts=r}}const qm=us("IAttributePattern"),Vc=us("IAttributeParser",i=>i.singleton(Qm));class Qm{constructor(){this._cache={},this._patterns={},this._initialized=!1,this._allDefinitions=[],this._interpreter=x(Hm),this._container=x(Ni)}registerPattern(e,t){if(this._initialized)throw ye(88);const s=this._patterns;for(const{pattern:n}of e){if(s[n]!=null)throw ye(89,n);s[n]={patternType:t}}this._allDefinitions.push(...e)}_initialize(){this._interpreter.add(this._allDefinitions);const e=this._container;for(const[,t]of Object.entries(this._patterns))t.pattern=e.get(t.patternType)}parse(e,t){this._initialized||(this._initialize(),this._initialized=!0);let s=this._cache[e];s==null&&(s=this._cache[e]=this._interpreter.interpret(e));const n=s.pattern;return n==null?new yt(e,t,e,null,null):this._patterns[n].pattern[n](e,t,s.parts)}}const ii=In({name:si("attribute-pattern"),create(i,e){return{register(t){t.get(Vc).registerPattern(i,e),Mc(qm,e).register(t)}}}});class Nl{"PART.PART"(e,t,s){return new yt(e,t,s[0],s[1])}"PART.PART.PART"(e,t,s){return new yt(e,t,`${s[0]}.${s[1]}`,s[2])}}Up=Symbol.metadata;Nl[Up]={[cs]:ii.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],Nl)};class Dl{ref(e,t,s){return new yt(e,t,"element","ref")}"PART.ref"(e,t,s){let n=s[0];return n==="view-model"&&(n="component",console.warn(`[aurelia] Detected view-model.ref usage: "${e}=${t}". This is deprecated and component.ref should be used instead`)),new yt(e,t,n,"ref")}}Wp=Symbol.metadata;Dl[Wp]={[cs]:ii.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],Dl)};class Vl{"PART.trigger:PART"(e,t,s){return new yt(e,t,s[0],"trigger",s)}"PART.capture:PART"(e,t,s){return new yt(e,t,s[0],"capture",s)}}qp=Symbol.metadata;Vl[qp]={[cs]:ii.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],Vl)};class Au{":PART"(e,t,s){return new yt(e,t,s[0],"bind")}}Qp=Symbol.metadata;Au[Qp]={[cs]:ii.create([{pattern:":PART",symbols:":"}],Au)};class Iu{"@PART"(e,t,s){return new yt(e,t,s[0],"trigger")}"@PART:PART"(e,t,s){return new yt(e,t,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}Kp=Symbol.metadata;Iu[Kp]={[cs]:ii.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],Iu)};const Fl=Rt.get,Ru=Rt.define,Zp="ra",Xp="rb",Jp="rc",Yp="rd",e0="re",t0="rf",Fc="rg",s0="ri",i0="rj",n0="rk",r0="rl",o0="ha",a0="hb",l0="hc",Km="hd",c0="he",h0="hf",u0="hg",d0="hs",p0="hp",f0="svb",Be=In({hydrateElement:Zp,hydrateAttribute:Xp,hydrateTemplateController:Jp,hydrateLetElement:Yp,setProperty:e0,interpolation:t0,propertyBinding:Fc,letBinding:s0,refBinding:i0,iteratorBinding:n0,multiAttr:r0,textBinding:o0,listenerBinding:a0,attributeBinding:l0,stylePropertyBinding:Km,setAttribute:c0,setClassAttribute:h0,setStyleAttribute:u0,spreadTransferedBinding:d0,spreadElementProp:p0,spreadValueBinding:f0}),Rn=us("Instruction");class _s{constructor(e,t){this.from=e,this.to=t,this.type=t0}}class Ur{constructor(e,t,s){this.from=e,this.to=t,this.mode=s,this.type=Fc}}class Zm{constructor(e,t,s){this.forOf=e,this.to=t,this.props=s,this.type=n0}}class Xm{constructor(e,t){this.from=e,this.to=t,this.type=i0}}class Gi{constructor(e,t){this.value=e,this.to=t,this.type=e0}}class Jm{constructor(e,t,s){this.value=e,this.to=t,this.command=s,this.type=r0}}class Ym{constructor(e,t,s,n,r,o){this.res=e,this.props=t,this.projections=s,this.containerless=n,this.captures=r,this.data=o,this.type=Zp}}class Wa{constructor(e,t,s){this.res=e,this.alias=t,this.props=s,this.type=Xp}}class ev{constructor(e,t,s,n){this.def=e,this.res=t,this.alias=s,this.props=n,this.type=Jp}}class tv{constructor(e,t){this.instructions=e,this.toBindingContext=t,this.type=Yp}}class Pu{constructor(e,t){this.from=e,this.to=t,this.type=s0}}class sv{constructor(e){this.from=e,this.type=o0}}class g0{constructor(e,t,s,n){this.from=e,this.to=t,this.capture=s,this.modifier=n,this.type=a0}}class Tu{constructor(e,t){this.value=e,this.to=t,this.type=c0}}class Eu{constructor(e){this.value=e,this.type=h0}}class Ou{constructor(e){this.value=e,this.type=u0}}class jc{constructor(e,t,s){this.attr=e,this.from=t,this.to=s,this.type=l0}}class Bu{constructor(){this.type=d0}}class Lu{constructor(e){this.instruction=e,this.type=p0}}class jl{constructor(e,t){this.target=e,this.from=t,this.type=f0}}class Do{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return X(e)?(s=e,n={name:s}):(s=e.name,n=e),new Do(t,Fs(zl(t,"name"),s),Te(zl(t,"aliases"),n.aliases,t.aliases),an(s))}register(e,t){const s=this.Type,n=typeof t=="string"?an(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${ye(157,this.name)}`):e.register(e.has(s,!1)?null:Mc(s,s),$u(s,n),...r.map(o=>$u(s,an(o))))}}const Xe="binding-command",Ao=si(Xe),an=i=>`${Ao}:${i}`,zl=(i,e)=>Fl(mp.annotation.keyFor(e),i),iv=(()=>{const i="__au_static_resource__",e=(t,s,n)=>{var o;let r=Fl(i,t);return r==null&&((o=t.$au)==null?void 0:o.type)===s&&(r=n(t.$au,t),Ru(r,t,i)),r};return In({name:Ao,keyFrom:an,define(t,s){const n=Do.create(t,s),r=n.Type;return Ru(n,r,Ao,Dt),r},getAnnotation:zl,find(t,s){const n=t.find(Xe,s);return n==null?null:Fl(Ao,n)??e(n,Xe,Do.create)??null},get(t,s){try{return t.get(dn(an(s)))}catch(n){throw console.log(`


[DEV:aurelia] Cannot retrieve binding command with name




`,s),n}return t.get(dn(an(s)))}})})();class _0{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?De(r):o,e.bindable==null?r=s.map(e.node,r)??De(r):r=e.bindable.name,new Ur(t.parse(o,ds),r,1)}}_0.$au={type:Xe,name:"one-time"};class m0{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?De(r):o,e.bindable==null?r=s.map(e.node,r)??De(r):r=e.bindable.name,new Ur(t.parse(o,ds),r,2)}}m0.$au={type:Xe,name:"to-view"};class v0{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr;let r=n.target,o=n.rawValue;return o=o===""?De(r):o,e.bindable==null?r=s.map(e.node,r)??De(r):r=e.bindable.name,new Ur(t.parse(o,ds),r,4)}}v0.$au={type:Xe,name:"from-view"};class b0{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr;let r=n.target,o=n.rawValue;return o=o===""?De(r):o,e.bindable==null?r=s.map(e.node,r)??De(r):r=e.bindable.name,new Ur(t.parse(o,ds),r,6)}}b0.$au={type:Xe,name:"two-way"};class w0{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr,r=e.bindable;let o=n.rawValue,a=n.target,l,c;return o=o===""?De(a):o,r==null?(c=s.isTwoWay(e.node,a)?6:2,a=s.map(e.node,a)??De(a)):(l=e.def.defaultBindingMode??0,c=r.mode===0||r.mode==null?l==null||l===0?2:l:r.mode,a=r.name),new Ur(t.parse(o,ds),a,X(c)?Di[c]??0:c)}}w0.$au={type:Xe,name:"bind"};class y0{constructor(){this._attrParser=x(Vc)}get ignoreAttr(){return!1}build(e,t){const s=e.bindable===null?De(e.attr.target):e.bindable.name,n=t.parse(e.attr.rawValue,"IsIterator");let r=U;if(n.semiIdx>-1){const o=e.attr.rawValue.slice(n.semiIdx+1),a=o.indexOf(":");if(a>-1){const l=o.slice(0,a).trim(),c=o.slice(a+1).trim(),u=this._attrParser.parse(l,c);r=[new Jm(c,u.target,u.command)]}}return new Zm(n,s,r)}}y0.$au={type:Xe,name:"for"};class C0{get ignoreAttr(){return!0}build(e,t){var s;return new g0(t.parse(e.attr.rawValue,Hp),e.attr.target,!1,((s=e.attr.parts)==null?void 0:s[2])??null)}}C0.$au={type:Xe,name:"trigger"};class k0{get ignoreAttr(){return!0}build(e,t){var s;return new g0(t.parse(e.attr.rawValue,Hp),e.attr.target,!0,((s=e.attr.parts)==null?void 0:s[2])??null)}}k0.$au={type:Xe,name:"capture"};class S0{get ignoreAttr(){return!0}build(e,t){const s=e.attr,n=s.target;let r=s.rawValue;return r=r===""?De(n):r,new jc(n,t.parse(r,ds),n)}}S0.$au={type:Xe,name:"attr"};class $0{get ignoreAttr(){return!0}build(e,t){return new jc("style",t.parse(e.attr.rawValue,ds),e.attr.target)}}$0.$au={type:Xe,name:"style"};class x0{get ignoreAttr(){return!0}build(e,t){let s=e.attr.target;if(s.includes(",")){const n=s.split(",").filter(r=>r.length>0);if(n.length===0)throw ye(723);s=n.join(" ")}return new jc("class",t.parse(e.attr.rawValue,ds),s)}}x0.$au={type:Xe,name:"class"};class A0{get ignoreAttr(){return!0}build(e,t){return new Xm(t.parse(e.attr.rawValue,ds),e.attr.target)}}A0.$au={type:Xe,name:"ref"};class I0{get ignoreAttr(){return!1}build(e){return new jl(e.attr.target,e.attr.rawValue)}}I0.$au={type:Xe,name:"spread"};const nv=us("ITemplateElementFactory",i=>i.singleton(rv)),Mu={};class rv{constructor(){this.p=x(xn),this._template=this.t()}t(){return this.p.document.createElement("template")}createTemplate(e){var s;if(X(e)){let n=Mu[e];if(n===void 0){const r=this._template;r.innerHTML=e;const o=r.content.firstElementChild;t(o)?(this._template=this.t(),n=r):(r.content.removeChild(o),n=o),Mu[e]=n}return n.cloneNode(!0)}if(e.nodeName!=="TEMPLATE"){const n=this.t();return n.content.appendChild(e),n}return(s=e.parentNode)==null||s.removeChild(e),e.cloneNode(!0);function t(n){if(n==null||n.nodeName!=="TEMPLATE"||n.nextElementSibling!=null)return!0;const o=n.previousSibling;if(o!=null)switch(o.nodeType){case 3:return o.textContent.trim().length>0}const a=n.nextSibling;if(a!=null)switch(a.nodeType){case 3:return a.textContent.trim().length>0}return!1}}}const qa="au-start",Qa="au-end",Ka=(i,e,t)=>i.insertBefore(e,t),Nu=(i,e,t)=>{if(i===null)return;const s=t.length;let n=0;for(;s>n;)i.insertBefore(t[n],e),++n},fi=(i,e)=>i.content.appendChild(e),Du=(i,e)=>{const t=e.length;let s=0;for(;t>s;)i.content.appendChild(e[s]),++s},Vu=i=>i.nodeType===1,Fu=i=>i.nodeType===3,Dn="au-slot",ju="default",Vn=(i=>()=>`anonymous-${++i}`)(0);class R0{constructor(){this.debug=!1,this.resolveResources=!0}compile(e,t){var h,p;if(e.template==null||e.needsCompile===!1)return e;const s=new Vo(e,t,null,null,void 0),n=X(e.template)||!e.enhance?s._templateFactory.createTemplate(e.template):e.template,r=n.nodeName===Za&&n.content!=null,o=r?n.content:n,a=uv.findAll(t),l=a.length;let c=0;if(l>0)for(;l>c;)(p=(h=a[c]).compiling)==null||p.call(h,n),++c;if(n.hasAttribute(Hl))throw ye(701,e);return this._compileLocalElement(o,s),this._compileNode(o,s),{...e,name:e.name||Vn(),dependencies:(e.dependencies??U).concat(s.deps??U),instructions:s.rows,surrogates:r?this._compileSurrogate(n,s):U,template:n,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(e,t,s,n,r){const o=new Vo(e,s,null,null,void 0),a=[],l=r??o._findElement(n.nodeName.toLowerCase()),c=l!==null,u=o._exprParser,h=t.length;let p=0,d,g=null,f,_,b,v,$,m=null,C,O,P,N;for(;h>p;++p){if(d=t[p],P=d.target,N=d.rawValue,P==="...$attrs"){a.push(new Bu);continue}if(m=o._getCommand(d),m!==null&&m.ignoreAttr){M.node=n,M.attr=d,M.bindable=null,M.def=null,a.push(m.build(M,o._exprParser,o._attrMapper));continue}if(c&&(b=o._getBindables(l),v=b.attrs[P],v!==void 0)){m==null?(C=u.parse(N,Nt),a.push(new Lu(C==null?new Gi(N,v.name):new _s(C,v.name)))):(M.node=n,M.attr=d,M.bindable=v,M.def=l,a.push(new Lu(m.build(M,o._exprParser,o._attrMapper))));continue}if(g=o._findAttr(P),g!==null){if(g.isTemplateController)throw ye(9998,P);b=o._getBindables(g),O=g.noMultiBindings===!1&&m===null&&Xa(N),O?_=this._compileMultiBindings(n,N,g,o):($=b.primary,m===null?(C=u.parse(N,Nt),_=[C===null?new Gi(N,$.name):new _s(C,$.name)]):(M.node=n,M.attr=d,M.bindable=$,M.def=g,_=[m.build(M,o._exprParser,o._attrMapper)])),(f??(f=[])).push(new Wa(this.resolveResources?g:g.name,g.aliases!=null&&g.aliases.includes(P)?P:void 0,_));continue}if(m==null)if(C=u.parse(N,Nt),C!=null)a.push(new _s(C,o._attrMapper.map(n,P)??De(P)));else switch(P){case"class":a.push(new Eu(N));break;case"style":a.push(new Ou(N));break;default:a.push(new Tu(N,P))}else M.node=n,M.attr=d,M.bindable=null,M.def=null,a.push(m.build(M,o._exprParser,o._attrMapper))}return po(),f!=null?f.concat(a):a}_compileSurrogate(e,t){const s=[],n=e.attributes,r=t._exprParser;let o=n.length,a=0,l,c,u,h,p=null,d,g,f,_,b=null,v,$,m,C;for(;o>a;++a){if(l=n[a],c=l.name,u=l.value,h=t._attrParser.parse(c,u),m=h.target,C=h.rawValue,av[m])throw ye(702,c);if(b=t._getCommand(h),b!==null&&b.ignoreAttr){M.node=e,M.attr=h,M.bindable=null,M.def=null,s.push(b.build(M,t._exprParser,t._attrMapper));continue}if(p=t._findAttr(m),p!==null){if(p.isTemplateController)throw ye(703,m);f=t._getBindables(p),$=p.noMultiBindings===!1&&b===null&&Xa(C),$?g=this._compileMultiBindings(e,C,p,t):(_=f.primary,b===null?(v=r.parse(C,Nt),g=v===null?C===""?[]:[new Gi(C,_.name)]:[new _s(v,_.name)]):(M.node=e,M.attr=h,M.bindable=_,M.def=p,g=[b.build(M,t._exprParser,t._attrMapper)])),e.removeAttribute(c),--a,--o,(d??(d=[])).push(new Wa(this.resolveResources?p:p.name,p.aliases!=null&&p.aliases.includes(m)?m:void 0,g));continue}if(b===null)if(v=r.parse(C,Nt),v!=null)e.removeAttribute(c),--a,--o,s.push(new _s(v,t._attrMapper.map(e,m)??De(m)));else switch(c){case"class":s.push(new Eu(C));break;case"style":s.push(new Ou(C));break;default:s.push(new Tu(C,c))}else M.node=e,M.attr=h,M.bindable=null,M.def=null,s.push(b.build(M,t._exprParser,t._attrMapper))}return po(),d!=null?d.concat(s):s}_compileNode(e,t){switch(e.nodeType){case 1:switch(e.nodeName){case"LET":return this._compileLet(e,t);default:return this._compileElement(e,t)}case 3:return this._compileText(e,t);case 11:{let s=e.firstChild;for(;s!==null;)s=this._compileNode(s,t);break}}return e.nextSibling}_compileLet(e,t){const s=e.attributes,n=s.length,r=[],o=t._exprParser;let a=!1,l=0,c,u,h,p,d,g,f,_;for(;n>l;++l){if(c=s[l],h=c.name,p=c.value,h==="to-binding-context"){a=!0;continue}if(u=t._attrParser.parse(h,p),g=u.target,f=u.rawValue,d=t._getCommand(u),d!==null){if(u.command==="bind")r.push(new Pu(o.parse(f,ds),De(g)));else throw ye(704,u);continue}_=o.parse(f,Nt),_===null&&console.warn(`[DEV:aurelia] Property "${g}" is declared with literal string ${f}. Did you mean ${g}.bind="${f}"?`),r.push(new Pu(_===null?new Fe(f):_,De(g)))}return t.rows.push([new tv(r,a)]),this._markAsTarget(e,t).nextSibling}_compileElement(e,t){var A,te,ht,et,Ut,co,ji,On;const s=e.nextSibling,n=(e.getAttribute("as-element")??e.nodeName).toLowerCase(),r=t._findElement(n),o=r!==null,a=o&&r.shadowOptions!=null,l=r==null?void 0:r.capture,c=l!=null&&typeof l!="boolean",u=l?[]:U,h=t._exprParser,p=this.debug?dt:()=>{e.removeAttribute(v),--_,--f};let d=e.attributes,g,f=d.length,_=0,b,v,$,m,C,O,P=null,N=!1,D,F,fe,Ne,Ie,we,Re,K=null,E,ue,V,ae,ct=!0,y=!1,S=!1,w=!1,I,H=0;if(n==="slot"){if(t.root.def.shadowOptions==null)throw ye(717,t.root.def.name);t.root.hasSlot=!0}for(o&&(I={},ct=(A=r.processContent)==null?void 0:A.call(r.Type,e,t.p,I),d=e.attributes,f=d.length);f>_;++_){switch(b=d[_],v=b.name,$=b.value,v){case"as-element":case"containerless":p(),y=y||v==="containerless";continue}if(m=t._attrParser.parse(v,$),K=t._getCommand(m),V=m.target,ae=m.rawValue,l&&(!c||c&&l(V))){if(K!=null&&K.ignoreAttr){p(),u.push(m);continue}if(S=V!==Dn&&V!=="slot"&&((H=V.indexOf("..."))===-1||H===0&&V==="...$attrs"),S&&(E=t._getBindables(r),E.attrs[V]==null&&!((te=t._findAttr(V))!=null&&te.isTemplateController))){p(),u.push(m);continue}}if(V==="...$attrs"){(C??(C=[])).push(new Bu),p();continue}if(K!=null&&K.ignoreAttr){M.node=e,M.attr=m,M.bindable=null,M.def=null,(C??(C=[])).push(K.build(M,t._exprParser,t._attrMapper)),p();continue}if(V.indexOf("...")===0){if(o&&(V=V.slice(3))!=="$element"){(O??(O=[])).push(new jl("$bindables",V==="$bindables"?ae:V)),p();continue}throw(V==="$bindable"||V==="bindables")&&console.warn(`[DEV:aurelia] Detected usage of ${V} on <${e.nodeName}>, did you mean "$bindables"?`),ye(720,V)}if(o){if(E=t._getBindables(r),D=E.attrs[V],D!==void 0){K===null?(we=h.parse(ae,Nt),(O??(O=[])).push(we==null?new Gi(ae,D.name):new _s(we,D.name))):(M.node=e,M.attr=m,M.bindable=D,M.def=r,(O??(O=[])).push(K.build(M,t._exprParser,t._attrMapper))),p(),P=t._findAttr(V),P!==null&&console.warn(`[DEV:aurelia] Binding with bindable "${V}" on custom element "${r.name}" is ambiguous.There is a custom attribute with the same name.`);continue}if(V==="$bindables"){if(K!=null){M.node=e,M.attr=m,M.bindable=null,M.def=r;{const Q=K.build(M,t._exprParser,t._attrMapper);Q instanceof jl||console.warn(`[DEV:aurelia] Binding with "$bindables" on custom element "${r.name}" with command ${m.command}  did not result in a spread binding instruction. This likely won't work as expected.`),(O??(O=[])).push(Q)}}else console.warn(`[DEV:aurelia] Usage of "$bindables" on custom element "<${r.name}>" is ignored.`);p();continue}}if(V==="$bindables")throw ye(721,e.nodeName,V,ae);if(P=t._findAttr(V),P!==null){E=t._getBindables(P),N=P.noMultiBindings===!1&&K===null&&Xa(ae),N?fe=this._compileMultiBindings(e,ae,P,t):(ue=E.primary,K===null?(we=h.parse(ae,Nt),fe=we===null?ae===""?[]:[new Gi(ae,ue.name)]:[new _s(we,ue.name)]):(M.node=e,M.attr=m,M.bindable=ue,M.def=P,fe=[K.build(M,t._exprParser,t._attrMapper)])),p(),P.isTemplateController?(Ne??(Ne=[])).push(new ev(ov,this.resolveResources?P:P.name,void 0,fe)):(F??(F=[])).push(new Wa(this.resolveResources?P:P.name,P.aliases!=null&&P.aliases.includes(V)?V:void 0,fe));continue}if(K===null){we=h.parse(ae,Nt),we!=null&&(p(),(C??(C=[])).push(new _s(we,t._attrMapper.map(e,V)??De(V))));continue}M.node=e,M.attr=m,M.bindable=null,M.def=null,(C??(C=[])).push(K.build(M,t._exprParser,t._attrMapper)),p()}po(),this._shouldReorderAttrs(e,C)&&C!=null&&C.length>1&&this._reorder(e,C),o&&(Re=new Ym(this.resolveResources?r:r.name,O??U,null,y,u,I)),(C!=null||Re!=null||F!=null)&&(g=U.concat(Re??U,F??U,C??U),w=!0);let k;if(Ne!=null){f=Ne.length-1,_=f,Ie=Ne[_];let Q;zu(e)?(Q=t.t(),Du(Q,[t._marker(),t._comment(qa),t._comment(Qa)])):(this._replaceByMarker(e,t),e.nodeName==="TEMPLATE"?Q=e:(Q=t.t(),fi(Q,e)));const ho=Q,Ot=t._createChild(g==null?[]:[g]);let Bn,Bt,ui=!1,di,Lt,Wt,qt,Ln,Ls,pi=0,ou=0,Ue=e.firstChild,au=!1;if(ct!==!1)for(;Ue!==null;){if(Bt=Vu(Ue)?Ue.getAttribute(Dn):null,ui=Bt!==null||o&&!a,Bn=Ue.nextSibling,ui){if(!o)throw ye(706,Bt,n);(ht=Ue.removeAttribute)==null||ht.call(Ue,Dn),au=Fu(Ue)&&Ue.textContent.trim()==="",au||((et=Lt??(Lt={}))[Ut=Bt||ju]??(et[Ut]=[])).push(Ue),e.removeChild(Ue)}Ue=Bn}if(Lt!=null){di={};for(Bt in Lt){for(Q=t.t(),Wt=Lt[Bt],pi=0,ou=Wt.length;ou>pi;++pi)qt=Wt[pi],qt.nodeName==="TEMPLATE"?qt.attributes.length>0?fi(Q,qt):fi(Q,qt.content):fi(Q,qt);Ls=t._createChild(),this._compileNode(Q.content,Ls),di[Bt]={name:Vn(),type:qi,template:Q,instructions:Ls.rows,needsCompile:!1}}Re.projections=di}if(w&&(o&&(y||r.containerless)?this._replaceByMarker(e,t):this._markAsTarget(e,t)),k=!o||!r.containerless&&!y&&ct!==!1,k)if(e.nodeName===Za)this._compileNode(e.content,Ot);else for(Ue=e.firstChild;Ue!==null;)Ue=this._compileNode(Ue,Ot);for(Ie.def={name:Vn(),type:qi,template:ho,instructions:Ot.rows,needsCompile:!1};_-- >0;)Ie=Ne[_],Q=t.t(),Ln=t._marker(),Du(Q,[Ln,t._comment(qa),t._comment(Qa)]),Ie.def={name:Vn(),type:qi,template:Q,needsCompile:!1,instructions:[[Ne[_+1]]]};t.rows.push([Ie])}else{g!=null&&t.rows.push(g);let Q=e.firstChild,ho,Ot,Bn=!1,Bt=null,ui,di,Lt,Wt,qt,Ln=!1,Ls=0,pi=0;if(ct!==!1)for(;Q!==null;){if(Ot=Vu(Q)?Q.getAttribute(Dn):null,Bn=Ot!==null||o&&!a,ho=Q.nextSibling,Bn){if(!o)throw ye(706,Ot,n);(co=Q.removeAttribute)==null||co.call(Q,Dn),Ln=Fu(Q)&&Q.textContent.trim()==="",Ln||((ji=ui??(ui={}))[On=Ot||ju]??(ji[On]=[])).push(Q),e.removeChild(Q)}Q=ho}if(ui!=null){Bt={};for(Ot in ui){for(Wt=t.t(),di=ui[Ot],Ls=0,pi=di.length;pi>Ls;++Ls)Lt=di[Ls],Lt.nodeName===Za?Lt.attributes.length>0?fi(Wt,Lt):fi(Wt,Lt.content):fi(Wt,Lt);qt=t._createChild(),this._compileNode(Wt.content,qt),Bt[Ot]={name:Vn(),type:qi,template:Wt,instructions:qt.rows,needsCompile:!1}}Re.projections=Bt}if(w&&(o&&(y||r.containerless)?this._replaceByMarker(e,t):this._markAsTarget(e,t)),k=!o||!r.containerless&&!y&&ct!==!1,k&&e.childNodes.length>0)for(Q=e.firstChild;Q!==null;)Q=this._compileNode(Q,t)}return s}_compileText(e,t){const s=e.parentNode,n=t._exprParser.parse(e.textContent,Nt),r=e.nextSibling;let o,a,l,c,u;if(n!==null){for({parts:o,expressions:a}=n,(u=o[0])&&Ka(s,t._text(u),e),l=0,c=a.length;c>l;++l)Nu(s,e,[t._marker(),t._text(" ")]),(u=o[l+1])&&Ka(s,t._text(u),e),t.rows.push([new sv(a[l])]);s.removeChild(e)}return r}_compileMultiBindings(e,t,s,n){const r=n._getBindables(s),o=t.length,a=[];let l,c,u=0,h=0,p,d,g,f;for(let _=0;_<o;++_)if(h=t.charCodeAt(_),h===92)++_;else if(h===58){for(l=t.slice(u,_);t.charCodeAt(++_)<=32;);for(u=_;_<o;++_)if(h=t.charCodeAt(_),h===92)++_;else if(h===59){c=t.slice(u,_);break}if(c===void 0&&(c=t.slice(u)),d=n._attrParser.parse(l,c),g=n._getCommand(d),f=r.attrs[d.target],f==null)throw ye(707,d.target,s.name);for(g===null?(p=n._exprParser.parse(c,Nt),a.push(p===null?new Gi(c,f.name):new _s(p,f.name))):(M.node=e,M.attr=d,M.bindable=f,M.def=s,a.push(g.build(M,n._exprParser,n._attrMapper)));_<o&&t.charCodeAt(++_)<=32;);u=_,l=void 0,c=void 0}return po(),a}_compileLocalElement(e,t){const s=t.root.def.name,n=e,r=Va(n.querySelectorAll("template[as-custom-element]")),o=r.length;if(o===0)return;if(o===n.childElementCount)throw ye(708,s);const a=new Set,l=[];for(const u of r){if(u.parentNode!==n)throw ye(709,s);const h=hv(s,u,a),p=u.content,d=Va(p.querySelectorAll("bindable")),g=new Set,f=new Set,_=d.reduce((v,$)=>{if($.parentNode!==p)throw ye(710,h);const m=$.getAttribute("name");if(m===null)throw ye(711,$,h);const C=$.getAttribute("attribute");if(C!==null&&f.has(C)||g.has(m))throw ye(712,g,C);C!==null&&f.add(C),g.add(m);const O=Va($.attributes).filter(P=>!Hu.includes(P.name));return O.length>0&&console.warn(`[DEV:aurelia] The attribute(s) ${O.map(P=>P.name).join(", ")} will be ignored for ${$.outerHTML}. Only ${Hu.join(", ")} are processed.`),$.remove(),v[m]={name:m,attribute:C??void 0,mode:$.getAttribute("mode")??"default"},v},{});class b{}b.$au={type:qi,name:h,template:u,bindables:_},Reflect.defineProperty(b,"name",{value:pp(h)}),l.push(b),n.removeChild(u)}const c=(t.root.def.dependencies??[]).concat(t.root.def.Type==null?U:[t.root.def.Type]);for(const u of l)u.dependencies=c.concat(l.filter(h=>h!==u)),t._addLocalDep(u)}_shouldReorderAttrs(e,t){const s=e.nodeName;return s==="INPUT"&&lv[e.type]===1||s==="SELECT"&&(e.hasAttribute("multiple")||(t==null?void 0:t.some(n=>n.type===Fc&&n.to==="multiple")))}_reorder(e,t){switch(e.nodeName){case"INPUT":{const s=t;let n,r,o=0,a;for(let l=0;l<s.length&&o<3;l++)switch(a=s[l],a.to){case"model":case"value":case"matcher":n=l,o++;break;case"checked":r=l,o++;break}r!==void 0&&n!==void 0&&r<n&&([s[n],s[r]]=[s[r],s[n]]);break}case"SELECT":{const s=t;let n=0,r=0,o=0,a;for(let l=0;l<s.length&&o<2;++l){switch(a=s[l],a.to){case"multiple":r=l,o++;break;case"value":n=l,o++;break}o===2&&n<r&&([s[r],s[n]]=[s[n],s[r]])}}}}_markAsTarget(e,t){return Ka(e.parentNode,t._comment("au*"),e),e}_replaceByMarker(e,t){if(zu(e))return e;const s=e.parentNode,n=t._marker();return Nu(s,e,[n,t._comment(qa),t._comment(Qa)]),s.removeChild(e),n}}R0.register=Hr(ga);const Za="TEMPLATE",zu=i=>i.nodeValue==="au*";class Vo{constructor(e,t,s,n,r){var a;this.hasSlot=!1,this.deps=null;const o=s!==null;if(this.c=t,this.root=n===null?this:n,this.def=e,this.parent=s,this._resourceResolver=o?s._resourceResolver:t.get(P0),this._commandResolver=o?s._commandResolver:t.get(cv),this._templateFactory=o?s._templateFactory:t.get(nv),this._attrParser=o?s._attrParser:t.get(Vc),this._exprParser=o?s._exprParser:t.get(An),this._attrMapper=o?s._attrMapper:t.get(Gp),this._logger=o?s._logger:t.get(Me),typeof((a=(this.p=o?s.p:t.get(xn)).document)==null?void 0:a.nodeType)!="number")throw ye(722);this.localEls=o?s.localEls:new Set,this.rows=r??[]}_addLocalDep(e){var t;return((t=this.root).deps??(t.deps=[])).push(e),this.root.c.register(e),this}_text(e){return this.p.document.createTextNode(e)}_comment(e){return this.p.document.createComment(e)}_marker(){return this._comment("au*")}h(e){const t=this.p.document.createElement(e);return e==="template"&&this.p.document.adoptNode(t.content),t}t(){return this.h("template")}_findElement(e){return this._resourceResolver.el(this.c,e)}_findAttr(e){return this._resourceResolver.attr(this.c,e)}_getBindables(e){return this._resourceResolver.bindables(e)}_createChild(e){return new Vo(this.def,this.c,this,this.root,e)}_getCommand(e){const t=e.command;return t===null?null:this._commandResolver.get(this.c,t)}}const Xa=i=>{const e=i.length;let t=0,s=0;for(;e>s;){if(t=i.charCodeAt(s),t===92)++s;else{if(t===58)return!0;if(t===36&&i.charCodeAt(s+1)===123)return!1}++s}return!1},po=()=>{M.node=M.attr=M.bindable=M.def=null},ov={name:"unnamed",type:qi},M={node:null,attr:null,bindable:null,def:null},av={id:!0,name:!0,"au-slot":!0,"as-element":!0},lv={checkbox:1,radio:1},P0=us("IResourceResolver"),cv=us("IBindingCommandResolver",i=>{class e{constructor(){this._cache=new WeakMap}get(s,n){let r=this._cache.get(s);return r||this._cache.set(s,r={}),n in r?r[n]:r[n]=iv.get(s,n)}}return i.singleton(e)}),Hu=In(["name","attribute","mode"]),Hl="as-custom-element",hv=(i,e,t)=>{const s=e.getAttribute(Hl);if(s===null||s==="")throw ye(715,i);if(t.has(s))throw ye(716,s,i);return t.add(s),e.removeAttribute(Hl),s},Gu=us("ITemplateCompilerHooks"),uv=In({name:si("compiler-hooks"),define(i){return{register(e){Mc(Gu,i).register(e)}}},findAll(i){return i.get(J_(Gu))}}),dv=Object.prototype.hasOwnProperty,Xs=Reflect.defineProperty;function ns(i,e,t){return Xs(i,e,{configurable:!0,writable:!0,value:t}),t}function Cs(i,e,t){e in i||ns(i,e,t)}const T0=Object.assign,zc=Object.freeze,pn=String,_a=at.createInterface,pv=Rt.get,fv=Rt.define,G=(i,...e)=>new Error(`AUR${pn(i).padStart(4,"0")}: ${_v(i,...e)}`),gv={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`,199:"Trying to observe property {{0}} on null/undefined",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",206:"Trying to switch to a null/undefined connectable",207:"Trying to enter an active connectable",208:"Trying to pop a null/undefined connectable",209:"Trying to exit an inactive connectable",210:"Unrecognised collection type {{0:toString}}.",217:"There is no registration for IDirtyChecker interface. If you want to use your own dirty checker, make sure you register it.",218:"Dirty checked is not permitted in this application. Property key {{0}} is being dirty checked.",219:"Trying to set value for property {{0}} in dirty checker",220:'Map/Set "size" is a readonly property',221:'Trying to assign value to readonly property "{{0}}" through computed observer.',224:"Invalid @observable decorator usage, cannot determine property name",225:"Trying to stop an effect that has already been stopped",226:"Maximum number of recursive effect run reached. Consider handle effect dependencies differently."},_v=(i,...e)=>{var s;let t=gv[i];for(let n=0;n<e.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(t);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=e[n];if(l!=null)switch(a){case"typeof":l=typeof l;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=pn(l[a.slice(1)]):l=pn(l)}t=t.slice(0,o.index)+l+t.slice(r.lastIndex),o=r.exec(t)}}return t};class Oe{constructor(e,t,s,n){this.parent=e,this.bindingContext=t,this.overrideContext=s,this.isBoundary=n}static getContext(e,t,s){if(e==null)throw G(203);let n=e.overrideContext,r=e;if(s>0){for(;s>0;)if(s--,r=r.parent,r==null)return;return n=r.overrideContext,t in n?n:r.bindingContext}for(;r!=null&&!r.isBoundary&&!(t in r.overrideContext)&&!(t in r.bindingContext);)r=r.parent;return r==null?e.bindingContext:(n=r.overrideContext,t in n?n:r.bindingContext)}static create(e,t,s){if(e==null)throw G(204);return new Oe(null,e,t??new Wu,s??!1)}static fromParent(e,t,s=new Wu){if(e==null)throw G(203);return new Oe(e,t,s,!1)}}class Uu{constructor(e,t){e!==void 0&&(this[e]=t)}}class Wu{}const{astAssign:xr,astEvaluate:ve,astBind:ni,astUnbind:ri}=(()=>{const i="AccessThis",e="AccessBoundary",t="AccessGlobal",s="AccessScope",n="ArrayLiteral",r="ObjectLiteral",o="PrimitiveLiteral",l="Template",c="Unary",u="CallScope",h="CallMember",p="CallFunction",d="CallGlobal",g="AccessMember",f="AccessKeyed",_="TaggedTemplate",b="Binary",v="Conditional",$="Assign",m="ArrowFunction",C="ValueConverter",O="BindingBehavior",P="ArrayBindingPattern",N="ObjectBindingPattern",D="BindingIdentifier",F="ForOfStatement",fe="Interpolation",Ne="ArrayDestructuring",Ie="ObjectDestructuring",we="DestructuringAssignmentLeaf",Re="Custom",K=Oe.getContext;function E(y,S,w,I){var H;switch(y.$kind){case i:{let k=S.overrideContext,A=S,te=y.ancestor;for(;te--&&k;)A=A.parent,k=(A==null?void 0:A.overrideContext)??null;return te<1&&A?A.bindingContext:void 0}case e:{let k=S;for(;k!=null&&!k.isBoundary;)k=k.parent;return k?k.bindingContext:void 0}case s:{const k=K(S,y.name,y.ancestor);I!==null&&I.observe(k,y.name);const A=k[y.name];if(A==null){if(y.name==="$host")throw G(105);return A}return w!=null&&w.boundFn&&Y(A)?A.bind(k):A}case t:return globalThis[y.name];case d:{const k=globalThis[y.name];if(Y(k))return k(...y.args.map(A=>E(A,S,w,I)));if(!(w!=null&&w.strict)&&k==null)return;throw G(107)}case n:return y.elements.map(k=>E(k,S,w,I));case r:{const k={};for(let A=0;A<y.keys.length;++A)k[y.keys[A]]=E(y.values[A],S,w,I);return k}case o:return y.value;case"New":{const k=E(y.func,S,w,I);if(Y(k))return new k(...y.args.map(A=>E(A,S,w,I)));throw G(107)}case l:{let k=y.cooked[0];for(let A=0;A<y.expressions.length;++A)k+=pn(E(y.expressions[A],S,w,I)),k+=y.cooked[A+1];return k}case c:{const k=E(y.expression,S,w,I);switch(y.operation){case"void":return;case"typeof":return typeof k;case"!":return!k;case"-":return-k;case"+":return+k;case"--":if(I!=null)throw G(113);return ue(y.expression,S,w,I,k-1)+y.pos;case"++":if(I!=null)throw G(113);return ue(y.expression,S,w,I,k+1)-y.pos;default:throw G(109,y.operation)}}case u:{const k=K(S,y.name,y.ancestor);if(k==null){if(w!=null&&w.strict)throw G(114,y.name,k);return}const A=k[y.name];if(Y(A))return A.apply(k,y.args.map(te=>E(te,S,w,I)));if(A==null){if(w!=null&&w.strict&&!y.optional)throw G(111,y.name);return}throw G(111,y.name)}case h:{const k=E(y.object,S,w,I);if(k==null&&w!=null&&w.strict&&!y.optionalMember)throw G(114,y.name,k);const A=k==null?void 0:k[y.name];if(A==null){if(!y.optionalCall&&(w!=null&&w.strict))throw G(111,y.name);return}if(!Y(A))throw G(111,y.name);const te=A.apply(k,y.args.map(ht=>E(ht,S,w,I)));return _e(k)&&ct.includes(y.name)&&(I==null||I.observeCollection(k)),te}case p:{const k=E(y.func,S,w,I);if(Y(k))return k(...y.args.map(A=>E(A,S,w,I)));if(k==null){if(!y.optional&&(w!=null&&w.strict))throw G(107);return}throw G(107)}case m:return(...A)=>{const te=y.args,ht=y.rest,et=te.length-1,Ut=te.reduce((ji,On,Q)=>(ht&&Q===et?ji[On.name]=A.slice(Q):ji[On.name]=A[Q],ji),{}),co=Oe.fromParent(S,Ut);return E(y.body,co,w,I)};case g:{const k=E(y.object,S,w,I);if(k==null){if(!y.optional&&(w!=null&&w.strict))throw G(114,y.name,k);return}I!==null&&!y.accessGlobal&&I.observe(k,y.name);const A=k[y.name];return w!=null&&w.boundFn&&Y(A)?A.bind(k):A}case f:{const k=E(y.object,S,w,I),A=E(y.key,S,w,I);if(k==null){if(!y.optional&&(w!=null&&w.strict))throw G(115,A,k);return}return I!==null&&!y.accessGlobal&&I.observe(k,A),k[A]}case _:{const k=y.expressions.map(te=>E(te,S,w,I)),A=E(y.func,S,w,I);if(!Y(A))throw G(110);return A(y.cooked,...k)}case b:{const k=y.left,A=y.right;switch(y.operation){case"&&":return E(k,S,w,I)&&E(A,S,w,I);case"||":return E(k,S,w,I)||E(A,S,w,I);case"??":return E(k,S,w,I)??E(A,S,w,I);case"==":return E(k,S,w,I)==E(A,S,w,I);case"===":return E(k,S,w,I)===E(A,S,w,I);case"!=":return E(k,S,w,I)!=E(A,S,w,I);case"!==":return E(k,S,w,I)!==E(A,S,w,I);case"instanceof":{const te=E(A,S,w,I);return Y(te)?E(k,S,w,I)instanceof te:!1}case"in":{const te=E(A,S,w,I);return Ri(te)?E(k,S,w,I)in te:!1}case"+":return E(k,S,w,I)+E(A,S,w,I);case"-":return E(k,S,w,I)-E(A,S,w,I);case"*":return E(k,S,w,I)*E(A,S,w,I);case"/":return E(k,S,w,I)/E(A,S,w,I);case"%":return E(k,S,w,I)%E(A,S,w,I);case"**":return E(k,S,w,I)**E(A,S,w,I);case"<":return E(k,S,w,I)<E(A,S,w,I);case">":return E(k,S,w,I)>E(A,S,w,I);case"<=":return E(k,S,w,I)<=E(A,S,w,I);case">=":return E(k,S,w,I)>=E(A,S,w,I);default:throw G(108,y.operation)}}case v:return E(y.condition,S,w,I)?E(y.yes,S,w,I):E(y.no,S,w,I);case $:{let k=E(y.value,S,w,I);if(y.op!=="="){if(I!=null)throw G(113);const A=E(y.target,S,w,I);switch(y.op){case"/=":k=A/k;break;case"*=":k=A*k;break;case"+=":k=A+k;break;case"-=":k=A-k;break;default:throw G(108,y.op)}}return ue(y.target,S,w,I,k)}case C:return(H=w==null?void 0:w.useConverter)==null?void 0:H.call(w,y.name,"toView",E(y.expression,S,w,I),y.args.map(k=>E(k,S,w,I)));case O:return E(y.expression,S,w,I);case D:return y.name;case F:return E(y.iterable,S,w,I);case fe:if(y.isMulti){let k=y.parts[0],A=0;for(;A<y.expressions.length;++A)k+=pn(E(y.expressions[A],S,w,I)),k+=y.parts[A+1];return k}else return`${y.parts[0]}${E(y.firstExpression,S,w,I)}${y.parts[1]}`;case we:return E(y.target,S,w,I);case Ne:return y.list.map(k=>E(k,S,w,I));case P:case N:case Ie:default:return;case Re:return y.evaluate(S,w,I)}}function ue(y,S,w,I,H){var k;switch(y.$kind){case s:{if(y.name==="$host")throw G(106);const A=K(S,y.name,y.ancestor);return A[y.name]=H}case g:{const A=E(y.object,S,w,I);if(A==null){if(w!=null&&w.strict)throw G(116,y.name);ue(y.object,S,w,I,{[y.name]:H})}else Ri(A)&&(y.name==="length"&&_e(A)&&!isNaN(H)?A.splice(H):A[y.name]=H);return H}case f:{const A=E(y.object,S,w,I),te=E(y.key,S,w,I);if(A==null){if(w!=null&&w.strict)throw G(116,te);return ue(y.object,S,w,I,{[te]:H}),H}if(_e(A)){if(te==="length"&&!isNaN(H))return A.splice(H),H;if(un(te))return A.splice(te,1,H),H}return A[te]=H}case $:return ue(y.value,S,w,I,H),ue(y.target,S,w,I,H);case C:return H=(k=w==null?void 0:w.useConverter)==null?void 0:k.call(w,y.name,"fromView",H,y.args.map(A=>E(A,S,w,I))),ue(y.expression,S,w,I,H);case O:return ue(y.expression,S,w,I,H);case Ne:case Ie:{const A=y.list,te=A.length;let ht,et;for(ht=0;ht<te;ht++)switch(et=A[ht],et.$kind){case we:ue(et,S,w,I,H);break;case Ne:case Ie:{if(typeof H!="object"||H===null)throw G(112);let Ut=E(et.source,Oe.create(H),w,null);Ut===void 0&&et.initializer&&(Ut=E(et.initializer,S,w,null)),ue(et,S,w,I,Ut);break}}break}case we:{if(y instanceof Op){if(H==null)return;if(typeof H!="object")throw G(112);let A=E(y.source,Oe.create(H),w,I);A===void 0&&y.initializer&&(A=E(y.initializer,S,w,I)),ue(y.target,S,w,I,A)}else{if(H==null)return;if(typeof H!="object")throw G(112);const A=y.indexOrProperties;let te;if(un(A)){if(!Array.isArray(H))throw G(112);te=H.slice(A)}else te=Object.entries(H).reduce((ht,[et,Ut])=>(A.includes(et)||(ht[et]=Ut),ht),{});ue(y.target,S,w,I,te)}break}case Re:return y.assign(S,w,H);default:return}}function V(y,S,w){var I,H,k;switch(y.$kind){case O:{(I=w.bindBehavior)==null||I.call(w,y.name,S,y.args.map(A=>E(A,S,w,null))),V(y.expression,S,w);break}case C:{(H=w.bindConverter)==null||H.call(w,y.name),V(y.expression,S,w);break}case F:{V(y.iterable,S,w);break}case Re:(k=y.bind)==null||k.call(y,S,w)}}function ae(y,S,w){var I,H,k;switch(y.$kind){case O:{(I=w.unbindBehavior)==null||I.call(w,y.name,S),ae(y.expression,S,w);break}case C:{(H=w.unbindConverter)==null||H.call(w,y.name),ae(y.expression,S,w);break}case F:{ae(y.iterable,S,w);break}case Re:(k=y.unbind)==null||k.call(y,S,w)}}const ct="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:E,astAssign:ue,astBind:V,astUnbind:ae}})(),mv=i=>{const e=i.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(t=>{ns(e,t,()=>{throw G(99,t)})})},Ja="pending",vv="running",qu="completed",Un="canceled",E0=Promise.resolve();let Ya=!1,Gl=!1;const ut=[];let Qs=0,Hs=null,Ks=[],Fo=null,Gs=null;const jo=()=>{Ya||(Ya=!0,E0.then(()=>{Ya=!1,Gl=!0,bv()}))},pr=i=>{if(Hs&&ut.length===0&&Qs===0)if(Hs=null,Ks.length>0){const e=Ks;Ks=[],e.length===1?Gs(e[0]):Gs(new AggregateError(e,"One or more tasks failed."))}else Fo(i)},bv=()=>{const i=!Gl;Gl=!1,Hs??(Hs=new Promise((n,r)=>{Fo=n,Gs=r}));let e=-ut.length;const t=ut.length===0;for(;ut.length>0;){if(++e>1e4){const r=new Error("Potential deadlock detected. More than 10000 extra tasks were queued from within tasks.");throw ut.length=0,Gs==null||Gs(r),Hs=null,r}const n=ut.shift();if(typeof n=="function")try{n()}catch(r){Ks.push(r)}else n.run()}const s=Ks.slice();if(pr(!t),i&&s.length>0)throw s.length===1?s[0]:new AggregateError(s,"One or more tasks failed.")},wv=()=>Hs||(ut.length>0||Qs>0?Hs??(Hs=new Promise((i,e)=>{Fo=i,Gs=e})):E0.then(()=>ut.length>0||Qs>0?Hs??(Hs=new Promise((i,e)=>{Fo=i,Gs=e})):!1)),rs=i=>{jo(),ut.push(i)},fr=(i,e)=>{const t=new O0(i,e==null?void 0:e.delay);return t.delay!=null&&t.delay>0?(++Qs,t._timerId=setTimeout(()=>{if(--Qs,t._timerId=void 0,t.status===Un){pr(!0);return}ut.push(t),jo()},t.delay)):(ut.push(t),jo()),t};let Qu=class extends Error{constructor(e){super(`Task ${e.id} was canceled.`),this.task=e}},O0=class B0{get result(){return this._result}get status(){return this._status}constructor(e,t){this.callback=e,this.delay=t,this.id=++B0._taskId,this._status=Ja,this._result=new Promise((s,n)=>{this._resolve=s,this._reject=n})}run(){if(this._status!==Ja)throw new Error(`Cannot run task in ${this._status} state`);this._status=vv;let e;try{e=this.callback()}catch(t){this._status=Un,this._reject(t),Ks.push(t);return}e instanceof Promise?(++Qs,e.then(t=>{this._status=qu,this._resolve(t)}).catch(t=>{this._status=Un,this._reject(t),Ks.push(t)}).finally(()=>{--Qs,pr(!0)})):(this._status=qu,this._resolve(e))}cancel(){if(this._timerId!==void 0){clearTimeout(this._timerId),--Qs,this._timerId=void 0,this._status=Un;const e=new Qu(this);return this._reject(e),this._result.catch(dt),pr(!0),!0}if(this._status===Ja){const e=ut.indexOf(this);if(e>-1){ut.splice(e,1),this._status=Un;const t=new Qu(this);return this._reject(t),this._result.catch(dt),pr(!0),!0}}return!1}};O0._taskId=0;const yv=(i,e)=>{const t=new ma(i,Math.max(e==null?void 0:e.interval,0));return t._start(),t};class ma{constructor(e,t){this._callback=e,this._interval=t,this.id=++ma._nextId,this._canceled=!1,this._nextResolvers=[]}run(){try{this._callback()}catch(e){Ks.push(e);return}}_start(){this._canceled||(this._timerId=setTimeout(()=>{this._tick(),this._canceled||this._start()},this._interval))}_tick(){ut.push(this),jo();const e=this._nextResolvers.splice(0);for(const t of e)t()}next(){return this._canceled?Promise.resolve():new Promise(e=>this._nextResolvers.push(e))}cancel(){this._canceled=!0,this._timerId!==void 0&&(clearTimeout(this._timerId),this._timerId=void 0);const e=this._nextResolvers.splice(0);for(const t of e)t()}}ma._nextId=0;const L0=at.createInterface("ICoercionConfiguration"),va=0,oi=1,Cv=2,kv=4,Hc=zc({None:va,Observer:oi,Node:Cv,Layout:kv});function Ei(i=0){const e=Array(i);let t=0;for(;t<i;)e[t]=t++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}let Sv=!1;const Ht=(()=>{function i(a,l){return a==null?r:r(a)}function e(){return ns(this,"subs",new o)}function t(a){return this.subs.add(a)}function s(a){return this.subs.remove(a)}const n=new WeakSet;function r(a,l){if(!n.has(a)){n.add(a);const c=a.prototype;Xs(c,"subs",{get:e}),Cs(c,"subscribe",t),Cs(c,"unsubscribe",s)}return a}class o{constructor(){this.count=0,this._subs=[],this._requestDirtySubs=[],this._hasDirtySubs=!1}add(l){return this._subs.includes(l)?!1:(this._subs[this._subs.length]=l,"handleDirty"in l&&(this._requestDirtySubs[this._requestDirtySubs.length]=l,this._hasDirtySubs=!0),++this.count,!0)}remove(l){let c=this._subs.indexOf(l);return c!==-1?(this._subs.splice(c,1),c=this._requestDirtySubs.indexOf(l),c!==-1&&(this._requestDirtySubs.splice(c,1),this._hasDirtySubs=this._requestDirtySubs.length>0),--this.count,!0):!1}notify(l,c){for(const u of this._subs.slice(0))u.handleChange(l,c)}notifyCollection(l,c){const u=this._subs.slice(0),h=u.length;let p=0;for(;p<h;++p)u[p].handleCollectionChange(l,c)}notifyDirty(){if(this._hasDirtySubs)for(const l of this._requestDirtySubs.slice(0))l.handleDirty()}}return i})();class M0{constructor(e){this.owner=e,this.type=oi,this._value=(this._obj=e.collection).length}getValue(){return this._obj.length}setValue(e){e!==this._value&&(Number.isNaN(e)?console.warn(`Invalid value "${e}" for array length`):(this._obj.splice(e),this._value=this._obj.length))}handleDirty(){this._value!==this._obj.length&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,n=this._obj.length;(this._value=n)!==s&&(this.subs.notifyDirty(),this.subs.notify(this._value,s))}}N0(M0);class Gc{constructor(e){this.owner=e,this.type=oi,this._value=(this._obj=e.collection).size}getValue(){return this._obj.size}setValue(){throw G(220)}handleDirty(){this._value!==this._obj.size&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,n=this._obj.size;(this._value=n)!==s&&this.subs.notify(this._value,s)}}N0(Gc);function N0(i){const e=i.prototype;return Cs(e,"subscribe",$v),Cs(e,"unsubscribe",xv),Ht(i,null)}function $v(i){this.subs.add(i)&&this.subs.count===1&&this.owner.subscribe(this)}function xv(i){this.subs.remove(i)&&this.subs.count===0&&this.owner.subscribe(this)}const gr=(()=>{const i=Symbol.for("__au_arr_obs__"),e=Array[i]??ns(Array,i,new WeakMap);function t(f,_){return f===_?0:(f=f===null?"null":f.toString(),_=_===null?"null":_.toString(),f<_?-1:1)}function s(f,_){return f===void 0?_===void 0?0:1:_===void 0?-1:0}function n(f,_,b,v,$){let m,C,O,P,N,D,F;for(D=b+1;D<v;D++){for(m=f[D],C=_[D],F=D-1;F>=b&&(O=f[F],P=_[F],N=$(O,m),N>0);F--)f[F+1]=O,_[F+1]=P;f[F+1]=m,_[F+1]=C}}function r(f,_,b,v,$){let m=0,C=0,O,P,N,D,F,fe,Ne,Ie,we,Re,K,E,ue,V,ae,ct,y,S,w;for(;;){if(v-b<=10){n(f,_,b,v,$);return}m=b+(v-b>>1),O=f[b],D=_[b],P=f[v-1],F=_[v-1],N=f[m],fe=_[m],Ne=$(O,P),Ne>0&&(Re=O,K=D,O=P,D=F,P=Re,F=K),Ie=$(O,N),Ie>=0?(Re=O,K=D,O=N,D=fe,N=P,fe=F,P=Re,F=K):(we=$(P,N),we>0&&(Re=P,K=F,P=N,F=fe,N=Re,fe=K)),f[b]=O,_[b]=D,f[v-1]=N,_[v-1]=fe,E=P,ue=F,V=b+1,ae=v-1,f[m]=f[V],_[m]=_[V],f[V]=E,_[V]=ue;e:for(C=V+1;C<ae;C++)if(ct=f[C],y=_[C],S=$(ct,E),S<0)f[C]=f[V],_[C]=_[V],f[V]=ct,_[V]=y,V++;else if(S>0){do{if(ae--,ae==C)break e;w=f[ae],S=$(w,E)}while(S>0);f[C]=f[ae],_[C]=_[ae],f[ae]=ct,_[ae]=y,S<0&&(ct=f[C],y=_[C],f[C]=f[V],_[C]=_[V],f[V]=ct,_[V]=y,V++)}v-ae<V-b?(r(f,_,ae,v,$),v=V):(r(f,_,b,V,$),b=ae)}}const o=Array.prototype,a=["push","unshift","pop","shift","splice","reverse","sort"];let l;function c(){const f=o.push,_=o.unshift,b=o.pop,v=o.shift,$=o.splice,m=o.reverse,C=o.sort;l={push:function(...O){const P=e.get(this);if(P===void 0)return f.apply(this,O);const N=this.length,D=O.length;if(D===0)return N;this.length=P.indexMap.length=N+D;let F=N;for(;F<this.length;)this[F]=O[F-N],P.indexMap[F]=-2,F++;return P.notify(),this.length},unshift:function(...O){const P=e.get(this);if(P===void 0)return _.apply(this,O);const N=O.length,D=new Array(N);let F=0;for(;F<N;)D[F++]=-2;_.apply(P.indexMap,D);const fe=_.apply(this,O);return P.notify(),fe},pop:function(){const O=e.get(this);if(O===void 0)return b.call(this);const P=O.indexMap,N=b.call(this),D=P.length-1;return P[D]>-1&&(P.deletedIndices.push(P[D]),P.deletedItems.push(N)),b.call(P),O.notify(),N},shift:function(){const O=e.get(this);if(O===void 0)return v.call(this);const P=O.indexMap,N=v.call(this);return P[0]>-1&&(P.deletedIndices.push(P[0]),P.deletedItems.push(N)),v.call(P),O.notify(),N},splice:function(...O){const P=O[0],N=O[1],D=e.get(this);if(D===void 0)return $.apply(this,O);const F=this.length,fe=P|0,Ne=fe<0?Math.max(F+fe,0):Math.min(fe,F),Ie=D.indexMap,we=O.length,Re=we===0?0:we===1?F-Ne:N;let K=Ne;if(Re>0){const ue=K+Re;for(;K<ue;)Ie[K]>-1&&(Ie.deletedIndices.push(Ie[K]),Ie.deletedItems.push(this[K])),K++}if(K=0,we>2){const ue=we-2,V=new Array(ue);for(;K<ue;)V[K++]=-2;$.call(Ie,P,N,...V)}else $.apply(Ie,O);const E=$.apply(this,O);return(Re>0||K>0)&&D.notify(),E},reverse:function(){const O=e.get(this);if(O===void 0)return m.call(this),this;const P=this.length,N=P/2|0;let D=0;for(;D!==N;){const F=P-D-1,fe=this[D],Ne=O.indexMap[D],Ie=this[F],we=O.indexMap[F];this[D]=Ie,O.indexMap[D]=we,this[F]=fe,O.indexMap[F]=Ne,D++}return O.notify(),this},sort:function(O){const P=e.get(this);if(P===void 0)return C.call(this,O),this;let N=this.length;if(N<2)return this;r(this,P.indexMap,0,N,s);let D=0;for(;D<N&&this[D]!==void 0;)D++;(O===void 0||!Y(O))&&(O=t),r(this,P.indexMap,0,D,O);let F=!1;for(D=0,N=P.indexMap.length;N>D;++D)if(P.indexMap[D]!==D){F=!0;break}return(F||Sv)&&P.notify(),this}};for(const O of a)Xs(l[O],"observing",{value:!0})}let u=!1;const h="__au_arr_on__";function p(){if(l===void 0&&c(),!(pv(h,Array)??!1)){fv(!0,Array,h);for(const f of a)o[f].observing!==!0&&ns(o,f,l[f])}}class d{constructor(_){this.type=oi,u||(u=!0,p()),this.indexObservers={},this.collection=_,this.indexMap=Ei(_.length),this.lenObs=void 0,e.set(_,this)}notify(){const _=this.subs;_.notifyDirty();const b=this.indexMap,v=this.collection,$=v.length;this.indexMap=Ei($),_.notifyCollection(v,b)}getLengthObserver(){return this.lenObs??(this.lenObs=new M0(this))}getIndexObserver(_){var b;return(b=this.indexObservers)[_]??(b[_]=new g(this,_))}}Ht(d,null);class g{constructor(_,b){this.owner=_,this.index=b,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(_){if(_===this.getValue())return;const b=this.owner,v=this.index,$=b.indexMap;$[v]>-1&&$.deletedIndices.push($[v]),$[v]=-2,b.collection[v]=_,b.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(_,b){const v=this.index;if(b[v]===v)return;const m=this.value,C=this.value=this.getValue();m!==C&&this.subs.notify(C,m)}subscribe(_){this.subs.add(_)&&this.subs.count===1&&this.owner.subscribe(this)}unsubscribe(_){this.subs.remove(_)&&this.subs.count===0&&this.owner.unsubscribe(this)}}return Ht(g,null),function(_){let b=e.get(_);return b===void 0&&(e.set(_,b=new d(_)),p()),b}})(),zo=(()=>{const i=Symbol.for("__au_set_obs__"),e=Set[i]??ns(Set,i,new WeakMap),{add:t,clear:s,delete:n}=Set.prototype,r=["add","clear","delete"],o={add:function(c){const u=e.get(this);if(u===void 0)return t.call(this,c),this;const h=this.size;return t.call(this,c),this.size===h?this:(u.indexMap[h]=-2,u.notify(),this)},clear:function(){const c=e.get(this);if(c===void 0)return s.call(this);if(this.size>0){const h=c.indexMap;let p=0;for(const d of this.keys())h[p]>-1&&(h.deletedIndices.push(h[p]),h.deletedItems.push(d)),p++;s.call(this),h.length=0,c.notify()}},delete:function(c){const u=e.get(this);if(u===void 0)return n.call(this,c);if(this.size===0)return!1;let p=0;const d=u.indexMap;for(const g of this.keys()){if(g===c){d[p]>-1&&(d.deletedIndices.push(d[p]),d.deletedItems.push(g)),d.splice(p,1);const f=n.call(this,c);return f===!0&&u.notify(),f}p++}return!1}};function a(c){for(const u of r)ns(c,u,o[u])}class l{constructor(u){this.type=oi,this.collection=u,this.indexMap=Ei(u.size),this.lenObs=void 0}notify(){const u=this.subs;u.notifyDirty();const h=this.indexMap,p=this.collection,d=p.size;this.indexMap=Ei(d),u.notifyCollection(p,h)}getLengthObserver(){return this.lenObs??(this.lenObs=new Gc(this))}}return Ht(l,null),function(u){let h=e.get(u);return h===void 0&&(e.set(u,h=new l(u)),a(u)),h}})(),Ho=(()=>{const i=Symbol.for("__au_map_obs__"),e=Map[i]??ns(Map,i,new WeakMap),{set:t,clear:s,delete:n}=Map.prototype,r=["set","clear","delete"],o={set:function(c,u){const h=e.get(this);if(h===void 0)return t.call(this,c,u),this;const p=this.get(c),d=this.size;if(t.call(this,c,u),this.size===d){let f=0;for(const _ of this.entries()){if(_[0]===c)return _[1]!==p&&(h.indexMap.deletedIndices.push(h.indexMap[f]),h.indexMap.deletedItems.push(_),h.indexMap[f]=-2,h.notify()),this;f++}return this}return h.indexMap[d]=-2,h.notify(),this},clear:function(){const c=e.get(this);if(c===void 0)return s.call(this);if(this.size>0){const h=c.indexMap;let p=0;for(const d of this.keys())h[p]>-1&&(h.deletedIndices.push(h[p]),h.deletedItems.push(d)),p++;s.call(this),h.length=0,c.notify()}},delete:function(c){const u=e.get(this);if(u===void 0)return n.call(this,c);if(this.size===0)return!1;let p=0;const d=u.indexMap;for(const g of this.keys()){if(g===c){d[p]>-1&&(d.deletedIndices.push(d[p]),d.deletedItems.push(g)),d.splice(p,1);const f=n.call(this,c);return f===!0&&u.notify(),f}++p}return!1}};function a(c){for(const u of r)ns(c,u,o[u])}class l{constructor(u){this.type=oi,this.collection=u,this.indexMap=Ei(u.size),this.lenObs=void 0}notify(){const u=this.subs;u.notifyDirty();const h=this.indexMap,p=this.collection,d=p.size;this.indexMap=Ei(d),u.notifyCollection(p,h)}getLengthObserver(){return this.lenObs??(this.lenObs=new Gc(this))}}return Ht(l,null),function(u){let h=e.get(u);return h===void 0&&(e.set(u,h=new l(u)),a(u)),h}})(),Ku=(()=>{class i{constructor(u){this.version=0,this.count=0,this.o=new Map,this.b=u}add(u){this.o.has(u)||(u.subscribe(this.b),++this.count),this.o.set(u,this.version)}clear(){this.o.forEach(t,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(c,u){u.unsubscribe(this.b)}function t(c,u){this.version!==c&&(u.unsubscribe(this.b),this.o.delete(u))}function s(){return ns(this,"obs",new i(this))}function n(c,u){this.obs.add(this.oL.getObserver(c,u))}function r(c){let u;if(_e(c))u=gr(c);else if(Sn(c))u=zo(c);else if(Ws(c))u=Ho(c);else throw G(210,c);this.obs.add(u)}function o(c){this.obs.add(c)}function a(){throw G(99,"handleChange")}function l(){throw G(99,"handleCollectionChange")}return function(u,h){const p=u.prototype;return Cs(p,"observe",n),Cs(p,"observeCollection",r),Cs(p,"subscribeTo",o),Xs(p,"obs",{get:s}),Cs(p,"handleChange",a),Cs(p,"handleCollectionChange",l),u}})();function Et(i,e){return i==null?Ku:Ku(i,e)}let ee=null;const Ji=[];let Rs=!1;function Av(){Rs=!1}function Iv(){Rs=!0}function Uc(){return ee}function Wc(i){if(i==null)throw G(206);if(ee==null){ee=i,Ji[0]=ee,Rs=!0;return}if(ee===i)throw G(207);Ji.push(i),ee=i,Rs=!0}function qc(i){if(i==null)throw G(208);if(ee!==i)throw G(209);Ji.pop(),ee=Ji.length>0?Ji[Ji.length-1]:null,Rs=ee!=null}const Rv=zc({get current(){return ee},get connecting(){return Rs},enter:Wc,exit:qc,pause:Av,resume:Iv}),fn=Reflect.get,Pv=Object.prototype.toString,Ul=new WeakMap,Tv="__au_nw__",Ev="__au_nw";function D0(i){switch(Pv.call(i)){case"[object Object]":return i.constructor[Tv]!==!0;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Pn="__raw__";function J(i){return D0(i)?ba(i):i}function ba(i){return Ul.get(i)??Ov(i)}function ne(i){return i[Pn]??i}function rt(i){return D0(i)&&i[Pn]||i}function Qc(i,e){if(e==="constructor"||e==="__proto__"||e==="$observers"||e===Symbol.toPrimitive||e===Symbol.toStringTag||i.constructor[`${Ev}_${pn(e)}__`]===!0)return!0;const t=Reflect.getOwnPropertyDescriptor(i,e);return(t==null?void 0:t.configurable)===!1&&t.writable===!1}function Ov(i){const e=_e(i)?Lv:Ws(i)||Sn(i)?nb:Bv,t=new Proxy(i,e);return Ul.set(i,t),Ul.set(t,t),t}const Bv={get(i,e,t){if(e===Pn)return i;const s=Uc();return!Rs||Qc(i,e)||s==null?fn(i,e,t):(s.observe(i,e),J(fn(i,e,t)))},deleteProperty(i,e){return console.warn("[DEV:aurelia] deletion of a property will not always be working with Aurelia observation system, as it depends on getter/setter installation."),delete i[e]}},Lv={get(i,e,t){if(e===Pn)return i;if(!Rs||Qc(i,e)||ee==null)return fn(i,e,t);switch(e){case"length":return ee.observe(i,"length"),i.length;case"map":return Mv;case"includes":return Vv;case"indexOf":return Fv;case"lastIndexOf":return jv;case"every":return Nv;case"filter":return Dv;case"find":return Hv;case"findIndex":return zv;case"flat":return Gv;case"flatMap":return Uv;case"join":return Wv;case"push":return Qv;case"pop":return qv;case"reduce":return sb;case"reduceRight":return ib;case"reverse":return Jv;case"shift":return Kv;case"unshift":return Zv;case"slice":return tb;case"splice":return Xv;case"some":return Yv;case"sort":return eb;case"keys":return V0;case"values":case Symbol.iterator:return Wl;case"entries":return ql}return ee.observe(i,e),J(fn(i,e,t))},ownKeys(i){var e;return(e=Uc())==null||e.observe(i,"length"),Reflect.ownKeys(i)}};function Mv(i,e){const t=ne(this),s=t.map((n,r)=>rt(i.call(e,J(n),r,this)));return Ae(ee,t),J(s)}function Nv(i,e){const t=ne(this),s=t.every((n,r)=>i.call(e,J(n),r,this));return Ae(ee,t),s}function Dv(i,e){const t=ne(this),s=t.filter((n,r)=>rt(i.call(e,J(n),r,this)));return Ae(ee,t),J(s)}function Vv(i){const e=ne(this),t=e.includes(rt(i));return Ae(ee,e),t}function Fv(i){const e=ne(this),t=e.indexOf(rt(i));return Ae(ee,e),t}function jv(i){const e=ne(this),t=e.lastIndexOf(rt(i));return Ae(ee,e),t}function zv(i,e){const t=ne(this),s=t.findIndex((n,r)=>rt(i.call(e,J(n),r,this)));return Ae(ee,t),s}function Hv(i,e){const t=ne(this),s=t.find((n,r)=>i(J(n),r,this),e);return Ae(ee,t),J(s)}function Gv(){const i=ne(this);return Ae(ee,i),J(i.flat())}function Uv(i,e){const t=ne(this);return Ae(ee,t),ba(t.flatMap((s,n)=>J(i.call(e,J(s),n,this))))}function Wv(i){const e=ne(this);return Ae(ee,e),e.join(i)}function qv(){return J(ne(this).pop())}function Qv(...i){return ne(this).push(...i)}function Kv(){return J(ne(this).shift())}function Zv(...i){return ne(this).unshift(...i)}function Xv(...i){return J(ne(this).splice(...i))}function Jv(...i){return J(ne(this).reverse())}function Yv(i,e){const t=ne(this),s=t.some((n,r)=>rt(i.call(e,J(n),r,this)));return Ae(ee,t),s}function eb(i){const e=ne(this),t=e.sort(i);return Ae(ee,e),J(t)}function tb(i,e){const t=ne(this);return Ae(ee,t),ba(t.slice(i,e))}function sb(i,e){const t=ne(this),s=t.reduce((n,r,o)=>i(n,J(r),o,this),e);return Ae(ee,t),J(s)}function ib(i,e){const t=ne(this),s=t.reduceRight((n,r,o)=>i(n,J(r),o,this),e);return Ae(ee,t),J(s)}const nb={get(i,e,t){if(e===Pn)return i;const s=Uc();if(!Rs||Qc(i,e)||s==null)return fn(i,e,t);switch(e){case"size":return s.observe(i,"size"),i.size;case"clear":return hb;case"delete":return ub;case"forEach":return rb;case"add":if(Sn(i))return cb;break;case"get":if(Ws(i))return ab;break;case"set":if(Ws(i))return lb;break;case"has":return ob;case"keys":return V0;case"values":return Wl;case"entries":return ql;case Symbol.iterator:return Ws(i)?ql:Wl}return J(fn(i,e,t))}};function rb(i,e){const t=ne(this);return Ae(ee,t),t.forEach((s,n)=>{i.call(e,J(s),J(n),this)})}function ob(i){const e=ne(this);return Ae(ee,e),e.has(rt(i))}function ab(i){const e=ne(this);return Ae(ee,e),J(e.get(rt(i)))}function lb(i,e){return J(ne(this).set(rt(i),rt(e)))}function cb(i){return J(ne(this).add(rt(i)))}function hb(){return J(ne(this).clear())}function ub(i){return J(ne(this).delete(rt(i)))}function V0(){const i=ne(this);Ae(ee,i);const e=i.keys();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:J(s),done:n}},[Symbol.iterator](){return this}}}function Wl(){const i=ne(this);Ae(ee,i);const e=i.values();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:J(s),done:n}},[Symbol.iterator](){return this}}}function ql(){const i=ne(this);Ae(ee,i);const e=i.entries();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:[J(s[0]),J(s[1])],done:n}},[Symbol.iterator](){return this}}}const Ae=(i,e)=>i==null?void 0:i.observeCollection(e),db=zc({getProxy:ba,getRaw:ne,wrap:J,unwrap:rt,rawKey:Pn});class Go{constructor(e,t,s,n,r="async"){this.type=oi,this._oldValue=void 0,this._value=void 0,this._notified=!1,this._isQueued=!1,this._isDirty=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._wrapped=J(e),this.$get=t,this.$set=s,this.oL=n,this._flush=r}init(e){this._value=e,this._isDirty=!1}getValue(){return this.subs.count===0?this.$get.call(this._obj,this._obj,this):(this._isDirty&&(this.compute(),this._isDirty=!1,this._notified=!1),this._value)}setValue(e){if(Y(this.$set))this._coercer!==void 0&&(e=this._coercer.call(null,e,this._coercionConfig)),Is(e,this._value)||(this.$set.call(this._obj,e),this.run());else throw G(221)}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,!0}useCallback(e){return this._callback=e,!0}handleDirty(){this._isDirty||(this._isDirty=!0,this.subs.notifyDirty())}handleChange(){this._isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this._isDirty=!0,this.subs.count>0&&this.run()}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.compute(),this._isDirty=!1,this._notified=!1)}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&(this._isDirty=!0,this.obs.clearAll(),this._oldValue=void 0,this._notified=!0)}run(){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,rs(()=>{this._isQueued=!1,this._run()}))}_run(){var n;const e=this._value,t=this._oldValue,s=this.compute();this._isDirty=!1,(!this._notified||!Is(s,e))&&((n=this._callback)==null||n.call(this,s,t),this.subs.notify(s,t),this._oldValue=this._value=s,this._notified=!0)}compute(){this.obs.version++;try{return Wc(this),this._value=rt(this.$get.call(this._wrapped,this._wrapped,this))}finally{this.obs.clear(),qc(this)}}}Et(Go,null),Ht(Go,null);const pb=(()=>{const i=new WeakMap,e=t=>S_(t)?t:String(t);return{get:(t,s)=>{var n;return(n=i.get(t))==null?void 0:n.get(e(s))},_getFlush:(t,s)=>{var n,r;return(r=(n=i.get(t))==null?void 0:n.get(e(s)))==null?void 0:r.flush},set:(t,s,n)=>{i.has(t)||i.set(t,new Map),i.get(t).set(e(s),n)}}})(),Kc=_a("IDirtyChecker",i=>i.callback(()=>{throw G(217)})),fb={timeoutsPerCheck:25};class gb{static register(e){e.register(Pt.singleton(this,this),Pt.aliasTo(this,Kc))}constructor(){this.tracked=[],this._task=null,this._elapsedFrames=0,this.p=x(xn),this.check=()=>{if(++this._elapsedFrames<fb.timeoutsPerCheck)return;this._elapsedFrames=0;const e=this.tracked.slice(0),t=e.length;let s,n=0;for(;n<t;++n)s=e[n],s.isDirty()&&s.flush()},Ht(Zu,null)}createProperty(e,t){return new Zu(this,e,t)}addProperty(e){this.tracked.push(e),this.tracked.length===1&&(this._task=yv(this.check,{interval:0}))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),this.tracked.length===0&&(this._task.cancel(),this._task=null)}}class Zu{constructor(e,t,s){this.obj=t,this.key=s,this.type=va,this._oldValue=void 0,this._dirtyChecker=e}getValue(){return this.obj[this.key]}setValue(e){throw G(219,this.key)}isDirty(){return this._oldValue!==this.obj[this.key]}flush(){const e=this._oldValue,t=this.getValue();this._oldValue=t,this.subs.notify(t,e)}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.obj[this.key],this._dirtyChecker.addProperty(this))}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&this._dirtyChecker.removeProperty(this)}}class _b{get doNotCache(){return!0}constructor(e,t){this.type=va,this._obj=e,this._key=t}getValue(){return this._obj[this._key]}setValue(){}subscribe(){}unsubscribe(){}}class F0{constructor(){this.type=va}getValue(e,t){return e[t]}setValue(e,t,s){t[s]=e}}class Zc{constructor(e,t){this.type=oi,this._value=void 0,this._observing=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._key=t}getValue(){return this._value}setValue(e){var s,n;this._coercer!==void 0&&(e=this._coercer.call(void 0,e,this._coercionConfig));const t=this._value;if(this._observing){if(Is(e,this._value))return;this._value=e,this.subs.notifyDirty(),this.subs.notify(e,t),Is(e,this._value)&&((s=this._callback)==null||s.call(this,e,t))}else this._value=this._obj[this._key]=e,(n=this._callback)==null||n.call(this,e,t)}useCallback(e){return this._callback=e,this.start(),!0}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,this.start(),!0}subscribe(e){this._observing===!1&&this.start(),this.subs.add(e)}start(){return this._observing===!1&&(this._observing=!0,this._value=this._obj[this._key],Xs(this._obj,this._key,{enumerable:!0,configurable:!0,get:T0(()=>this.getValue(),{getObserver:()=>this}),set:e=>{this.setValue(e)}})),this}stop(){return this._observing&&(Xs(this._obj,this._key,{enumerable:!0,configurable:!0,writable:!0,value:this._value}),this._observing=!1),this}}Ht(Zc,null);const Ql=new F0,Tn=_a("IObserverLocator",i=>i.singleton(bb)),Xc=_a("INodeObserverLocator",i=>i.cachedCallback(e=>(e.getAll(Me).forEach(t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")}),new mb)));class mb{handles(){return!1}getObserver(){return Ql}getAccessor(){return Ql}}const vb=_a("IComputedObserverLocator",i=>i.singleton(class{getObserver(t,s,n,r){const o=new Go(t,n.get,n.set,r,pb._getFlush(t,s));return Xs(t,s,{enumerable:n.enumerable,configurable:!0,get:T0((()=>o.getValue()),{getObserver:()=>o}),set:a=>{o.setValue(a)}}),o}}));class bb{constructor(){this._adapters=[],this._dirtyChecker=x(Kc),this._nodeObserverLocator=x(Xc),this._computedObserverLocator=x(vb)}addAdapter(e){this._adapters.push(e)}getObserver(e,t){if(e==null)throw G(199,t);if(!up(e))return new _b(e,Y(t)?"":t);if(Y(t))return new Go(e,t,void 0,this);const s=j0(e);let n=s[t];return n===void 0&&(n=this.createObserver(e,t),n.doNotCache||(s[t]=n)),n}getAccessor(e,t){var n;const s=(n=e.$observers)==null?void 0:n[t];return s!==void 0?s:this._nodeObserverLocator.handles(e,t,this)?this._nodeObserverLocator.getAccessor(e,t,this):Ql}getArrayObserver(e){return gr(e)}getMapObserver(e){return Ho(e)}getSetObserver(e){return zo(e)}createObserver(e,t){var n,r;if(this._nodeObserverLocator.handles(e,t,this))return this._nodeObserverLocator.getObserver(e,t,this);switch(t){case"length":if(_e(e))return gr(e).getLengthObserver();break;case"size":if(Ws(e))return Ho(e).getLengthObserver();if(Sn(e))return zo(e).getLengthObserver();break;default:if(_e(e)&&un(t))return gr(e).getIndexObserver(Number(t));break}let s=Ju(e,t);if(s===void 0){let o=Xu(e);for(;o!==null&&(s=Ju(o,t),s===void 0);)o=Xu(o)}if(s!==void 0&&!dv.call(s,"value")){let o=this._getAdapterObserver(e,t,s);return o==null&&(o=(r=(n=s.get)==null?void 0:n.getObserver)==null?void 0:r.call(n,e)),o??(s.configurable?this._computedObserverLocator.getObserver(e,t,s,this):this._dirtyChecker.createProperty(e,t))}return new Zc(e,t)}_getAdapterObserver(e,t,s){if(this._adapters.length>0)for(const n of this._adapters){const r=n.getObserver(e,t,s,this);if(r!=null)return r}return null}}const Jc=i=>{let e;return _e(i)?e=gr(i):Ws(i)?e=Ho(i):Sn(i)&&(e=zo(i)),e},Xu=Object.getPrototypeOf,Ju=Object.getOwnPropertyDescriptor,j0=i=>{let e=i.$observers;return e===void 0&&Xs(i,"$observers",{value:e=ce()}),e};class wb{constructor(e,t){this.oL=e,this.fn=t,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this._cleanupTask=void 0,this.run=()=>{var s;if(this.stopped)throw G(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{(s=this._cleanupTask)==null||s.call(void 0),Wc(this),this._cleanupTask=this.fn(this)}finally{this.obs.clear(),this.running=!1,qc(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,G(226);this.run()}else this.runCount=0}},this.stop=()=>{var s;(s=this._cleanupTask)==null||s.call(void 0),this._cleanupTask=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}}Et(wb,null);class Yu{constructor(e,t,s,n){this.oL=t,this._value=void 0,this.boundFn=!1,this._scope=e,this.ast=s,this._callback=n}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const e=this._value,t=ve(this.ast,this._scope,this,this);this.obs.clear(),Is(t,e)||(this._value=t,this._callback.call(void 0,t,e))}stop(){this.obs.clearAll(),this._value=void 0}}Et(Yu,null),mv(Yu);const Fn="pending",Io="running",el="completed",fo="canceled",tl=new Map,ed=i=>()=>{throw Oi(`AUR1005: The PLATFORM did not receive a valid reference to the global function '${i}'.`)};class Yc{constructor(e,t={}){var s,n;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=e,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(r=>{this[r]=r in t?t[r]:e[r]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(r=>{var o;this[r]=r in t?t[r]:((o=e[r])==null?void 0:o.bind(e))??ed(r)}),this.performanceNow="performanceNow"in t?t.performanceNow:((n=(s=e.performance)==null?void 0:s.now)==null?void 0:n.bind(e.performance))??ed("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new eh(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(e,t={}){let s=tl.get(e);return s===void 0&&tl.set(e,s=new Yc(e,t)),s}static set(e,t){tl.set(e,t)}requestMacroTask(){this.macroTaskRequested=!0,this.macroTaskHandle===-1&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,this.macroTaskRequested===!0&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class eh{get isEmpty(){return this._pendingAsyncCount===0&&this._processing.length===0&&this._pending.length===0&&this._delayed.length===0}get _hasNoMoreFiniteWork(){return this._pendingAsyncCount===0&&this._processing.every(sl)&&this._pending.every(sl)&&this._delayed.every(sl)}constructor(e,t,s){this.platform=e,this.$request=t,this.$cancel=s,this._suspenderTask=void 0,this._pendingAsyncCount=0,this._processing=[],this._pending=[],this._delayed=[],this._flushRequested=!1,this._yieldPromise=void 0,this._lastRequest=0,this._lastFlush=0,this._requestFlush=()=>{this._tracer.enabled&&this._tracer.enter(this,"requestFlush"),this._flushRequested||(this._flushRequested=!0,this._lastRequest=this._now(),this.$request()),this._tracer.enabled&&this._tracer.leave(this,"requestFlush")},this._now=e.performanceNow,this._tracer=new kb(e.console)}flush(e=this._now()){if(this._tracer.enabled&&this._tracer.enter(this,"flush"),this._flushRequested=!1,this._lastFlush=e,this._suspenderTask===void 0){let t;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)t=this._delayed[n],t.queueTime<=e&&(this._processing.push(t),this._delayed.splice(n--,1));let s;for(;this._processing.length>0;)if((s=this._processing.shift()).run(),s.status===Io)if(s.suspend===!0){this._suspenderTask=s,this._requestFlush(),this._tracer.enabled&&this._tracer.leave(this,"flush early async");return}else++this._pendingAsyncCount;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)t=this._delayed[n],t.queueTime<=e&&(this._processing.push(t),this._delayed.splice(n--,1));if((this._processing.length>0||this._delayed.length>0||this._pendingAsyncCount>0)&&this._requestFlush(),this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const n=this._yieldPromise;this._yieldPromise=void 0,n.resolve()}}else this._requestFlush();this._tracer.enabled&&this._tracer.leave(this,"flush full")}cancel(){this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._flushRequested&&(this.$cancel(),this._flushRequested=!1),this._tracer.enabled&&this._tracer.leave(this,"cancel")}async yield(){this._tracer.enabled&&this._tracer.enter(this,"yield"),this.isEmpty?this._tracer.enabled&&this._tracer.leave(this,"yield empty"):(this._yieldPromise===void 0&&(this._tracer.enabled&&this._tracer.trace(this,"yield - creating promise"),this._yieldPromise=G0()),await this._yieldPromise,this._tracer.enabled&&this._tracer.leave(this,"yield task"))}queueTask(e,t){this._tracer.enabled&&this._tracer.enter(this,"queueTask");const{delay:s,preempt:n,persistent:r,suspend:o}={...Sb,...t};if(n){if(s>0)throw xb();if(r)throw Ab()}this._processing.length===0&&this._requestFlush();const a=this._now(),l=new Cb(this._tracer,this,a,a+s,n,r,o,e);return n?this._processing[this._processing.length]=l:s===0?this._pending[this._pending.length]=l:this._delayed[this._delayed.length]=l,this._tracer.enabled&&this._tracer.leave(this,"queueTask"),l}remove(e){this._tracer.enabled&&this._tracer.enter(this,"remove");let t=this._processing.indexOf(e);if(t>-1){this._processing.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove processing");return}if(t=this._pending.indexOf(e),t>-1){this._pending.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove pending");return}if(t=this._delayed.indexOf(e),t>-1){this._delayed.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove delayed");return}throw this._tracer.enabled&&this._tracer.leave(this,"remove error"),Oi(`Task #${e.id} could not be found`)}_resetPersistentTask(e){this._tracer.enabled&&this._tracer.enter(this,"resetPersistentTask"),e.reset(this._now()),e.createdTime===e.queueTime?this._pending[this._pending.length]=e:this._delayed[this._delayed.length]=e,this._tracer.enabled&&this._tracer.leave(this,"resetPersistentTask")}_completeAsyncTask(e){var t;if(this._tracer.enabled&&this._tracer.enter(this,"completeAsyncTask"),e.suspend===!0){if(this._suspenderTask!==e)throw this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask error"),Oi(`Async task completion mismatch: suspenderTask=${(t=this._suspenderTask)==null?void 0:t.id}, task=${e.id}`);this._suspenderTask=void 0}else--this._pendingAsyncCount;if(this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const s=this._yieldPromise;this._yieldPromise=void 0,s.resolve()}this.isEmpty&&this.cancel(),this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask")}}class td extends Error{constructor(e){super("Task was canceled."),this.task=e}}let yb=0;class Cb{get result(){const e=this._result;if(e===void 0)switch(this._status){case Fn:{const t=this._result=G0();return this._resolve=t.resolve,this._reject=t.reject,t}case Io:throw Oi("Trying to await task from within task will cause a deadlock.");case el:return this._result=Promise.resolve();case fo:return this._result=Promise.reject(new td(this))}return e}get status(){return this._status}constructor(e,t,s,n,r,o,a,l){this.taskQueue=t,this.createdTime=s,this.queueTime=n,this.preempt=r,this.persistent=o,this.suspend=a,this.callback=l,this.id=++yb,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._status=Fn,this._tracer=e}run(e=this.taskQueue.platform.performanceNow()){if(this._tracer.enabled&&this._tracer.enter(this,"run"),this._status!==Fn)throw this._tracer.enabled&&this._tracer.leave(this,"run error"),Oi(`Cannot run task in ${this._status} state`);const{persistent:t,taskQueue:s,callback:n,_resolve:r,_reject:o,createdTime:a}=this;let l;this._status=Io;try{l=n(e-a),l instanceof Promise?l.then(c=>{this.persistent?s._resetPersistentTask(this):(t?this._status=fo:this._status=el,this.dispose()),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async then"),r!==void 0&&r(c)}).catch(c=>{if(this.persistent||this.dispose(),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async catch"),o!==void 0)o(c);else throw c}):(this.persistent?s._resetPersistentTask(this):(t?this._status=fo:this._status=el,this.dispose()),this._tracer.enabled&&this._tracer.leave(this,"run sync success"),r!==void 0&&r(l))}catch(c){if(this.persistent||this.dispose(),this._tracer.enabled&&this._tracer.leave(this,"run sync error"),o!==void 0)o(c);else throw c}}cancel(){if(this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._status===Fn){const e=this.taskQueue,t=this._reject;return e.remove(this),e.isEmpty&&e.cancel(),this._status=fo,this.dispose(),t!==void 0&&t(new td(this)),this._tracer.enabled&&this._tracer.leave(this,"cancel true =pending"),!0}else if(this._status===Io&&this.persistent)return this.persistent=!1,this._tracer.enabled&&this._tracer.leave(this,"cancel true =running+persistent"),!0;return this._tracer.enabled&&this._tracer.leave(this,"cancel false"),!1}reset(e){this._tracer.enabled&&this._tracer.enter(this,"reset");const t=this.queueTime-this.createdTime;this.createdTime=e,this.queueTime=e+t,this._status=Fn,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._tracer.enabled&&this._tracer.leave(this,"reset")}dispose(){this._tracer.enabled&&this._tracer.trace(this,"dispose"),this.callback=void 0,this._resolve=void 0,this._reject=void 0,this._result=void 0}}class kb{constructor(e){this.console=e,this.enabled=!1,this.depth=0}enter(e,t){this.log(`${"  ".repeat(this.depth++)}> `,e,t)}leave(e,t){this.log(`${"  ".repeat(--this.depth)}< `,e,t)}trace(e,t){this.log(`${"  ".repeat(this.depth)}- `,e,t)}log(e,t,s){if(t instanceof eh){const n=t._processing.length,r=t._pending.length,o=t._delayed.length,a=t._flushRequested,l=!!t._suspenderTask,c=`processing=${n} pending=${r} delayed=${o} flushReq=${a} susTask=${l}`;this.console.log(`${e}[Q.${s}] ${c}`)}else{const n=t.id,r=Math.round(t.createdTime*10)/10,o=Math.round(t.queueTime*10)/10,a=t.preempt,l=t.persistent,c=t.suspend,u=t._status,h=`id=${n} created=${r} queue=${o} preempt=${a} persistent=${l} status=${u} suspend=${c}`;this.console.log(`${e}[T.${s}] ${h}`)}}}const Sb={delay:0,preempt:!1,persistent:!1,suspend:!1};let z0,H0;const $b=(i,e)=>{z0=i,H0=e},G0=()=>{const i=new Promise($b);return i.resolve=z0,i.reject=H0,i},sl=i=>i.persistent,xb=()=>Oi("AUR1006: Invalid arguments: preempt cannot be combined with a greater-than-zero delay"),Ab=()=>Oi("AUR1007: Invalid arguments: preempt cannot be combined with persistent"),Oi=i=>new Error(i);class Us extends Yc{static getOrCreate(e,t={}){let s=Us._lookup.get(e);return s===void 0&&Us._lookup.set(e,s=new Us(e,t)),s}static set(e,t){Us._lookup.set(e,t)}get domWriteQueue(){return this.console.log("[DEV:aurelia] platform.domQueue is deprecated, please use platform.domQueue instead."),this.domQueue}get domReadQueue(){return this.console.log("[DEV:aurelia] platform.domReadQueue has been removed, please use platform.domQueue instead."),this.domQueue}constructor(e,t={}){super(e,t);const s=n=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${n}'.`)};"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(n=>this[n]=n in t?t[n]:e[n]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(n=>{var r;return this[n]=n in t?t[n]:((r=e[n])==null?void 0:r.bind(e))??s(n)}),this.domQueue=(()=>{let n=!1,r=-1;const o=()=>{n=!0,r===-1&&(r=this.requestAnimationFrame(l))},a=()=>{n=!1,r>-1&&(this.cancelAnimationFrame(r),r=-1)},l=()=>{r=-1,n===!0&&(n=!1,c.flush())},c=new eh(this,o,a);return c})()}}Us._lookup=new WeakMap;const{default:th,oneTime:wa,toView:xe,fromView:Ps,twoWay:U0}=Di,Je=Rt.get,ya=Rt.has,Gt=Rt.define,{annotation:Ib}=mp,Es=Ib.keyFor,Wr=Object,Bi=String,W0=Wr.prototype,Si=W0.hasOwnProperty,ps=Wr.freeze,q0=Wr.assign,Q0=Wr.getOwnPropertyNames,sh=Wr.keys,sd=ce(),Kl=(i,e,t)=>{if(sd[e]===!0)return!0;if(!X(e))return!1;const s=e.slice(0,5);return sd[e]=s==="aria-"||s==="data-"||t.isStandardSvgAttribute(i,e)},Zl=i=>{throw i},K0=Reflect.defineProperty,bt=(i,e,t)=>(K0(i,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),t),Z0=(i,e,t)=>i.addSignalListener(e,t),X0=(i,e,t)=>i.removeSignalListener(e,t),Rb="Interpolation",Pb="IsIterator",Tb="IsFunction",os="IsProperty",id="pending",il="running",ih=Hc.Observer,ai=Hc.Node,fs=Hc.Layout,B=(i,...e)=>{const t=Bi(i).padStart(4,"0"),s=Ob(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/runtime-html/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${n}`)},Eb={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:"No binding behavior definition found for type {{0:name}}",152:"No value converter definition found for type {{0:name}}",153:'Element "{{0}}" has already been registered.',154:'Attribute "{{0}}" has already been registered.',155:"Value converter {{0}} has already been registered.",156:"Binding behavior {{0}} has already been registered.",157:"Binding command {{0}} has already been registered.",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",227:"@bindable is not supported for properties that uses a symbol for name. Use a string for the property name instead.",228:"@bindable cannot be used as a class decorator when no configuration object is supplied.",229:"@bindable cannot be used as a class decorator when no property name is supplied in the configuration object.",500:"There is no cached controller for the provided ViewModel: {{0}}",501:"Invalid combination: cannot combine the containerless custom element option with Shadow DOM.",502:"Trying to activate a disposed controller: {{0}}.",503:"Controller at {{0}} is in an unexpected state: {{1}} during activation.",504:"Synthetic view at {{0}} is being activated with null/undefined scope.",505:"Controller at {{0}} is in an unexpected state: {{1}} during deactivation.",506:"Invalid callback for @watch decorator: {{0}}",507:"Observer for bindable property {{0}} does not support coercion.",508:"Observer for property {{0}} does not support change handler.",759:"No attribute definition found for type {{0:name}}",760:"No element definition found for type {{0:name}}",761:"Cannot create a custom element definition with only a name and no type: {{0}}",762:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",763:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",764:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",765:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",766:"Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a {{0:typeof}}.",652:"Aurelia is unable to observe property {{0}}. Register observation mapping with .useConfig().",653:"Mapping for property {{0}} of <{{1}} /> already exists",654:"Array values can only be bound to a multi-select.",714:'Template compilation error: primary already exists on element/attribute "{{0}}"',719:"Attribute {{0}} has been already registered for {{1:element}}",767:"Aurelia.root was accessed without a valid root.",768:"An instance of Aurelia is already registered with the container or an ancestor of it.",769:"Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView, did you create the host from a DOMParser and forget to call adoptNode()?",770:"Aurelia.start() was called without a composition root",771:"The aurelia instance must be fully stopped before it can be disposed",750:"view.ref is not supported. If you are migrating from v1, this can be understood as the controller.",751:`Attempted to reference "{{0}}", but it was not found amongst the target's API.`,752:"Element {{0:.res}} is not registered in {{1:name}}.",753:"Attribute {{0:.res}} is not registered in {{1:name}}.",754:"Attribute {{0:.res}} is not registered in {{1:name}}.",755:"Cannot resolve ViewFactory before the provider was prepared.",756:"Cannot resolve ViewFactory without a (valid) name.",757:"AUR0757: The compiled template is not aligned with the render instructions. There are {{0}} targets and {{1}} instructions.",772:"Invalid @watch decorator config. Expected an expression or a fn but received null/undefined.",773:'Invalid @watch decorator change handler config.Method "{{0}}" not found in class {{1}}',774:"Invalid @watch decorator usage: decorated target {{0}} is not a class method.",775:'Invalid command "{{0}}" usage with [repeat]',776:'Invalid [repeat] usage, found extraneous target "{{0}}"',777:"Unsupported: [repeat] cannot iterate over {{0:toString}}",778:"Unsupported: [repeat] cannot count {{0:toString}}",814:"[repeat] encountered an error: number of views != number of items {{0:join(!=)}}",779:"Invalid portal insertion position: {{0}}",801:'"& self" binding behavior only supports listener binding via trigger/capture command.',802:`"& updateTrigger" invalid usage. This binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:'blur'">`,803:'"& updateTrigger" invalid usage. This binding behavior can only be applied to two-way/ from-view bindings.',805:'Invalid scope behavior "{{0}}" on <au-compose />. Only "scoped" or "auto" allowed.',806:`<au-compose /> couldn't find a custom element with name "{{0}}", did you forget to register it locally or globally?`,807:"Composition has already been activated/deactivated. Id: {{0:controller}}",808:"Composition has already been deactivated.",810:"Invalid [else] usage, it should follow an [if]",811:"Invalid portal strict target query, empty query.",812:"Invalid portal strict target resolution, target not found.",813:'Invalid [pending]/[then]/[catch] usage. The parent [promise].resolve not found; only "*[promise.resolve] > *[pending|then|catch]" relation is supported.',815:'Invalid [case/default-case] usage. The parent [switch] not found; only "*[switch] > *[case|default-case]" relation is supported.',816:"Invalid [default-case] usage. Multiple 'default-case's are not allowed.",817:'"& signal" binding behavior can only be used with bindings that have a "handleChange" method',818:`"& signal" invalid usage. At least one signal name must be passed to the signal behavior, e.g. "expr & signal:'my-signal'"`,819:"Spreading to bindables onto non custom element",820:"Invalid spread target {{0}}",9999:"No scope context for spread binding.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?",9997:"Marker is malformed. This likely happens when a compiled template has been modified. Did you accidentally modified some compiled template? You can modify template before compilation with compiling Template compiler hook.",9996:"Invalid usage, a rate limit has already been applied. Did you have both throttle and debounce on the same binding?",9995:"The binding already has a target subscriber.",9994:`"& attr" can be only used on property binding. It's used on {{0:ctor}}`,9993:'"& updateTrigger" binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger',9992:'"& updateTrigger" uses node observer to observe, but it does not know how to use events to observe property <{{0:target@property}} />',9991:"Invalid @children usage. @children decorator can only be used on a field",9990:"Invalid @slotted usage. @slotted decorator can only be used on a field",9989:"Invalid query selector. Only selectors with alpha-numeric characters, or $all are allowed. Got {{0}} instead."},Ob=(i,...e)=>{var s;let t=Eb[i];for(let n=0;n<e.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(t);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=e[n];if(l!=null)switch(a){case"nodeName":l=l.nodeName.toLowerCase();break;case"name":l=l.name;break;case"typeof":l=typeof l;break;case"ctor":l=l.constructor.name;break;case"controller":l=l.controller.name;break;case"target@property":l=`${l.target}@${l.targetProperty}`;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"bindingCommandHelp":l=Bb(l);break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=Bi(l[a.slice(1)]):l=Bi(l)}t=t.slice(0,o.index)+l+t.slice(r.lastIndex),o=r.exec(t)}}return t};function Bb(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}function Se(i,e){let t;function s(n,r){var c;let o;switch(r.kind){case"getter":case"field":{const u=r.name;if(typeof u!="string")throw B(227);o=u;break}case"class":if(t==null)throw B(228);if(typeof t=="string")o=t;else{const u=t.name;if(!u)throw B(229);if(typeof u!="string")throw B(227);o=u}break}const a=t==null||typeof t=="string"?{name:o}:t,l=(c=r.metadata)[js]??(c[js]=ce());l[o]=Ss.create(o,a)}if(arguments.length>1){t={},s(i,e);return}else if(X(i))return t=i,s;return t=i===void 0?{}:i,s}const js=Es("bindables"),mt=ps({name:js,keyFrom:i=>`${js}:${i}`,from(...i){const e={},t=Array.isArray;function s(o){e[o]=Ss.create(o)}function n(o,a){e[o]=a instanceof Ss?a:Ss.create(o,a===!0?{}:a)}function r(o){t(o)?o.forEach(a=>X(a)?s(a):n(a.name,a)):o instanceof Ss?e[o.name]=o:o!==void 0&&sh(o).forEach(a=>n(a,o[a]))}return i.forEach(r),e},getAll(i){const e=[],t=I_(i);let s=t.length,n;for(;--s>=0;){n=t[s];const r=Je(js,n);r!=null&&e.push(...Object.values(r))}return e},_add(i,e){let t=Je(js,e);t==null&&Gt(t=ce(),e,js),t[i.name]=i}});class Ss{constructor(e,t,s,n,r,o){this.attribute=e,this.callback=t,this.mode=s,this.primary=n,this.name=r,this.set=o}static create(e,t={}){const s=t.mode??xe;return new Ss(t.attribute??fp(e),t.callback??`${e}Changed`,X(s)?Di[s]??th:s,t.primary??!1,t.name??e,t.set??Lb(t))}}const Xl={key:Es("coercer"),define(i,e){Gt(i[e].bind(i),i,Xl.key)},for(i){return Je(Xl.key,i)}};function Lb(i={}){const e=i.type??null;if(e==null)return dt;let t;switch(e){case Number:case Boolean:case String:case BigInt:t=e;break;default:{const s=e.coerce;t=typeof s=="function"?s.bind(e):Xl.for(e)??dt;break}}return t===dt?t:Mb(t,i.nullable)}function Mb(i,e){return function(t,s){return s!=null&&s.enableCoercion?(e??!((s==null?void 0:s.coerceNullish)??!1))&&t==null?t:i(t,s):t}}const oe=at.createInterface,gs=Pt.singleton,Js=Pt.aliasTo,nh=Pt.instance,me=(i,e,t)=>i.registerResolver(e,t),Nb="custom-element",Db="custom-attribute",Ys=(i,e,t,s="__au_static_resource__")=>{var r;let n=Je(s,i);return n==null&&((r=i.$au)==null?void 0:r.type)===e&&(n=t(i.$au,i),Gt(n,i,s)),n};class _r{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return X(e)?(s=e,n={name:s}):(s=e.name,n=e),new _r(t,Fs(nd(t,"name"),s),Te(nd(t,"aliases"),n.aliases,t.aliases),J0.keyFrom(s))}register(e,t){const s=this.Type,n=typeof t=="string"?mr(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${B(156,this.name)}`):e.register(e.has(s,!1)?null:gs(s,s),Js(s,n),...r.map(o=>Js(s,mr(o))))}}const It="binding-behavior",Qi=si(It),nd=(i,e)=>Je(Es(e),i),mr=i=>`${Qi}:${i}`,J0=ps({name:Qi,keyFrom:mr,isType(i){var e;return Y(i)&&(ya(Qi,i)||((e=i.$au)==null?void 0:e.type)===It)},define(i,e){const t=_r.create(i,e),s=t.Type;return Gt(t,s,Qi,Dt),s},getDefinition(i){const e=Je(Qi,i)??Ys(i,It,_r.create);if(e===void 0)throw B(151,i);return e},find(i,e){const t=i.find(It,e);return t==null?null:Je(Qi,t)??Ys(t,It,_r.create)??null},get(i,e){try{return i.get(dn(mr(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve binding behavior with name",e),t}return i.get(dn(mr(e)))}}),nl=new Map,Ca=i=>({type:It,name:i});class ka{bind(e,t){nl.set(t,t.mode),t.mode=this.mode}unbind(e,t){t.mode=nl.get(t),nl.delete(t)}}class Y0 extends ka{get mode(){return wa}}Y0.$au=Ca("oneTime");class ef extends ka{get mode(){return xe}}ef.$au=Ca("toView");class tf extends ka{get mode(){return Ps}}tf.$au=Ca("fromView");class sf extends ka{get mode(){return U0}}sf.$au=Ca("twoWay");const rl=new WeakMap,Vb=200;class nf{constructor(){this._platform=x(xn)}bind(e,t,s,n){var a;const r={type:"debounce",delay:s??Vb,now:this._platform.performanceNow,queue:this._platform.taskQueue,signals:X(n)?[n]:n??U},o=(a=t.limit)==null?void 0:a.call(t,r);o==null?console.warn(`Binding ${t.constructor.name} does not support debounce rate limiting`):rl.set(t,o)}unbind(e,t){var s;(s=rl.get(t))==null||s.dispose(),rl.delete(t)}}nf.$au={type:It,name:"debounce"};const Uo=oe("ISignaler",i=>i.singleton(Fb));class Fb{constructor(){this.signals=ce()}dispatchSignal(e){const t=this.signals[e];if(t===void 0)return;let s;for(s of t.keys())s.handleChange(void 0,void 0)}addSignalListener(e,t){var s;((s=this.signals)[e]??(s[e]=new Set)).add(t)}removeSignalListener(e,t){var s;(s=this.signals[e])==null||s.delete(t)}}class rf{constructor(){this._lookup=new Map,this._signaler=x(Uo)}bind(e,t,...s){if(!("handleChange"in t))throw B(817);if(s.length===0)throw B(818);this._lookup.set(t,s);let n;for(n of s)Z0(this._signaler,n,t)}unbind(e,t){const s=this._lookup.get(t);this._lookup.delete(t);let n;for(n of s)X0(this._signaler,n,t)}}rf.$au={type:It,name:"signal"};const ol=new WeakMap,jb=200;class of{constructor(){({performanceNow:this._now,taskQueue:this._taskQueue}=x(xn))}bind(e,t,s,n){var a;const r={type:"throttle",delay:s??jb,now:this._now,queue:this._taskQueue,signals:X(n)?[n]:n??U},o=(a=t.limit)==null?void 0:a.call(t,r);o==null?console.warn(`Binding ${t.constructor.name} does not support debounce rate limiting`):ol.set(t,o)}unbind(e,t){var s;(s=ol.get(t))==null||s.dispose(),ol.delete(t)}}of.$au={type:It,name:"throttle"};const Jl=oe("IAppTask");class rd{constructor(e,t,s){this.c=void 0,this.slot=e,this.k=t,this.cb=s}register(e){return this.c=e.register(nh(Jl,this))}run(){const e=this.k,t=this.cb;return e===null?t():t(this.c.get(e))}}const go=ps({creating:gi("creating"),hydrating:gi("hydrating"),hydrated:gi("hydrated"),activating:gi("activating"),activated:gi("activated"),deactivating:gi("deactivating"),deactivated:gi("deactivated")});function gi(i){function e(t,s){return Y(s)?new rd(i,t,s):new rd(i,null,t)}return e}const Ve=xn;class zb{}const Vt=(()=>{const i=new WeakMap;let e=!1;return new class{get hideProp(){return e}set hideProp(t){e=t}get(t,s){var n;return((n=i.get(t))==null?void 0:n[s])??null}set(t,s,n){const r=i.get(t)??(i.set(t,new zb),i.get(t));if(s in r)throw new Error(`Node already associated with a controller, remove the ref "${s}" first before associating with another controller`);return e||(t.$au??(t.$au=r)),r[s]=n}}})(),En=oe("INode"),Yl=(()=>{const i=new WeakMap;return ps({add(e,t){let s=i.get(e);s==null&&i.set(e,s=[]),s.push(t)},getDefinitions(e){return i.get(e)??U}})})();class Li{get type(){return Db}constructor(e,t,s,n,r,o,a,l,c,u,h){this.Type=e,this.name=t,this.aliases=s,this.key=n,this.defaultBindingMode=r,this.isTemplateController=o,this.bindables=a,this.noMultiBindings=l,this.watches=c,this.dependencies=u,this.containerStrategy=h}static create(e,t){let s,n;X(e)?(s=e,n={name:s}):(s=e.name,n=e);const r=Fs(bs(t,"defaultBindingMode"),n.defaultBindingMode,t.defaultBindingMode,xe);for(const o of Object.values(mt.from(n.bindables)))mt._add(o,t);return new Li(t,Fs(bs(t,"name"),s),Te(bs(t,"aliases"),n.aliases,t.aliases),ln(s),X(r)?Di[r]??th:r,Fs(bs(t,"isTemplateController"),n.isTemplateController,t.isTemplateController,!1),mt.from(...mt.getAll(t),bs(t,"bindables"),t.bindables,n.bindables),Fs(bs(t,"noMultiBindings"),n.noMultiBindings,t.noMultiBindings,!1),Te(Yl.getDefinitions(t),t.watches),Te(bs(t,"dependencies"),n.dependencies,t.dependencies),Fs(bs(t,"containerStrategy"),n.containerStrategy,t.containerStrategy,"reuse"))}register(e,t){const s=this.Type,n=typeof t=="string"?ln(t):this.key,r=this.aliases;e.has(n,!1)?(Li.warnDuplicate&&e.get(Me).warn(B(154,this.name)),console.warn(`[DEV:aurelia] ${B(154,this.name)}`)):e.register(e.has(s,!1)?null:gs(s,s),Js(s,n),...r.map(o=>Js(s,ln(o))))}toString(){return`au:ca:${this.name}`}}Li.warnDuplicate=!0;const Ye="custom-attribute",gn=si(Ye),ln=i=>`${gn}:${i}`,bs=(i,e)=>Je(Es(e),i),Hb=i=>{var e;return Y(i)&&(ya(gn,i)||((e=i.$au)==null?void 0:e.type)===Ye)},af=(i,e)=>Vt.get(i,ln(e))??void 0,rh=(i,e)=>{const t=Li.create(i,e),s=t.Type;return Gt(t,s,gn,Dt),s},oh=i=>{const e=Je(gn,i)??Ys(i,Ye,Li.create);if(e===void 0)throw B(759,i);return e},Gb=(i,e)=>{let t="",s="";if(X(e))t=ln(e),s=e;else{const r=oh(e);t=r.key,s=r.name}let n=i;for(;n!==null;){const r=Vt.get(n,t);if(r!=null&&r.is(s))return r;n=Qo(n)}return null},qr=ps({name:gn,keyFrom:ln,isType:Hb,for:af,closest:Gb,define:rh,getDefinition:oh,annotate(i,e,t){Gt(t,i,Es(e))},getAnnotation:bs,find(i,e){const t=i.find(Ye,e);return t===null?null:Je(gn,t)??Ys(t,Ye,Li.create)??null}}),Ui=oe("ILifecycleHooks");class Ub{constructor(e,t){this.definition=e,this.instance=t}}class ah{constructor(e,t){this.Type=e,this.propertyNames=t}static create(e,t){const s=new Set;let n=t.prototype;for(;n!==W0;){for(const r of Q0(n))r!=="constructor"&&!r.startsWith("_")&&s.add(r);n=Object.getPrototypeOf(n)}return new ah(t,s)}}const od=(()=>{const i=new WeakMap,e=new WeakMap;return ps({define(t,s){const n=ah.create(t,s),r=n.Type;return e.set(r,n),{register(o){gs(Ui,r).register(o)}}},resolve(t){let s=i.get(t);if(s===void 0){i.set(t,s=new Wb);const n=t.root,r=n===t?t.getAll(Ui):t.has(Ui,!1)?n.getAll(Ui).concat(t.getAll(Ui)):n.getAll(Ui);let o,a,l,c,u;for(o of r){a=e.get(o.constructor),l=new Ub(a,o);for(c of a.propertyNames)u=s[c],u===void 0?s[c]=[l]:u.push(l)}}return s}})})();class Wb{}class vr{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return X(e)?(s=e,n={name:s}):(s=e.name,n=e),new vr(t,Fs(ec(t,"name"),s),Te(ec(t,"aliases"),n.aliases,t.aliases),lf.keyFrom(s))}register(e,t){const s=this.Type,n=typeof t=="string"?br(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${B(155,this.name)}`):e.register(e.has(s,!1)?null:gs(s,s),Js(s,n),...r.map(o=>Js(s,br(o))))}}const Yi="value-converter",Ki=si(Yi),ec=(i,e)=>Je(Es(e),i),br=i=>`${Ki}:${i}`,lf=ps({name:Ki,keyFrom:br,isType(i){var e;return Y(i)&&(ya(Ki,i)||((e=i.$au)==null?void 0:e.type)===Yi)},define(i,e){const t=vr.create(i,e),s=t.Type;return Gt(t,s,Ki,Dt),s},getDefinition(i){const e=Je(Ki,i)??Ys(i,Yi,vr.create);if(e===void 0)throw B(152,i);return e},annotate(i,e,t){Gt(t,i,Es(e))},getAnnotation:ec,find(i,e){const t=i.find(Yi,e);return t==null?null:Je(Ki,t)??Ys(t,Yi,vr.create)??null},get(i,e){try{return i.get(dn(br(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve value converter with name",e),t}return i.get(dn(br(e)))}});class qb{constructor(e,t){this._value=void 0,this.b=e,this._flushQueue=t}flush(){this.b.isBound&&this.b.updateSource(this._value)}handleChange(e,t){const s=this.b;e!==ve(s.ast,s._scope,s,null)&&(this._value=e,this._flushQueue.add(this))}}const li=(()=>{function i(e){this._scope=e}return e=>{bt(e.prototype,"useScope",i)}})(),Os=(()=>{class i{}const e=new WeakMap,t=new WeakMap,s=new WeakMap;function n(p){return this.l.get(p)}function r(p,d){let g=t.get(p);return g==null&&t.set(p,g=new i),g[d]??(g[d]=J0.get(p.l,d))}function o(p,d,g){var b;const f=r(this,p);if(f==null)throw B(101,p);let _=s.get(this);if(_==null&&s.set(this,_={}),_[p])throw B(102,p);(b=f.bind)==null||b.call(f,d,this,...g)}function a(p,d){var _;const g=r(this,p),f=s.get(this);(_=g==null?void 0:g.unbind)==null||_.call(g,d,this),f!=null&&(f[p]=!1)}function l(p,d){let g=e.get(p);return g==null&&e.set(p,g=new i),g[d]??(g[d]=lf.get(p.l,d))}function c(p){const d=l(this,p);if(d==null)throw B(103,p);const g=d.signals;if(g!=null){const f=this.l.get(Uo),_=g.length;let b=0;for(;b<_;++b)f.addSignalListener(g[b],this)}}function u(p){const d=l(this,p);if((d==null?void 0:d.signals)===void 0)return;const g=this.l.get(Uo);let f=0;for(;f<d.signals.length;++f)g.removeSignalListener(d.signals[f],this)}function h(p,d,g,f){var $,m;const _=l(this,p);if(_==null)throw B(103,p);const b=_.withContext===!0;let v=null;switch(b&&(v={source:this.l.get(ei).controller.viewModel,binding:this}),d){case"toView":return"toView"in _?b?_.toView(g,v,...f):_.toView(g,...f):g;case"fromView":return"fromView"in _?b?($=_.fromView)==null?void 0:$.call(_,g,v,...f):(m=_.fromView)==null?void 0:m.call(_,g,...f):g}}return p=>{const d=p.prototype;bt(d,"get",n),bt(d,"bindBehavior",o),bt(d,"unbindBehavior",a),bt(d,"bindConverter",c),bt(d,"unbindConverter",u),bt(d,"useConverter",h)}})(),Qb=oe("IFlushQueue",i=>i.singleton(Kb));class Kb{constructor(){this._flushing=!1,this._items=new Set}get count(){return this._items.size}add(e){if(this._items.add(e),!this._flushing){this._flushing=!0;try{this._items.forEach(Zb)}finally{this._flushing=!1}}}clear(){this._items.clear(),this._flushing=!1}}const Zb=function(i,e,t){t.delete(i),i.flush()},ci=(()=>{const i=new WeakSet,e=(s,n,r)=>{let o,a,l,c=!1;const u=()=>n(l),h=d=>{l=d,r.isBound?(a=o,o=fr(u,{delay:s.delay}),a==null||a.cancel()):u()},p=h.dispose=()=>{a==null||a.cancel(),o==null||o.cancel(),a=o=void 0};return h.flush=()=>{c=(o==null?void 0:o.status)===id,p(),c&&u()},h},t=(s,n,r)=>{let o,a,l=0,c=0,u,h=!1;const p=()=>s.now(),d=()=>n(u),g=_=>{u=_,r.isBound?(c=p()-l,a=o,c>s.delay?(l=p(),d()):o=fr(()=>{l=p(),d()},{delay:s.delay-c}),a==null||a.cancel()):d()},f=g.dispose=()=>{a==null||a.cancel(),o==null||o.cancel(),a=o=void 0};return g.flush=()=>{h=(o==null?void 0:o.status)===id,f(),h&&d()},g};return(s,n)=>{bt(s.prototype,"limit",function(r){if(i.has(this))throw B(9996);i.add(this);const o=n(this,r),a=r.signals,l=a.length>0?this.get(Uo):null,c=this[o],u=(...d)=>c.call(this,...d),h=r.type==="debounce"?e(r,u,this):t(r,u,this),p=l?{handleChange:h.flush}:null;return this[o]=h,l&&a.forEach(d=>Z0(l,d,p)),{dispose:()=>{l&&a.forEach(d=>X0(l,d,p)),i.delete(this),h.dispose(),delete this[o]}}})}})(),hi=((i=new WeakSet)=>e=>function(){i.has(this)||(i.add(this),e.call(this))})();class At{constructor(e,t,s,n,r,o,a,l,c){this.targetAttribute=o,this.targetProperty=a,this.mode=l,this.strict=c,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._value=void 0,this.boundFn=!1,this._isMulti=!1,this.l=t,this.ast=n,this._controller=e,this.target=r,this.oL=s,(this._isMulti=a.indexOf(" ")>-1)&&!At._splitString.has(a)&&At._splitString.set(a,a.split(" "))}updateTarget(e){const t=this.target,s=this.targetAttribute,n=this.targetProperty;switch(s){case"class":if(this._isMulti){const r=!!e;for(const o of At._splitString.get(n))t.classList.toggle(o,r)}else t.classList.toggle(n,!!e);break;case"style":{let r="",o=Bi(e);X(o)&&o.includes("!important")&&(r="important",o=o.replace("!important","")),t.style.setProperty(n,o,r);break}default:e==null?t.removeAttribute(s):t.setAttribute(s,Bi(e))}}handleChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,rs(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);this.obs.clear(),e!==this._value&&(this._value=e,this.updateTarget(e))})))}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this),this.mode&(xe|wa)&&this.updateTarget(this._value=ve(this.ast,e,this,(this.mode&xe)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ri(this.ast,this._scope,this),this._scope=void 0,this._value=void 0,this.obs.clearAll())}}At.mix=hi(()=>{li(At),ci(At,()=>"updateTarget"),Et(At,null),Os(At)});At._splitString=new Map;class Xb{constructor(e,t,s,n,r,o,a,l){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.strict=l,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._controller=e,this.oL=s,this._targetObserver=s.getAccessor(r,o);const c=n.expressions,u=this.partBindings=Array(c.length),h=c.length;let p=0;for(;h>p;++p)u[p]=new vi(c[p],r,o,t,s,l,this)}_handlePartChange(){if(!this.isBound)return;if(this._controller.state!==Xt&&(this._targetObserver.type&fs)>0){if(this._isQueued)return;this._isQueued=!0,rs(()=>{this._isQueued=!1,this.isBound&&this.updateTarget()})}else this.updateTarget()}updateTarget(){const e=this.partBindings,t=this.ast,s=this.target,n=this.targetProperty,r=t.parts,o=e.length;let a="",l=0;if(o===1)a=r[0]+e[0]._evaluate()+r[1];else for(a=r[0];o>l;++l)a+=e[l]._evaluate()+r[l+1];this._targetObserver.setValue(a,s,n)}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e;const t=this.partBindings,s=t.length;let n=0;for(;s>n;++n)t[n].bind(e);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this._scope=void 0;const e=this.partBindings,t=e.length;let s=0;for(;t>s;++s)e[s].unbind()}useAccessor(e){this._targetObserver=e}}class vi{constructor(e,t,s,n,r,o,a){this.ast=e,this.target=t,this.targetProperty=s,this.strict=o,this.owner=a,this.mode=xe,this.isBound=!1,this._value="",this.boundFn=!1,this._isDirty=!1,this.l=n,this.oL=r}updateTarget(){this.owner._handlePartChange()}handleChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}handleCollectionChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}_evaluate(){if(!this._isDirty)return this._value;this.obs.version++;const e=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);return this.obs.clear(),this._value=e,_e(e)&&this.observeCollection(e),this._isDirty=!1,this._value}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this),this._value=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null),_e(this._value)&&this.observeCollection(this._value),this._isDirty=!1,this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._value=void 0,this._isDirty=!1,ri(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}vi.mix=hi(()=>{li(vi),ci(vi,()=>"updateTarget"),Et(vi,null),Os(vi)});class bi{constructor(e,t,s,n,r,o,a){this.p=n,this.ast=r,this.target=o,this.strict=a,this.isBound=!1,this.mode=xe,this._isQueued=!1,this._value="",this._needsRemoveNode=!1,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){var n,r;const t=this.target,s=this._value;this._value=e,this._needsRemoveNode&&((n=s.parentNode)==null||n.removeChild(s),this._needsRemoveNode=!1),e instanceof this.p.Node&&((r=t.parentNode)==null||r.insertBefore(e,t),e="",this._needsRemoveNode=!0),t.textContent=Bi(e??"")}handleChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,rs(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);this.obs.clear(),e!==this._value&&this.updateTarget(e)})))}handleCollectionChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,rs(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=this._value=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);this.obs.clear(),_e(e)&&this.observeCollection(e),this.updateTarget(e)})))}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this);const t=this._value=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);_e(t)&&this.observeCollection(t),this.updateTarget(t),this.isBound=!0}unbind(){var e;this.isBound&&(this.isBound=!1,ri(this.ast,this._scope,this),this._needsRemoveNode&&((e=this._value.parentNode)==null||e.removeChild(this._value)),this._scope=void 0,this.obs.clearAll())}}bi.mix=hi(()=>{li(bi),ci(bi,()=>"updateTarget"),Et(bi,null),Os(bi)});class wi{constructor(e,t,s,n,r,o){this.ast=s,this.targetProperty=n,this.isBound=!1,this._scope=void 0,this.target=null,this.boundFn=!1,this.l=e,this.oL=t,this.strict=o,this._toBindingContext=r}updateTarget(){this.target[this.targetProperty]=this._value}handleChange(){this.isBound&&(this.obs.version++,this._value=ve(this.ast,this._scope,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,this.target=this._toBindingContext?e.bindingContext:e.overrideContext,ni(this.ast,e,this),this._value=ve(this.ast,this._scope,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ri(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}wi.mix=hi(()=>{li(wi),ci(wi,()=>"updateTarget"),Et(wi,null),Os(wi)});class it{constructor(e,t,s,n,r,o,a,l){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.strict=l,this.isBound=!1,this._scope=void 0,this._targetObserver=void 0,this._isQueued=!1,this._targetSubscriber=null,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){this._targetObserver.setValue(e,this.target,this.targetProperty)}updateSource(e){xr(this.ast,this._scope,this,null,e)}handleChange(){if(!this.isBound)return;if(this._controller.state!==Xt&&(this._targetObserver.type&fs)>0){if(this._isQueued)return;this._isQueued=!0,rs(()=>{this._isQueued=!1,this.isBound&&this._handleChange()})}else this._handleChange()}_handleChange(){this.obs.version++;const e=ve(this.ast,this._scope,this,(this.mode&xe)>0?this:null);this.obs.clear(),this.updateTarget(e)}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this);const t=this.oL,s=this.mode;let n=this._targetObserver;n||(s&Ps?n=t.getObserver(this.target,this.targetProperty):n=t.getAccessor(this.target,this.targetProperty),this._targetObserver=n);const r=(s&xe)>0;s&(xe|wa)&&this.updateTarget(ve(this.ast,this._scope,this,r?this:null)),s&Ps&&(n.subscribe(this._targetSubscriber??(this._targetSubscriber=new qb(this,this.l.get(Qb)))),r||this.updateSource(n.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._targetSubscriber&&(this._targetObserver.unsubscribe(this._targetSubscriber),this._targetSubscriber=null),ri(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}useTargetObserver(e){var t;(t=this._targetObserver)==null||t.unsubscribe(this),(this._targetObserver=e).subscribe(this)}useTargetSubscriber(e){if(this._targetSubscriber!=null)throw B(9995);this._targetSubscriber=e}}it.mix=hi(()=>{li(it),ci(it,i=>i.mode&Ps?"updateSource":"updateTarget"),Et(it,null),Os(it)});class yi{constructor(e,t,s,n,r){this.oL=t,this.ast=s,this.target=n,this.strict=r,this.isBound=!1,this._scope=void 0,this.l=e}updateSource(){this.isBound?(this.obs.version++,xr(this.ast,this._scope,this,this,this.target),this.obs.clear()):xr(this.ast,this._scope,this,null,null)}handleChange(){this.isBound&&this.updateSource()}handleCollectionChange(){this.isBound&&this.updateSource()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this),this.isBound=!0,this.updateSource()}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),ve(this.ast,this._scope,this,null)===this.target&&this.updateSource(),ri(this.ast,this._scope,this),this._scope=void 0)}}yi.mix=hi(()=>{Et(yi,null),ci(yi,()=>"updateSource"),li(yi),Os(yi)});class Jb{constructor(e,t=!1,s){this.prevent=e,this.capture=t,this.onError=s}}class en{constructor(e,t,s,n,r,o,a){this.ast=t,this.target=s,this.targetEvent=n,this.strict=a,this.isBound=!1,this.self=!1,this.boundFn=!0,this._modifiedEventHandler=null,this.l=e,this._options=r,this._modifiedEventHandler=o}callSource(e){const t=this._scope.overrideContext;t.$event=e;let s=ve(this.ast,this._scope,this,null);delete t.$event,Y(s)&&(s=s(e)),s!==!0&&this._options.prevent&&e.preventDefault()}handleEvent(e){var t;if(!(this.self&&this.target!==e.composedPath()[0])&&((t=this._modifiedEventHandler)==null?void 0:t.call(this,e))!==!1)try{this.callSource(e)}catch(s){this._options.onError(e,s)}}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ni(this.ast,e,this),this.target.addEventListener(this.targetEvent,this,this._options),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ri(this.ast,this._scope,this),this._scope=void 0,this.target.removeEventListener(this.targetEvent,this,this._options))}}en.mix=hi(function(){li(en),ci(en,()=>"callSource"),Os(en)});const Sa=oe("IEventModifier"),cf=oe("IKeyMapping",i=>i.instance({meta:ps(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce((e,t,s)=>{let n=String.fromCharCode(s+65);return e[s+65]=n,n=String.fromCharCode(s+97),e[s+97]=e[n]=n,e},{})}}));class lh{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this._mapping=x(cf),this._mouseButtons=["left","middle","right"]}static register(e){e.register(gs(Sa,lh))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue;case"left":case"middle":case"right":if(s.button!==this._mouseButtons.indexOf(o))return!1;continue}if(this._mapping.meta.includes(o)&&s[`${o}Key`]!==!0)return!1;console.warn(`Modifier '${o}' is not supported for mouse events.`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class ch{constructor(){this._mapping=x(cf),this.type=["keydown","keyup"]}static register(e){e.register(gs(Sa,ch))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}if(this._mapping.meta.includes(o)){if(s[`${o}Key`]!==!0)return!1;continue}if(this._mapping.keys[o]!==s.key)return!1;console.warn(`Modifier '${o}' is not supported for keyboard event with key "${s.key}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class hh{constructor(){this.type=["$ALL"]}static register(e){e.register(gs(Sa,hh))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}console.warn(`Modifier '${o}' is not supported for event "${s.type}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}const hf=oe("IEventModifierHandler",i=>i.instance({getHandler:()=>(console.warn("No event modifier handler registered"),null)}));class uh{constructor(){this._reg=x(Pc(Sa)).reduce((e,t)=>((_e(t.type)?t.type:[t.type]).forEach(n=>e[n]=t),e),{})}static register(e){e.register(gs(hf,uh))}getHandler(e,t){var s;return X(t)?((s=this._reg[e]??this._reg.$ALL)==null?void 0:s.getHandler(t))??null:null}}const Yb={register(i){i.register(uh,lh,ch,hh)}},Ct=oe("IViewFactory");class $a{constructor(e,t){this.isCaching=!1,this._cache=null,this._cacheSize=-1,this.name=t.name,this.container=e,this.def=t}setCacheSize(e,t){e&&(e==="*"?e=$a.maxCacheSize:X(e)&&(e=parseInt(e,10)),(this._cacheSize===-1||!t)&&(this._cacheSize=e)),this._cacheSize>0?this._cache=[]:this._cache=null,this.isCaching=this._cacheSize>0}canReturnToCache(e){return this._cache!=null&&this._cache.length<this._cacheSize}tryReturnToCache(e){return this.canReturnToCache(e)?(this._cache.push(e),!0):!1}create(e){const t=this._cache;let s;return t!=null&&t.length>0?(s=t.pop(),s):(s=Ze.$view(this,e),s)}}$a.maxCacheSize=65535;const e3=(()=>{const i=(e,t)=>e.document.createComment(t);return e=>{const t=i(e,"au-end");return t.$start=i(e,"au-start"),t}})(),_o=(i,e,t)=>{if(i===null)return;const s=t.length;let n=0;for(;s>n;)i.insertBefore(t[n],e),++n},uf=(i,e)=>new i.ownerDocument.defaultView.MutationObserver(e),t3=i=>i.nodeType===1,df="default",s3="au-slot",pf=oe("IAuSlotsInfo");class ff{constructor(e){this.projectedSlots=e}}const i3=oe("IAuSlotWatcher");class xa{static create(e,t,s,n,r,o,a,l){const c=[],u=n.renderers,h=d=>{let g=d,f=e;for(;f!=null&&g>0;)f=f.parent,--g;if(f==null)throw B(9999);return f},p=d=>{var v;const g=h(d),f=new xa(g),_=r.compileSpread(g.controller.definition,((v=g.instruction)==null?void 0:v.captures)??U,g.controller.container,t,s);let b;for(b of _)switch(b.type){case Be.spreadTransferedBinding:p(d+1);break;case Be.spreadElementProp:u[b.instruction.type].render(f,cn(t),b.instruction,o,a,l);break;default:u[b.type].render(f,t,b,o,a,l)}c.push(f)};return p(0),c}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(e){this.isBound=!1,this._innerBindings=[],this.locator=(this.$controller=(this._hydrationContext=e).controller).container}get(e){return this.locator.get(e)}bind(e){if(this.isBound)return;this.isBound=!0;const t=this.scope=this._hydrationContext.controller.scope.parent??void 0;if(t==null)throw B(9999);this._innerBindings.forEach(s=>s.bind(t))}unbind(){this._innerBindings.forEach(e=>e.unbind()),this.isBound=!1}addBinding(e){this._innerBindings.push(e)}addChild(e){if(e.vmKind!==mi)throw B(9998);this.$controller.addChild(e)}}class Yt{constructor(e,t,s,n,r,o,a){this.target=t,this.targetKeys=s,this.ast=n,this.strict=a,this.isBound=!1,this._scope=void 0,this.boundFn=!1,this._bindingCache={},this._scopeCache=new WeakMap,this._controller=e,this.oL=r,this.l=o}updateTarget(){this.obs.version++;const e=ve(this.ast,this._scope,this,this);this.obs.clear(),this._createBindings(e,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this.isBound=!0,this._scope=e,ni(this.ast,e,this);const t=ve(this.ast,e,this,this);this._createBindings(t,!1)}unbind(){if(!this.isBound)return;this.isBound=!1,ri(this.ast,this._scope,this),this._scope=void 0;let e;for(e in this._bindingCache)this._bindingCache[e].unbind()}_createBindings(e,t){var o,a;let s;if(!up(e)){console.warn(`[DEV:aurelia] $bindable spread is given a non object for properties: "${this.targetKeys.join(", ")}" of ${this.target.constructor.name}`);for(s in this._bindingCache)(o=this._bindingCache[s])==null||o.unbind();return}let n,r=this._scopeCache.get(e);r==null&&this._scopeCache.set(e,r=Oe.fromParent(this._scope,e));for(s of this.targetKeys)n=this._bindingCache[s],s in e?(n==null&&(n=this._bindingCache[s]=new it(this._controller,this.l,this.oL,(a=Yt._astCache)[s]??(a[s]=new ur(s,0)),this.target,s,Di.toView,this.strict)),n.bind(r)):t&&(n==null||n.unbind())}}Yt.mix=hi(()=>{li(Yt),ci(Yt,()=>"updateTarget"),Et(Yt,null),Os(Yt)});Yt._astCache={};const ad=(i,e,t,s)=>{i.addEventListener(e,t,s)},ld=(i,e,t,s)=>{i.removeEventListener(e,t,s)},dh=i=>{let e;const t=i.prototype;bt(t,"subscribe",function(s){var n;if(this.subs.add(s)&&this.subs.count===1){for(e of this._config.events)ad(this._el,e,this);this._listened=!0,(n=this._start)==null||n.call(this)}}),bt(t,"unsubscribe",function(s){var n;if(this.subs.remove(s)&&this.subs.count===0){for(e of this._config.events)ld(this._el,e,this);this._listened=!1,(n=this._stop)==null||n.call(this)}}),bt(t,"useConfig",function(s){if(this._config=s,this._listened){for(e of this._config.events)ld(this._el,e,this);for(e of this._config.events)ad(this._el,e,this)}})},Aa=i=>{bt(i.prototype,"subscribe",dt),bt(i.prototype,"unsubscribe",dt)};class Ia{get doNotCache(){return!0}constructor(e,t={}){this.obj=e,this.mapping=t,this.type=ai|fs,this._value="",this._nameIndex={},this._version=0}getValue(){return this._value}setValue(e){e!==this._value&&(this._value=e,this._flushChanges())}_flushChanges(){const e=this._nameIndex,t=++this._version,s=this.obj.classList,n=gf(this._value),r=n.length;let o=0,a;if(r>0)for(;o<r;o++)a=n[o],a=this.mapping[a]||a,a.length!==0&&(e[a]=this._version,s.add(a));if(t!==1)for(a in e)a=this.mapping[a]||a,e[a]!==t&&s.remove(a)}}Aa(Ia);function gf(i){if(X(i))return cd(i);if(typeof i!="object")return U;if(_e(i)){const s=i.length;if(s>0){const n=[];let r=0;for(;s>r;++r)n.push(...gf(i[r]));return n}else return U}const e=[];let t;for(t in i)i[t]&&(t.includes(" ")?e.push(...cd(t)):e.push(t));return e}function cd(i){const e=i.match(/\S+/g);return e===null?U:e}const _f=i=>({$isResolver:!0,resolve(e,t){return t.get(ei).controller.container.get(Z_(i))}}),mf=oe("IRenderer");function je(i,e){var s;const t=i[s=Symbol.metadata]??(i[s]=Object.create(null));return t[cs]={register(n){gs(mf,i).register(n)}},i}function as(i,e,t){return X(e)?i.parse(e,t):e}function Ra(i){return i.viewModel!=null?i.viewModel:i}function n3(i,e){if(e==="element")return i;switch(e){case"controller":return cn(i);case"view":throw B(750);case"component":return cn(i).viewModel;default:{const t=af(i,e);if(t!==void 0)return t.viewModel;const s=cn(i,{name:e});if(s===void 0)throw B(751,e);return s.viewModel}}}const r3=je(class{constructor(){this.target=Be.setProperty}render(e,t,s){var r;const n=Ra(t);((r=n.$observers)==null?void 0:r[s.to])!==void 0?n.$observers[s.to].setValue(s.value):n[s.to]=s.value}}),o3=je(class{constructor(){this._rendering=x(Vi),this.target=Be.hydrateElement}render(e,t,s,n,r,o){let a,l,c;const u=s.res,h=s.projections,p=e.container;switch(typeof u){case"string":if(a=q.find(p,u),a==null)throw B(752,s,e);break;default:a=u}const g=s.containerless||a.containerless?Ar(t):null,f=I3(n,e,t,s,g,h==null?void 0:new ff(sh(h)));l=f.invoke(a.Type),c=Ze.$el(f,l,t,s,a,g);const _=this._rendering.renderers,b=s.props,v=b.length;let $=0,m;for(;v>$;)m=b[$],_[m.type].render(e,c,m,n,r,o),++$;e.addChild(c)}}),a3=je(class{constructor(){this._rendering=x(Vi),this.target=Be.hydrateAttribute}render(e,t,s,n,r,o){let a=e.container,l;switch(typeof s.res){case"string":if(l=qr.find(a,s.res),l==null)throw B(753,s,e);break;default:l=s.res}const c=Cf(n,l,e,t,s,void 0,void 0),u=Ze.$attr(c.ctn,c.vm,t,l);Vt.set(t,l.key,u);const h=this._rendering.renderers,p=s.props,d=p.length;let g=0,f;for(;d>g;)f=p[g],h[f.type].render(e,u,f,n,r,o),++g;e.addChild(u)}}),l3=je(class{constructor(){this._rendering=x(Vi),this.target=Be.hydrateTemplateController}render(e,t,s,n,r,o){var v,$;let a=e.container,l;switch(typeof s.res){case"string":if(l=qr.find(a,s.res),l==null)throw B(754,s,e);break;default:l=s.res}const c=this._rendering.getViewFactory(s.def,l.containerStrategy==="new"?a.createChild({inheritParentResources:!0}):a),u=Ar(t),h=Cf(n,l,e,t,s,c,u),p=Ze.$attr(h.ctn,h.vm,t,l);Vt.set(u,l.key,p),($=(v=h.vm).link)==null||$.call(v,e,p,t,s);const d=this._rendering.renderers,g=s.props,f=g.length;let _=0,b;for(;f>_;)b=g[_],d[b.type].render(e,p,b,n,r,o),++_;e.addChild(p)}}),c3=je(class{constructor(){this.target=Be.hydrateLetElement,wi.mix()}render(e,t,s,n,r,o){t.remove();const a=s.instructions,l=s.toBindingContext,c=e.container,u=a.length;let h,p,d=0;for(;u>d;)h=a[d],p=as(r,h.from,os),e.addBinding(new wi(c,o,p,h.to,l,e.strict??!1)),++d}}),h3=je(class{constructor(){this.target=Be.refBinding,yi.mix()}render(e,t,s,n,r,o){e.addBinding(new yi(e.container,o,as(r,s.from,os),n3(t,s.to),e.strict??!1))}}),u3=je(class{constructor(){this.target=Be.interpolation,vi.mix()}render(e,t,s,n,r,o){const a=e.container,l=new Xb(e,a,o,as(r,s.from,Rb),Ra(t),s.to,xe,e.strict??!1);if(s.to==="class"&&l.target.nodeType>0){const c=a.get(_f(Wo));l.useAccessor(new Ia(l.target,c))}e.addBinding(l)}}),d3=je(class{constructor(){this.target=Be.propertyBinding,it.mix()}render(e,t,s,n,r,o){const a=e.container,l=new it(e,a,o,as(r,s.from,os),Ra(t),s.to,s.mode,e.strict??!1);if(s.to==="class"&&l.target.nodeType>0){const c=a.get(_f(Wo));l.useTargetObserver(new Ia(l.target,c))}e.addBinding(l)}}),p3=je(class{constructor(){this.target=Be.iteratorBinding,it.mix()}render(e,t,s,n,r,o){e.addBinding(new it(e,e.container,o,as(r,s.forOf,Pb),Ra(t),s.to,xe,e.strict??!1))}}),f3=je(class{constructor(){this.target=Be.textBinding,bi.mix()}render(e,t,s,n,r,o){e.addBinding(new bi(e,e.container,o,n,as(r,s.from,os),t,e.strict??!1))}}),g3=oe("IListenerBindingOptions",i=>i.singleton(class{constructor(){this.p=x(Ve),this.prevent=!1,this.onError=(e,t)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:e,error:t}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw t}}})),_3=je(class{constructor(){this.target=Be.listenerBinding,this._modifierHandler=x(hf),this._defaultOptions=x(g3),en.mix()}render(e,t,s,n,r){e.addBinding(new en(e.container,as(r,s.from,Tb),t,s.to,new Jb(this._defaultOptions.prevent,s.capture,this._defaultOptions.onError),this._modifierHandler.getHandler(s.to,s.modifier),e.strict??!1))}}),m3=je(class{constructor(){this.target=Be.setAttribute}render(e,t,s){t.setAttribute(s.to,s.value)}}),v3=je(class{constructor(){this.target=Be.setClassAttribute}render(e,t,s){x3(t.classList,s.value)}}),b3=je(class{constructor(){this.target=Be.setStyleAttribute}render(e,t,s){t.style.cssText+=s.value}}),w3=["height","width","border-width","padding","padding-left","padding-right","padding-top","padding-right","padding-inline","padding-block","margin","margin-left","margin-right","margin-top","margin-bottom","margin-inline","margin-block","top","right","bottom","left"],y3=je(class{constructor(){this.target=Be.stylePropertyBinding,it.mix()}render(e,t,s,n,r,o){if(w3.includes(s.to)){e.addBinding(new C3(e,e.container,o,as(r,s.from,os),t.style,s.to,xe,e.strict??!1));return}e.addBinding(new it(e,e.container,o,as(r,s.from,os),t.style,s.to,xe,e.strict??!1))}});class C3 extends it{updateTarget(e){return typeof e=="number"&&e>0&&console.warn(`[DEV]: Setting number ${e} as value for style.${this.targetProperty}. Did you meant "${e}px"?`),super.updateTarget(e)}}const k3=je(class{constructor(){this.target=Be.attributeBinding,At.mix()}render(e,t,s,n,r,o){const a=e.container,l=a.has(Wo,!1)?a.get(Wo):null;e.addBinding(new At(e,a,o,as(r,s.from,os),t,s.attr,l==null?s.to:s.to.split(/\s/g).map(c=>l[c]??c).join(" "),xe,e.strict??!1))}}),S3=je(class{constructor(){this._compiler=x(ga),this._rendering=x(Vi),this.target=Be.spreadTransferedBinding}render(e,t,s,n,r,o){xa.create(e.container.get(ei),t,void 0,this._rendering,this._compiler,n,r,o).forEach(a=>e.addBinding(a))}}),$3=je(class{constructor(){this.target=Be.spreadValueBinding,Yt.mix()}render(e,t,s,n,r,o){const a=s.target;if(a==="$bindables")e.addBinding(new Yt(e,t.viewModel,sh(t.definition.bindables),r.parse(s.from,os),o,e.container,e.strict??!1));else throw B(820,a)}});function x3(i,e){const t=e.length;let s=0;for(let n=0;n<t;++n)e.charCodeAt(n)===32?(n!==s&&i.add(e.slice(s,n)),s=n+1):n+1===t&&i.add(e.slice(s))}const vf="IController",bf="IInstruction",A3="IRenderLocation",wf="ISlotsInfo";function I3(i,e,t,s,n,r){const o=e.container.createChild();return Zr(o,t,i),me(o,Qr,new $e(vf,e)),me(o,Rn,new $e(bf,s)),me(o,ot,n==null?Sf:new kf(n)),me(o,Ct,$f),me(o,pf,r==null?xf:new $e(wf,r)),o}class yf{get $isResolver(){return!0}constructor(e){this.f=e}resolve(){const e=this.f;if(e===null)throw B(755);if(!X(e.name)||e.name.length===0)throw B(756);return e}}function Cf(i,e,t,s,n,r,o,a){const l=t instanceof Ze?t:t.$controller,c=l.container.createChild();return Zr(c,s,i),me(c,Qr,new $e(vf,l)),me(c,Rn,new $e(bf,n)),me(c,ot,o==null?Sf:new $e(A3,o)),me(c,Ct,r==null?$f:new yf(r)),me(c,pf,xf),{vm:c.invoke(e.Type),ctn:c}}class kf{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(e){this._location=e}resolve(){return this._location}}const Sf=new kf(null),$f=new yf(null),xf=new $e(wf,new ff(U)),Vi=oe("IRendering",i=>i.singleton(R3));class R3{get renderers(){return this._renderers??(this._renderers=this._ctn.getAll(mf,!1).reduce((e,t)=>{var s;return e[t.target]!==void 0&&console.warn(`[DEV:aurelia] Renderer for target ${t.target} already exists.`),e[s=t.target]??(e[s]=t),e},ce()))}constructor(){this._compilationCache=new WeakMap,this._fragmentCache=new WeakMap;const e=this._ctn=x(Ni).root,t=this._platform=e.get(Ve);this._exprParser=e.get(An),this._observerLocator=e.get(Tn),this._marker=t.document.createElement("au-m"),this._empty=new hl(t,t.document.createDocumentFragment())}compile(e,t){const s=t.get(ga),n=this._compilationCache;let r=n.get(e);return r==null&&n.set(e,r=Le.create(e.needsCompile?s.compile(e,t):e)),r}getViewFactory(e,t){return new $a(t,Le.getOrCreate(e))}createNodes(e){if(e.enhance===!0)return new hl(this._platform,this._transformMarker(e.template));let t,s=!1;const n=this._fragmentCache,r=this._platform,o=r.document;if(n.has(e))t=n.get(e);else{const a=e.template;let l;a==null?t=null:a instanceof r.Node?a.nodeName==="TEMPLATE"?(t=a.content,s=!0):(t=o.createDocumentFragment()).appendChild(a.cloneNode(!0)):(l=o.createElement("template"),X(a)&&(l.innerHTML=a),t=l.content,s=!0),this._transformMarker(t),n.set(e,t)}return t==null?this._empty:new hl(this._platform,s?o.importNode(t,!0):o.adoptNode(t.cloneNode(!0)))}render(e,t,s,n){const r=s.instructions,o=this.renderers,a=t.length;let l=0,c=0,u=r.length,h,p,d;if(a!==u)throw B(757,a,u);if(n!=null&&(h=s.surrogates,(u=h.length)>0))for(c=0;u>c;)p=h[c],o[p.type].render(e,n,p,this._platform,this._exprParser,this._observerLocator),++c;if(a>0)for(;a>l;){for(h=r[l],d=t[l],c=0,u=h.length;u>c;)p=h[c],o[p.type].render(e,d,p,this._platform,this._exprParser,this._observerLocator),++c;++l}}_transformMarker(e){if(e==null)return null;const t=this._platform.document.createTreeWalker(e,128);let s;for(;(s=t.nextNode())!=null;)s.nodeValue==="au*"&&s.parentNode.replaceChild(t.currentNode=this._marker.cloneNode(),s);return e}}const hd=oe("IShadowDOMStyles"),P3=oe("IShadowDOMGlobalStyles",i=>i.instance({applyTo:dt})),{enter:T3,exit:E3}=Rv,{wrap:O3,unwrap:B3}=db;class Af{get value(){return this._value}constructor(e,t,s,n,r="async"){this.obj=e,this.$get=s,this.isBound=!1,this._isQueued=!1,this._computeDepth=0,this._value=void 0,this._callback=n,this.oL=t,this._flush=r}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,rs(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this.obj,t=this._value;if(++this._computeDepth>100)throw new Error("AURXXXX: Possible infinitely recursive side-effect detected in a watcher.");const s=this.compute();Is(s,t)||this._callback.call(e,s,t,e),this._isQueued||(this._computeDepth=0)}compute(){this.obs.version++;try{return T3(this),this._value=B3(this.$get.call(void 0,O3(this.obj),this))}finally{this.obs.clear(),E3(this)}}}Et(Af,null);class tc{get value(){return this._value}constructor(e,t,s,n,r,o="async"){this.scope=e,this.l=t,this.oL=s,this.isBound=!1,this._isQueued=!1,this.boundFn=!1,this.obj=e.bindingContext,this._expression=n,this._callback=r,this._flush=o}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,rs(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this._expression,t=this.obj,s=this._value;this.obs.version++;const n=ve(e,this.scope,this,this);this.obs.clear(),Is(n,s)||(this._value=n,this._callback.call(t,n,s,t))}bind(){this.isBound||(this.obs.version++,this._value=ve(this._expression,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this._value=void 0)}}Et(tc,null),Os(tc);class Ze{get lifecycleHooks(){return this._lifecycleHooks}get isActive(){return(this.state&(Xt|Ci))>0&&(this.state&wr)===0}get name(){var e;if(this.parent===null)switch(this.vmKind){case mi:return`[${this.definition.name}]`;case _t:return this.definition.name;case We:return this.viewFactory.name}switch(this.vmKind){case mi:return`${this.parent.name}>[${this.definition.name}]`;case _t:return`${this.parent.name}>${this.definition.name}`;case We:return this.viewFactory.name===((e=this.parent.definition)==null?void 0:e.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this._vm}set viewModel(e){this._vm=e,this._vmHooks=e==null||this.vmKind===We?tn.none:new tn(e)}get strict(){var e;return(e=this.definition)==null?void 0:e.strict}constructor(e,t,s,n,r,o,a){this.container=e,this.vmKind=t,this.definition=s,this.viewFactory=n,this.host=o,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this._isBindingDone=!1,this.mountTarget=If,this.shadowRoot=null,this.nodes=null,this.location=null,this._lifecycleHooks=null,this.state=al,this._fullyNamed=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._activatingStack=0,this._detachingStack=0,this._unbindingStack=0,this._vm=r,this._vmHooks=t===We?tn.none:new tn(r),this.logger=null,this.debug=!1,this.location=a,this._rendering=e.root.get(Vi)}static getCached(e){return Ms.get(e)}static getCachedOrThrow(e){const t=Ze.getCached(e);if(t===void 0)throw B(500,e);return t}static $el(e,t,s,n,r=void 0,o=null){if(Ms.has(t))return Ms.get(t);if(r==null)try{r=Of(t.constructor)}catch(c){throw console.error(`[DEV:aurelia] Custom element definition not found for creating a controller with host: <${s.nodeName} /> and component ${t.constructor.name||"(Anonymous) class"}`),c}me(e,r.Type,new $e(r.key,t,r.Type));const a=new Ze(e,_t,r,null,t,s,o),l=e.get(wp(ei));return r.dependencies.length>0&&e.register(...r.dependencies),me(e,ei,new $e("IHydrationContext",new Rf(a,n,l))),Ms.set(t,a),(n==null||n.hydrate!==!1)&&a._hydrateCustomElement(n),a}static $attr(e,t,s,n){if(Ms.has(t))return Ms.get(t);n=n??oh(t.constructor),me(e,n.Type,new $e(n.key,t,n.Type));const r=new Ze(e,mi,n,null,t,s,null);return n.dependencies.length>0&&e.register(...n.dependencies),Ms.set(t,r),r._hydrateCustomAttribute(),r}static $view(e,t=void 0){const s=new Ze(e.container,We,null,e,null,null,null);return s.parent=t??null,s._hydrateSynthetic(),s}_hydrateCustomElement(e){this.logger=this.container.get(Me).root,this.debug=this.logger.config.level<=t1.debug,this.debug&&(this.logger=this.logger.scopeTo(this.name));const t=this.container,s=this._vm,n=this.definition;this.scope=Oe.create(s,null,!0),n.watches.length>0&&pd(this,t,n,s),ud(this,n,s),this._lifecycleHooks=od.resolve(t),t.register(n.Type),n.injectable!==null&&me(t,n.injectable,new $e("definition.injectable",s)),(e==null||e.hydrate!==!1)&&(this._hydrate(),this._hydrateChildren())}_hydrate(){this._lifecycleHooks.hydrating!=null&&this._lifecycleHooks.hydrating.forEach(j3,this),this._vmHooks._hydrating&&(this.debug&&this.logger.trace("invoking hydrating() hook"),this._vm.hydrating(this));const e=this.definition,t=this._compiledDef=this._rendering.compile(e,this.container),s=t.shadowOptions,n=t.hasSlots,r=t.containerless,o=this.host;let a=this.location;if(r&&a==null&&(a=this.location=Ar(o)),kt(o,He,this),kt(o,e.key,this),s!==null||n){if(a!=null)throw B(501);kt(this.shadowRoot=o.attachShadow(s??D3),He,this),kt(this.shadowRoot,e.key,this),this.mountTarget=qn}else a!=null?(o!==a&&(kt(a,He,this),kt(a,e.key,this)),this.mountTarget=Qn):this.mountTarget=Wn;this._vm.$controller=this,this.nodes=this._rendering.createNodes(t),this._lifecycleHooks.hydrated!==void 0&&this._lifecycleHooks.hydrated.forEach(z3,this),this._vmHooks._hydrated&&(this.debug&&this.logger.trace("invoking hydrated() hook"),this._vm.hydrated(this))}_hydrateChildren(){this._rendering.render(this,this.nodes.findTargets(),this._compiledDef,this.host),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(fd,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateCustomAttribute(){const e=this.definition,t=this._vm;e.watches.length>0&&pd(this,this.container,e,t),ud(this,e,t),t.$controller=this,this._lifecycleHooks=od.resolve(this.container),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(fd,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateSynthetic(){this._compiledDef=this._rendering.compile(this.viewFactory.def,this.container),this._rendering.render(this,(this.nodes=this._rendering.createNodes(this._compiledDef)).findTargets(),this._compiledDef,void 0)}activate(e,t,s){switch(this.state){case al:case sn:if(!(t===null||t.isActive))return;this.state=Xt;break;case Ci:return;case Ds:throw B(502,this.name);default:throw B(503,this.name,V3(this.state))}switch(this.parent=t,this.debug&&!this._fullyNamed&&(this._fullyNamed=!0,(this.logger??(this.logger=this.container.get(Me).root.scopeTo(this.name))).trace("activate()")),this.vmKind){case _t:this.scope.parent=s??null;break;case mi:this.scope=s??null;break;case We:if(s==null)throw B(504,this.name);this.hasLockedScope||(this.scope=s);break}this.$initiator=e,this._enterActivating();let n;return this.vmKind!==We&&this._lifecycleHooks.binding!=null&&(this.debug&&this.logger.trace("lifecycleHooks.binding()"),n=le(...this._lifecycleHooks.binding.map(H3,this))),this._vmHooks._binding&&(this.debug&&this.logger.trace("binding()"),n=le(n,this._vm.binding(this.$initiator,this.parent))),Ee(n)?(this._ensurePromise(),n.then(()=>{this._isBindingDone=!0,this.state!==Xt?this._leaveActivating():this.bind()}).catch(r=>{this._reject(r)}),this.$promise):(this._isBindingDone=!0,this.bind(),this.$promise)}bind(){this.debug&&this.logger.trace("bind()");let e=0,t=0,s;if(this.bindings!==null)for(e=0,t=this.bindings.length;t>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==We&&this._lifecycleHooks.bound!=null&&(this.debug&&this.logger.trace("lifecycleHooks.bound()"),s=le(...this._lifecycleHooks.bound.map(G3,this))),this._vmHooks._bound&&(this.debug&&this.logger.trace("bound()"),s=le(s,this._vm.bound(this.$initiator,this.parent))),Ee(s)){this._ensurePromise(),s.then(()=>{this.isBound=!0,this.state!==Xt?this._leaveActivating():this._attach()}).catch(n=>{this._reject(n)});return}this.isBound=!0,this._attach()}_append(...e){switch(this.mountTarget){case Wn:this.host.append(...e);break;case qn:this.shadowRoot.append(...e);break;case Qn:{let t=0;for(;t<e.length;++t)this.location.parentNode.insertBefore(e[t],this.location);break}}}_attach(){switch(this.debug&&this.logger.trace("attach()"),this.mountTarget){case Wn:this.nodes.appendTo(this.host,this.definition!=null&&this.definition.enhance);break;case qn:{const s=this.container;(s.has(hd,!1)?s.get(hd):s.get(P3)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case Qn:this.nodes.insertBefore(this.location);break}let e=0,t;if(this.vmKind!==We&&this._lifecycleHooks.attaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.attaching()"),t=le(...this._lifecycleHooks.attaching.map(U3,this))),this._vmHooks._attaching&&(this.debug&&this.logger.trace("attaching()"),t=le(t,this._vm.attaching(this.$initiator,this.parent))),Ee(t)&&(this._ensurePromise(),this._enterActivating(),t.then(()=>{this._leaveActivating()}).catch(s=>{this._reject(s)})),this.children!==null)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this._leaveActivating()}deactivate(e,t){var o;let s;switch(this.state&~nn){case Ci:this.state=wr;break;case Xt:this.state=wr,s=(o=this.$promise)==null?void 0:o.catch(a=>{this.logger.warn("The activation error will be ignored, as the controller is already scheduled for deactivation. The activation was rejected with: %s",a)});break;case al:case sn:case Ds:case sn|Ds:return;default:throw B(505,this.name,this.state)}this.debug&&this.logger.trace("deactivate()"),this.$initiator=e,e===this&&this._enterDetaching();let n=0,r;if(this.children!==null)for(n=0;n<this.children.length;++n)this.children[n].deactivate(e,this);return T(s,()=>{if(this.isBound&&(this.vmKind!==We&&this._lifecycleHooks.detaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.detaching()"),r=le(...this._lifecycleHooks.detaching.map(q3,this))),this._vmHooks._detaching&&(this.debug&&this.logger.trace("detaching()"),r=le(r,this._vm.detaching(this.$initiator,this.parent)))),Ee(r)&&(this._ensurePromise(),e._enterDetaching(),r.then(()=>{e._leaveDetaching()}).catch(a=>{e._reject(a)})),e.head===null?e.head=this:e.tail.next=this,e.tail=this,e===this)return this._leaveDetaching(),this.$promise})}removeNodes(){switch(this.vmKind){case _t:case We:this.nodes.remove(),this.nodes.unlink()}}unbind(){this.debug&&this.logger.trace("unbind()");let e=0;if(this.bindings!==null)for(;e<this.bindings.length;++e)this.bindings[e].unbind();switch(this.parent=null,this.vmKind){case mi:this.scope=null;break;case We:this.hasLockedScope||(this.scope=null),(this.state&nn)===nn&&!this.viewFactory.tryReturnToCache(this)&&this.$initiator===this&&this.dispose();break;case _t:this.scope.parent=null;break}this.state=sn,this.$initiator=null,this._resolve()}_ensurePromise(){this.$promise===void 0&&(this.$promise=new Promise((e,t)=>{this.$resolve=e,this.$reject=t}),this.$initiator!==this&&this.parent._ensurePromise())}_resolve(){this.$promise!==void 0&&(ll=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,ll(),ll=void 0)}_reject(e){this.$promise!==void 0&&(cl=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,cl(e),cl=void 0),this.$initiator!==this&&this.parent._reject(e)}_enterActivating(){++this._activatingStack,this.$initiator!==this&&this.parent._enterActivating()}_leaveActivating(){if(this.state!==Xt){--this._activatingStack,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating();return}if(--this._activatingStack===0){if(this.vmKind!==We&&this._lifecycleHooks.attached!=null&&(_i=le(...this._lifecycleHooks.attached.map(W3,this))),this._vmHooks._attached&&(this.debug&&this.logger.trace("attached()"),_i=le(_i,this._vm.attached(this.$initiator))),Ee(_i)){this._ensurePromise(),_i.then(()=>{this.state=Ci,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating()}).catch(e=>{this._reject(e)}),_i=void 0;return}_i=void 0,this.state=Ci,this._resolve()}this.$initiator!==this&&this.parent._leaveActivating()}_enterDetaching(){++this._detachingStack}_leaveDetaching(){if(--this._detachingStack===0){this.debug&&this.logger.trace("detach()"),this._enterUnbinding(),this.removeNodes();let e=this.$initiator.head,t;for(;e!==null;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e._isBindingDone&&(e.vmKind!==We&&e._lifecycleHooks.unbinding!=null&&(t=le(...e._lifecycleHooks.unbinding.map(Q3,e))),e._vmHooks._unbinding&&(e.debug&&e.logger.trace("unbinding()"),t=le(t,e.viewModel.unbinding(e.$initiator,e.parent)))),Ee(t)&&(this._ensurePromise(),this._enterUnbinding(),t.then(()=>{this._leaveUnbinding()}).catch(s=>{this._reject(s)})),t=void 0,e=e.next;this._leaveUnbinding()}}_enterUnbinding(){++this._unbindingStack}_leaveUnbinding(){if(--this._unbindingStack===0){this.debug&&this.logger.trace("unbind()");let e=this.$initiator.head,t=null;for(;e!==null;)e!==this&&(e._isBindingDone=!1,e.isBound=!1,e.unbind()),t=e.next,e.next=null,e=t;this.head=this.tail=null,this._isBindingDone=!1,this.isBound=!1,this.unbind()}}addBinding(e){this.bindings===null?this.bindings=[e]:this.bindings[this.bindings.length]=e}addChild(e){this.children===null?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case mi:case _t:return this.definition.name===e;case We:return this.viewFactory.name===e}}lockScope(e){this.scope=e,this.hasLockedScope=!0}setHost(e){return this.vmKind===_t&&(kt(e,He,this),kt(e,this.definition.key,this)),this.host=e,this.mountTarget=Wn,this}setShadowRoot(e){return this.vmKind===_t&&(kt(e,He,this),kt(e,this.definition.key,this)),this.shadowRoot=e,this.mountTarget=qn,this}setLocation(e){return this.vmKind===_t&&(kt(e,He,this),kt(e,this.definition.key,this)),this.location=e,this.mountTarget=Qn,this}release(){this.state|=nn}dispose(){this.debug&&this.logger.trace("dispose()"),(this.state&Ds)!==Ds&&(this.state|=Ds,this._vmHooks._dispose&&this._vm.dispose(),this.children!==null&&(this.children.forEach(F3),this.children=null),this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,this._vm!==null&&(Ms.delete(this._vm),this._vm=null),this._vm=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(e){if(e(this)===!0||this._vmHooks._accept&&this._vm.accept(e)===!0)return!0;if(this.children!==null){const{children:t}=this;for(let s=0,n=t.length;s<n;++s)if(t[s].accept(e)===!0)return!0}}}const Ms=new WeakMap,If=0,Wn=1,qn=2,Qn=3,Kn=ps({none:If,host:Wn,shadowRoot:qn,location:Qn}),L3=X_(L0);function ud(i,e,t){var u,h;const s=e.bindables,n=Q0(s),r=n.length;if(r===0)return;const o=i.container.get(Tn),a="propertiesChanged"in t,l=i.vmKind===We?void 0:i.container.get(L3),c=a?(()=>{let p={},d=!1,g=0;const f=()=>{d||(d=!0,rs(()=>{var b;d=!1;const _=p;p={},g=0,i.isBound&&((b=t.propertiesChanged)==null||b.call(t,_),g>0&&f())}))};return(_,b,v)=>{p[_]={newValue:b,oldValue:v},g++,f()}})():dt;for(let p=0;p<r;++p){const d=n[p],g=s[d],f=g.callback,_=o.getObserver(t,d);if(g.set!==dt&&((u=_.useCoercer)==null?void 0:u.call(_,g.set,l))!==!0)throw B(507,d);if(t[f]!=null||t.propertyChanged!=null||a){const b=(v,$)=>{var m,C;i.isBound&&((m=t[f])==null||m.call(t,v,$),(C=t.propertyChanged)==null||C.call(t,d,v,$),c(d,v,$))};if(((h=_.useCallback)==null?void 0:h.call(_,b))!==!0)throw B(508,d)}}}const dd=new Map,M3=i=>{let e=dd.get(i);return e==null&&(e=new ur(i,0),dd.set(i,e)),e};function pd(i,e,t,s){const n=e.get(Tn),r=e.get(An),o=t.watches,a=i.vmKind===_t?i.scope:Oe.create(s,null,!0),l=o.length;let c,u,h,p,d=0;for(;l>d;++d){if({expression:c,callback:u,flush:p}=o[d],u=Y(u)?u:Reflect.get(s,u),!Y(u))throw B(506,u);Y(c)?i.addBinding(new Af(s,n,c,u,p)):(h=X(c)?r.parse(c,os):M3(c),i.addBinding(new tc(a,e,n,h,u,p)))}}function N3(i){return i instanceof Ze&&i.vmKind===_t}function Pa(i){return Ef(i==null?void 0:i.constructor)}class tn{constructor(e){this._define="define"in e,this._hydrating="hydrating"in e,this._hydrated="hydrated"in e,this._created="created"in e,this._binding="binding"in e,this._bound="bound"in e,this._attaching="attaching"in e,this._attached="attached"in e,this._detaching="detaching"in e,this._unbinding="unbinding"in e,this._dispose="dispose"in e,this._accept="accept"in e}}tn.none=new tn({});const D3={mode:"open"},_t="customElement",mi="customAttribute",We="synthetic",al=0,Xt=1,Ci=2,wr=4,sn=8,nn=16,Ds=32;function V3(i){const e=[];return(i&Xt)===Xt&&e.push("activating"),(i&Ci)===Ci&&e.push("activated"),(i&wr)===wr&&e.push("deactivating"),(i&sn)===sn&&e.push("deactivated"),(i&nn)===nn&&e.push("released"),(i&Ds)===Ds&&e.push("disposed"),e.length===0?"none":e.join("|")}const Qr=oe("IController"),ei=oe("IHydrationContext");class Rf{constructor(e,t,s){this.instruction=t,this.parent=s,this.controller=e}}function F3(i){i.dispose()}function fd(i){i.instance.created(this._vm,this)}function j3(i){i.instance.hydrating(this._vm,this)}function z3(i){i.instance.hydrated(this._vm,this)}function H3(i){return i.instance.binding(this._vm,this.$initiator,this.parent)}function G3(i){return i.instance.bound(this._vm,this.$initiator,this.parent)}function U3(i){return i.instance.attaching(this._vm,this.$initiator,this.parent)}function W3(i){return i.instance.attached(this._vm,this.$initiator)}function q3(i){return i.instance.detaching(this._vm,this.$initiator,this.parent)}function Q3(i){return i.instance.unbinding(this._vm,this.$initiator,this.parent)}let ll,cl,_i;const kt=Vt.set,K3=oe("IEventTarget",i=>i.cachedCallback(e=>e.has(_n,!0)?e.get(_n).host:e.get(Ve).document)),ot=oe("IRenderLocation"),Wo=oe("ICssClassMapping"),qo=new WeakMap;function Qo(i){if(qo.has(i))return qo.get(i);let e=0,t=i.nextSibling;for(;t!==null;){if(t.nodeType===8)switch(t.textContent){case"au-start":++e;break;case"au-end":if(e--===0)return t}t=t.nextSibling}if(i.parentNode===null&&i.nodeType===11){const s=cn(i,{optional:!0});if(s==null)return null;if(s.mountTarget===Kn.shadowRoot)return Qo(s.host)}return i.parentNode}function Z3(i,e){if(i.platform!==void 0&&!(i instanceof i.platform.Node)){const t=i.childNodes;for(let s=0,n=t.length;s<n;++s)qo.set(t[s],e)}else qo.set(i,e)}function Ar(i){if(Pf(i))return i;const e=i.ownerDocument.createComment("au-end"),t=e.$start=i.ownerDocument.createComment("au-start"),s=i.parentNode;return s!==null&&(s.replaceChild(e,i),s.insertBefore(t,e)),e}function Pf(i){return i.textContent==="au-end"}class hl{get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}constructor(e,t){this.platform=e,this.next=void 0,this._isMounted=!1,this._isLinked=!1,this.ref=null;const s=(this.f=t).querySelectorAll("au-m");let n=0,r=s.length,o=this.t=Array(r),a,l;for(;r>n;)l=s[n],a=l.nextSibling,l.remove(),a.nodeType===8&&(l=a,(a=a.nextSibling).$start=l),o[n]=a,++n;const c=t.childNodes,u=this.childNodes=Array(r=c.length);for(n=0;r>n;)u[n]=c[n],++n;this._firstChild=t.firstChild,this._lastChild=t.lastChild}findTargets(){return this.t}insertBefore(e){if(this._isLinked&&this.ref)this.addToLinked();else{const t=e.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,t.insertBefore(s,e),s!==r);)s=n}else this._isMounted=!0,e.parentNode.insertBefore(this.f,e)}}appendTo(e,t=!1){if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,e.appendChild(s),s!==r);)s=n}else this._isMounted=!0,t||e.appendChild(this.f)}remove(){if(this._isMounted){this._isMounted=!1;const e=this.f,t=this._lastChild;let s,n=this._firstChild;for(;n!==null&&(s=n.nextSibling,e.appendChild(n),n!==t);)n=s}}addToLinked(){const e=this.ref,t=e.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,t.insertBefore(s,e),s!==r);)s=n}else this._isMounted=!0,t.insertBefore(this.f,e)}unlink(){this._isLinked=!1,this.next=void 0,this.ref=void 0}link(e){this._isLinked=!0,Pf(e)?this.ref=e:(this.next=e,this._obtainRefNode())}_obtainRefNode(){this.next!==void 0?this.ref=this.next.firstChild:this.ref=void 0}}const Kr=oe("IWindow",i=>i.callback(e=>e.get(Ve).window)),X3=oe("ILocation",i=>i.callback(e=>e.get(Kr).location)),J3=oe("IHistory",i=>i.callback(e=>e.get(Kr).history)),Zr=(i,e,t=i.get(Ve))=>(me(i,t.HTMLElement,me(i,t.Element,me(i,En,new $e("ElementResolver",e)))),i);function lt(i){return function(e,t){return t.addInitializer(function(){Tf(i,this)}),e}}const ul=new WeakMap;class Le{get type(){return Nb}constructor(e,t,s,n,r,o,a,l,c,u,h,p,d,g,f,_,b,v,$){this.Type=e,this.name=t,this.aliases=s,this.key=n,this.capture=r,this.template=o,this.instructions=a,this.dependencies=l,this.injectable=c,this.needsCompile=u,this.surrogates=h,this.bindables=p,this.containerless=d,this.shadowOptions=g,this.hasSlots=f,this.enhance=_,this.watches=b,this.strict=v,this.processContent=$}static create(e,t=null){if(t===null){const n=e;if(X(n))throw B(761,e);const r=Qt("name",n,Ko);Y(n.Type)?t=n.Type:t=Bf(pp(r));for(const o of Object.values(mt.from(n.bindables)))mt._add(o,t);return new Le(t,r,Te(n.aliases),Qt("key",n,()=>Zi(r)),pt("capture",n,t,$t),pt("template",n,t,St),Te(n.instructions),Te(ft(t,"dependencies"),n.dependencies),Qt("injectable",n,St),Qt("needsCompile",n,pl),Te(n.surrogates),mt.from(ft(t,"bindables"),n.bindables),pt("containerless",n,t,$t),Qt("shadowOptions",n,St),Qt("hasSlots",n,$t),Qt("enhance",n,$t),Qt("watches",n,ew),Qt("strict",n,dl),Mt("processContent",t,St))}if(X(e))return new Le(t,e,Te(ft(t,"aliases"),t.aliases),Zi(e),Mt("capture",t,$t),Mt("template",t,St),Te(ft(t,"instructions"),t.instructions),Te(ft(t,"dependencies"),t.dependencies),Mt("injectable",t,St),Mt("needsCompile",t,pl),Te(ft(t,"surrogates"),t.surrogates),mt.from(...mt.getAll(t),ft(t,"bindables"),t.bindables),Mt("containerless",t,$t),Mt("shadowOptions",t,St),Mt("hasSlots",t,$t),Mt("enhance",t,$t),Te(Yl.getDefinitions(t),t.watches),Mt("strict",t,dl),Mt("processContent",t,St));const s=Qt("name",e,Ko);for(const n of Object.values(mt.from(e.bindables)))mt._add(n,t);return new Le(t,s,Te(ft(t,"aliases"),e.aliases,t.aliases),Zi(s),pt("capture",e,t,$t),pt("template",e,t,St),Te(ft(t,"instructions"),e.instructions,t.instructions),Te(ft(t,"dependencies"),e.dependencies,t.dependencies),pt("injectable",e,t,St),pt("needsCompile",e,t,pl),Te(ft(t,"surrogates"),e.surrogates,t.surrogates),mt.from(...mt.getAll(t),ft(t,"bindables"),t.bindables,e.bindables),pt("containerless",e,t,$t),pt("shadowOptions",e,t,St),pt("hasSlots",e,t,$t),pt("enhance",e,t,$t),Te(e.watches,Yl.getDefinitions(t),t.watches),pt("strict",e,t,dl),pt("processContent",e,t,St))}static getOrCreate(e){if(e instanceof Le)return e;if(ul.has(e))return ul.get(e);const t=Le.create(e);return ul.set(e,t),Gt(t,t.Type,He),t}register(e,t){const s=this.Type,n=typeof t=="string"?Zi(t):this.key,r=this.aliases;if(e.has(n,!1)){console.warn(B(153,this.name));return}e.register(e.has(s,!1)?null:gs(s,s),Js(s,n),...r.map(o=>Js(s,Zi(o))))}toString(){return`au:ce:${this.name}`}}const Y3={name:void 0,searchParents:!1,optional:!1},St=()=>null,dl=()=>{},$t=()=>!1,pl=()=>!0,ew=()=>U,Mi="custom-element",He=si(Mi),Zi=i=>`${He}:${i}`,Ko=(i=>()=>`unnamed-${++i}`)(0),tw=(i,e,t)=>{Gt(t,i,Es(e))},Tf=(i,e)=>{const t=Le.create(i,e),s=t.Type;return Gt(t,s,He,Dt),s},Ef=i=>{var e;return Y(i)&&(ya(He,i)||((e=i.$au)==null?void 0:e.type)===Mi)},cn=(i,e=Y3)=>{if(e.name===void 0&&e.searchParents!==!0){const s=Vt.get(i,He);if(s===null){if(e.optional===!0)return null;throw B(762,i)}return s}if(e.name!==void 0){if(e.searchParents!==!0){const r=Vt.get(i,He);if(r===null)throw B(763,i);return r.is(e.name)?r:void 0}let s=i,n=!1;for(;s!==null;){const r=Vt.get(s,He);if(r!==null&&(n=!0,r.is(e.name)))return r;s=Qo(s)}if(n)return;throw B(764,i)}let t=i;for(;t!==null;){const s=Vt.get(t,He);if(s!==null)return s;t=Qo(t)}throw B(765,i)},ft=(i,e)=>Je(Es(e),i),Of=i=>{const e=Je(He,i)??Ys(i,Mi,Le.create);if(e==null)throw B(760,i);return e},sw=()=>{const i={$isInterface:!1,register(){return{$isResolver:!0,resolve(e,t){return t.has(i,!0)?t.get(i):null}}}};return i},Bf=(function(){const i={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(t,s=e){const n=class{};return i.value=t,K0(n,"name",i),s!==e&&q0(n.prototype,s),n}})(),q=ps({name:He,keyFrom:Zi,isType:Ef,for:cn,define:Tf,getDefinition:Of,annotate:tw,getAnnotation:ft,generateName:Ko,createInjectable:sw,generateType:Bf,find(i,e){const t=i.find(Mi,e);return t==null?null:Je(He,t)??Ys(t,Mi,Le.create)??null}}),_n=oe("IAppRoot");class gd{get controller(){return this._controller}constructor(e,t,s,n=!1){this.config=e,this.container=t,this._hydratePromise=void 0,this._useOwnAppTasks=n;const r=this.host=e.host;s.prepare(this),me(t,K3,new $e("IEventTarget",r)),Zr(t,r,this.platform=this._createPlatform(t,r)),this._hydratePromise=T(this._runAppTasks("creating"),()=>{e.allowActionlessForm||r.addEventListener("submit",p=>{const d=p.target,g=!d.getAttribute("action");d.tagName==="FORM"&&g&&p.preventDefault()},!1);const o=n?t:t.createChild(),a=e.component;let l;Y(a)?l=o.invoke(a):l=e.component;const c={hydrate:!1,projections:null},u=n?Le.create({name:Ko(),template:this.host,enhance:!0,strict:e.strictBinding}):void 0,h=this._controller=Ze.$el(o,l,r,c,u);return h._hydrateCustomElement(c),T(this._runAppTasks("hydrating"),()=>(h._hydrate(),T(this._runAppTasks("hydrated"),()=>{h._hydrateChildren(),this._hydratePromise=void 0})))})}activate(){return T(this._hydratePromise,()=>T(this._runAppTasks("activating"),()=>T(this._controller.activate(this._controller,null,void 0),()=>this._runAppTasks("activated"))))}deactivate(){return T(this._runAppTasks("deactivating"),()=>T(this._controller.deactivate(this._controller,null),()=>this._runAppTasks("deactivated")))}_runAppTasks(e){const t=this.container,s=this._useOwnAppTasks&&!t.has(Jl,!1)?[]:t.getAll(Jl);return le(...s.reduce((n,r)=>(r.slot===e&&n.push(r.run()),n),[]))}_createPlatform(e,t){let s;if(e.has(Ve,!1))s=e.get(Ve);else{if(t.ownerDocument.defaultView===null)throw B(769);s=new Us(t.ownerDocument.defaultView),e.register(nh(Ve,s))}return s}dispose(){var e;(e=this._controller)==null||e.dispose()}}const _d=oe("IAurelia");let iw=class sc{get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(this._root==null){if(this.next==null)throw B(767);return this.next}return this._root}constructor(e=at.createContainer()){if(this.container=e,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this._startPromise=void 0,this._stopPromise=void 0,e.has(_d,!0)||e.has(sc,!0))throw B(768);me(e,_d,new $e("IAurelia",this)),me(e,sc,new $e("Aurelia",this)),me(e,_n,this._rootProvider=new $e("IAppRoot"))}register(...e){return this.container.register(...e),this}app(e){return this.next=new gd(e,this.container,this._rootProvider),this}enhance(e){const t=e.container??this.container.createChild(),s=me(t,_n,new $e("IAppRoot")),n=new gd({host:e.host,component:e.component},t,s,!0);return T(n.activate(),()=>n)}async waitForIdle(){const e=this.root.platform;await e.domQueue.yield(),await e.taskQueue.yield()}start(e=this.next){if(e==null)throw B(770);return Ee(this._startPromise)?this._startPromise:this._startPromise=T(this.stop(),()=>(Vt.hideProp||Reflect.set(e.host,"$aurelia",this),this._rootProvider.prepare(this._root=e),this._isStarting=!0,T(e.activate(),()=>{this._isRunning=!0,this._isStarting=!1,this._startPromise=void 0,this._dispatchEvent(e,"au-started",e.host)})))}stop(e=!1){if(Ee(this._stopPromise))return this._stopPromise;if(this._isRunning===!0){const t=this._root;return this._isRunning=!1,this._isStopping=!0,this._stopPromise=T(t.deactivate(),()=>T(wv(),()=>{Reflect.deleteProperty(t.host,"$aurelia"),e&&t.dispose(),this._root=void 0,this._rootProvider.dispose(),this._isStopping=!1,this._stopPromise=void 0,this._dispatchEvent(t,"au-stopped",t.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw B(771);this.container.dispose()}_dispatchEvent(e,t,s){const n=new e.platform.window.CustomEvent(t,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(n)}};const Lf=oe("ISVGAnalyzer",i=>i.singleton(nw));class nw{isStandardSvgAttribute(e,t){return!1}}class Mf{constructor(){this.fns=[],this._tagAttrMap=ce(),this._globalAttrMap=ce(),this.svg=x(Lf),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(e){var o;let t,s,n,r;for(n in e){t=e[n],s=(o=this._tagAttrMap)[n]??(o[n]=ce());for(r in t){if(s[r]!==void 0)throw md(r,n);s[r]=t[r]}}}useGlobalMapping(e){const t=this._globalAttrMap;for(const s in e){if(t[s]!==void 0)throw md(s,"*");t[s]=e[s]}}useTwoWay(e){this.fns.push(e)}isTwoWay(e,t){return rw(e,t)||this.fns.length>0&&this.fns.some(s=>s(e,t))}map(e,t){var s;return((s=this._tagAttrMap[e.nodeName])==null?void 0:s[t])??this._globalAttrMap[t]??(Kl(e,t,this.svg)?t:null)}}Mf.register=Hr(Gp);function rw(i,e){switch(i.nodeName){case"INPUT":switch(i.type){case"checkbox":case"radio":return e==="checked";default:return e==="value"||e==="files"||e==="value-as-number"||e==="value-as-date"}case"TEXTAREA":case"SELECT":return e==="value";default:switch(e){case"textcontent":case"innerhtml":return i.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}function md(i,e){return B(719,i,e)}const ow={register(i){i.register(R0,Mf,Nf)}};class aw{constructor(e,t,s){this.attrs=e,this.bindables=t,this.primary=s}}class Nf{constructor(){this._resourceCache=new WeakMap,this._bindableCache=new WeakMap}el(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new vd),t in s._element?s._element[t]:s._element[t]=q.find(e,t)}attr(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new vd),t in s._attr?s._attr[t]:s._attr[t]=qr.find(e,t)}bindables(e){let t=this._bindableCache.get(e);if(t==null){const s=e.bindables,n=ce();let r,o,a=!1,l,c;for(o in s){if(r=s[o],c=r.attribute,r.primary===!0){if(a)throw B(714,e);a=!0,l=r}else!a&&l==null&&(l=r);n[c]=Ss.create(o,r)}r==null&&e.type==="custom-attribute"&&(l=n.value=Ss.create("value",{mode:e.defaultBindingMode??th})),this._bindableCache.set(e,t=new aw(n,s,l??null))}return t}}Nf.register=Hr(P0);class vd{constructor(){this._element=ce(),this._attr=ce()}}const fl=ce();class Ir{static forNs(e){return fl[e]??(fl[e]=new Ir(e))}constructor(e){this.ns=e,this.type=ai|fs}getValue(e,t){return e.getAttributeNS(this.ns,t)}setValue(e,t,s){e==null?t.removeAttributeNS(this.ns,s):t.setAttributeNS(this.ns,s,e)}}Aa(Ir);class Df{constructor(){this.type=ai|fs}getValue(e,t){return e.getAttribute(t)}setValue(e,t,s){e==null?t.removeAttribute(s):t.setAttribute(s,e)}}Aa(Df);const Ro=new Df;class Ai{static _getSelectedOptions(e){const t=[];if(e.length===0)return t;const s=e.length;let n=0,r;for(;s>n;)r=e[n],r.selected&&(t[t.length]=Si.call(r,"model")?r.model:r.value),++n;return t}static _defaultMatcher(e,t){return e===t}constructor(e,t,s,n){this.type=ai|ih|fs,this._value=void 0,this._oldValue=void 0,this._hasChanges=!1,this._arrayObserver=void 0,this._nodeObserver=void 0,this._observing=!1,this._listened=!1,this._el=e,this._observerLocator=n,this._config=s}getValue(){return this._observing?this._value:this._el.multiple?Ai._getSelectedOptions(this._el.options):this._el.value}setValue(e){this._oldValue=this._value,this._value=e,this._hasChanges=e!==this._oldValue,this._observeArray(e instanceof Array?e:null),this._flushChanges()}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const e=this._value,t=this._el,s=_e(e),n=t.matcher??Ai._defaultMatcher,r=t.options;let o=r.length;for(;o-- >0;){const a=r[o],l=Si.call(a,"model")?a.model:a.value;if(s){a.selected=e.findIndex(c=>!!n(l,c))!==-1;continue}a.selected=!!n(l,e)}}syncValue(){const e=this._el,t=e.options,s=t.length,n=this._value;let r=0;if(e.multiple){if(!(n instanceof Array))return!0;let l;const c=e.matcher||Ai._defaultMatcher,u=[];for(;r<s;)l=t[r],l.selected&&u.push(Si.call(l,"model")?l.model:l.value),++r;let h;for(r=0;r<n.length;)h=n[r],u.findIndex(p=>!!c(h,p))===-1?n.splice(r,1):++r;for(r=0;r<u.length;)h=u[r],n.findIndex(p=>!!c(h,p))===-1&&n.push(h),++r;return!1}let o=null,a;for(;r<s;){if(a=t[r],a.selected){o=Si.call(a,"model")?a.model:a.value;break}++r}return this._oldValue=this._value,this._value=o,!0}_start(){(this._nodeObserver=uf(this._el,this._handleNodeChange.bind(this))).observe(this._el,{childList:!0,subtree:!0,characterData:!0}),this._observeArray(this._value instanceof Array?this._value:null),this._observing=!0}_stop(){var e;this._nodeObserver.disconnect(),(e=this._arrayObserver)==null||e.unsubscribe(this),this._nodeObserver=this._arrayObserver=void 0,this._observing=!1}_observeArray(e){var t;if((t=this._arrayObserver)==null||t.unsubscribe(this),this._arrayObserver=void 0,e!=null){if(!this._el.multiple)throw B(654);(this._arrayObserver=this._observerLocator.getArrayObserver(e)).subscribe(this)}}handleEvent(){this.syncValue()&&this._flush()}_handleNodeChange(e){this.syncOptions(),this.syncValue()&&this._flush()}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}dh(Ai),Ht(Ai,null);const lw="--";class Vf{constructor(e){this.obj=e,this.type=ai|fs,this._value="",this._oldValue="",this.styles={},this.version=0,this._hasChanges=!1}getValue(){return this.obj.style.cssText}setValue(e){this._value=e,this._hasChanges=e!==this._oldValue,this._flushChanges()}_getStyleTuplesFromString(e){const t=[],s=/url\([^)]+$/;let n=0,r="",o,a,l,c;for(;n<e.length;){if(o=e.indexOf(";",n),o===-1&&(o=e.length),r+=e.substring(n,o),n=o+1,s.test(r)){r+=";";continue}a=r.indexOf(":"),l=r.substring(0,a).trim(),c=r.substring(a+1).trim(),t.push([l,c]),r=""}return t}_getStyleTuplesFromObject(e){let t,s;const n=[];for(s in e)if(t=e[s],t!=null){if(X(t)){if(s.startsWith(lw)){n.push([s,t]);continue}n.push([fp(s),t]);continue}n.push(...this._getStyleTuples(t))}return n}_getStyleTuplesFromArray(e){const t=e.length;if(t>0){const s=[];let n=0;for(;t>n;++n)s.push(...this._getStyleTuples(e[n]));return s}return U}_getStyleTuples(e){return X(e)?this._getStyleTuplesFromString(e):e instanceof Array?this._getStyleTuplesFromArray(e):e instanceof Object?this._getStyleTuplesFromObject(e):U}_flushChanges(){if(this._hasChanges){this._hasChanges=!1;const e=this._value,t=this.styles,s=this._getStyleTuples(e);let n,r=this.version;this._oldValue=e;let o,a,l,c=0;const u=s.length;for(;c<u;++c)o=s[c],a=o[0],l=o[1],this.setProperty(a,l),t[a]=r;if(this.styles=t,this.version+=1,r===0)return;r-=1;for(n in t)!Si.call(t,n)||t[n]!==r||this.obj.style.removeProperty(n)}}setProperty(e,t){let s="";t!=null&&Y(t.indexOf)&&t.includes("!important")&&(s="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,s)}bind(){this._value=this._oldValue=this.obj.style.cssText}}Aa(Vf);class ic{constructor(e,t,s){this.type=ai|ih|fs,this._value="",this._oldValue="",this._hasChanges=!1,this._listened=!1,this._el=e,this._key=t,this._config=s}getValue(){return this._value}setValue(e){Is(e,this._value)||(this._oldValue=this._value,this._value=e,this._hasChanges=!0,this._config.readonly||this._flushChanges())}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this._el[this._key]=this._value??this._config.default,this._flush())}handleEvent(){this._oldValue=this._value,this._value=this._el[this._key],this._oldValue!==this._value&&(this._hasChanges=!1,this._flush())}_start(){this._value=this._oldValue=this._el[this._key]}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}dh(ic),Ht(ic,null);const bd=(()=>{const i="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/2000/xmlns/";return q0(ce(),{"xlink:actuate":["actuate",i],"xlink:arcrole":["arcrole",i],"xlink:href":["href",i],"xlink:role":["role",i],"xlink:show":["show",i],"xlink:title":["title",i],"xlink:type":["type",i],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",t],"xmlns:xlink":["xlink",t]})})(),Ff=new F0;Ff.type=ai|fs;class ph{constructor(){this.allowDirtyCheck=!0,this._events=ce(),this._globalEvents=ce(),this._overrides=ce(),this._globalOverrides=ce(),this._locator=x(U_),this._platform=x(Ve),this._dirtyChecker=x(Kc),this.svg=x(Lf);const e=["change","input"],t={events:e,default:""};this.useConfig({INPUT:{value:t,valueAsNumber:{events:e,default:0},checked:{type:nc,events:e},files:{events:e,readonly:!0}},SELECT:{value:{type:Ai,events:["change"],default:""}},TEXTAREA:{value:t}});const s={events:["change","input","blur","keyup","paste"],default:""},n={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:n,scrollLeft:n,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(e,t){return e instanceof this._platform.Node}useConfig(e,t,s){const n=this._events;let r;if(X(e))r=n[e]??(n[e]=ce()),r[t]==null?r[t]=s:mo(e,t);else for(const o in e){r=n[o]??(n[o]=ce());const a=e[o];for(t in a)r[t]==null?r[t]=a[t]:mo(o,t)}}useConfigGlobal(e,t){const s=this._globalEvents;if(typeof e=="object")for(const n in e)s[n]==null?s[n]=e[n]:mo("*",n);else s[e]==null?s[e]=t:mo("*",e)}getAccessor(e,t,s){if(t in this._globalOverrides||t in(this._overrides[e.tagName]??Ke))return this.getObserver(e,t,s);switch(t){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return(t==="popovertarget"||t==="popovertargetaction")&&e.nodeName!=="INPUT"&&e.nodeName!=="BUTTON"&&console.warn(`[aurelia] Popover API are only valid on <input> or <button>. Detected ${t} on <${e.nodeName.toLowerCase()}>`),Ro;default:{const n=bd[t];return n!==void 0?Ir.forNs(n[1]):Kl(e,t,this.svg)?Ro:Ff}}}overrideAccessor(e,t){var n,r;let s;if(X(e))s=(n=this._overrides)[e]??(n[e]=ce()),s[t]=!0;else for(const o in e)for(const a of e[o])s=(r=this._overrides)[o]??(r[o]=ce()),s[a]=!0}overrideAccessorGlobal(...e){for(const t of e)this._globalOverrides[t]=!0}getNodeObserverConfig(e,t){var s;return((s=this._events[e.tagName])==null?void 0:s[t])??this._globalEvents[t]}getNodeObserver(e,t,s){var o;const n=((o=this._events[e.tagName])==null?void 0:o[t])??this._globalEvents[t];let r;return n!=null?(r=new(n.type??ic)(e,t,n,s,this._locator),r.doNotCache||(j0(e)[t]=r),r):null}getObserver(e,t,s){switch(t){case"class":return new Ia(e);case"css":case"style":return new Vf(e)}const n=this.getNodeObserver(e,t,s);if(n!=null)return n;const r=bd[t];if(r!==void 0)return Ir.forNs(r[1]);if(Kl(e,t,this.svg))return Ro;if(t in e.constructor.prototype){if(this.allowDirtyCheck)return this._dirtyChecker.createProperty(e,t);throw B(652,t)}else return new Zc(e,t)}}ph.register=Hr(Xc);function cw(i,e){if(i instanceof Array)return e.getArrayObserver(i);if(i instanceof Map)return e.getMapObserver(i);if(i instanceof Set)return e.getSetObserver(i)}function mo(i,e){throw B(653,i,e)}function wd(i,e){return i===e}class nc{constructor(e,t,s,n){this.type=ai|ih|fs,this._value=void 0,this._oldValue=void 0,this._collectionObserver=void 0,this._valueObserver=void 0,this._listened=!1,this._el=e,this.oL=n,this._config=s}getValue(){return this._value}setValue(e){const t=this._value;e!==t&&(this._value=e,this._oldValue=t,this._observe(),this._synchronizeElement(),this._flush())}handleCollectionChange(){this._synchronizeElement()}handleChange(e,t){this._synchronizeElement()}_synchronizeElement(){const e=this._value,t=this._el,s=Si.call(t,"model")?t.model:t.value,n=t.type==="radio",r=t.matcher!==void 0?t.matcher:wd;if(n)t.checked=!!r(e,s);else if(e===!0)t.checked=!0;else{let o=!1;if(_e(e))o=e.findIndex(a=>!!r(a,s))!==-1;else if(e instanceof Set){for(const a of e)if(r(a,s)){o=!0;break}}else if(e instanceof Map)for(const a of e){const l=a[0],c=a[1];if(r(l,s)&&c===!0){o=!0;break}}t.checked=o}}handleEvent(){let e=this._oldValue=this._value;const t=this._el,s=Si.call(t,"model")?t.model:t.value,n=t.checked,r=t.matcher!==void 0?t.matcher:wd;if(t.type==="checkbox"){if(_e(e)){const o=e.findIndex(a=>!!r(a,s));n&&o===-1?e.push(s):!n&&o!==-1&&e.splice(o,1);return}else if(e instanceof Set){const o={};let a=o;for(const l of e)if(r(l,s)===!0){a=l;break}n&&a===o?e.add(s):!n&&a!==o&&e.delete(a);return}else if(e instanceof Map){let o;for(const a of e){const l=a[0];if(r(l,s)===!0){o=l;break}}e.set(o,n);return}e=n}else if(n)e=s;else return;this._value=e,this._flush()}_start(){this._observe()}_stop(){var e,t;this._value=this._oldValue=void 0,(e=this._collectionObserver)==null||e.unsubscribe(this),(t=this._valueObserver)==null||t.unsubscribe(this),this._collectionObserver=this._valueObserver=void 0}_flush(){gl=this._oldValue,this._oldValue=this._value,this.subs.notify(this._value,gl),gl=void 0}_observe(){var t,s,n,r,o;const e=this._el;(n=this._valueObserver??(this._valueObserver=((t=e.$observers)==null?void 0:t.model)??((s=e.$observers)==null?void 0:s.value)))==null||n.subscribe(this),(r=this._collectionObserver)==null||r.unsubscribe(this),this._collectionObserver=void 0,e.type==="checkbox"&&((o=this._collectionObserver=cw(this._value,this.oL))==null||o.subscribe(this))}}dh(nc),Ht(nc,null);let gl;class jf{bind(e,t){if(!(t instanceof it))throw B(9994,t);t.useTargetObserver(Ro)}}jf.$au={type:It,name:"attr"};class zf{bind(e,t){if(!("handleEvent"in t))throw B(801);t.self=!0}unbind(e,t){t.self=!1}}zf.$au={type:It,name:"self"};class Hf{constructor(){this._observerLocator=x(Tn),this._nodeObserverLocator=x(Xc)}bind(e,t,...s){if(!(this._nodeObserverLocator instanceof ph))throw B(9993);if(s.length===0)throw B(802);if(!(t instanceof it)||!(t.mode&Ps))throw B(803);const n=this._nodeObserverLocator.getNodeObserverConfig(t.target,t.targetProperty);if(n==null)throw B(9992,t);const r=this._nodeObserverLocator.getNodeObserver(t.target,t.targetProperty,this._observerLocator);r.useConfig({readonly:n.readonly,default:n.default,events:s}),t.useTargetObserver(r)}}Hf.$au={type:It,name:"updateTrigger"};class Zo{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this._wantsDeactivate=!1,this._swapId=0,this._ifFactory=x(Ct),this._location=x(ot)}attaching(e,t){return this._swap(this.value)}detaching(e,t){return this._wantsDeactivate=!0,T(this.pending,()=>{var s;this._wantsDeactivate=!1,this.pending=void 0,(s=this.view)==null||s.deactivate(e,this.$controller)})}valueChanged(e,t){if(this.$controller.isActive&&(e=!!e,t=!!t,e!==t))return this._swap(e)}_swap(e){const t=this.view,s=this.$controller,n=this._swapId++,r=()=>!this._wantsDeactivate&&this._swapId===n+1;let o;return T(this.pending,()=>this.pending=T(t==null?void 0:t.deactivate(t,s),()=>{var a;if(r()&&(e?o=this.view=this.ifView=this.cache&&this.ifView!=null?this.ifView:this._ifFactory.create():o=this.view=this.elseView=this.cache&&this.elseView!=null?this.elseView:(a=this.elseFactory)==null?void 0:a.create(),o!=null))return o.setLocation(this._location),T(o.activate(o,s,s.scope),()=>{r()&&(this.pending=void 0)})}))}dispose(){var e,t;(e=this.ifView)==null||e.dispose(),(t=this.elseView)==null||t.dispose(),this.ifView=this.elseView=this.view=void 0}accept(e){var t;if(((t=this.view)==null?void 0:t.accept(e))===!0)return!0}}Zo.$au={type:Ye,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:i=>i===""||!!i&&i!=="false"}}};class Gf{constructor(){this._factory=x(Ct)}link(e,t,s,n){const r=e.children,o=r[r.length-1];if(o instanceof Zo)o.elseFactory=this._factory;else if(o.viewModel instanceof Zo)o.viewModel.elseFactory=this._factory;else throw B(810)}}Gf.$au={type:"custom-attribute",name:"else",isTemplateController:!0};function hw(i){i.dispose()}const uw=["BindingBehavior","ValueConverter"];class Uf{constructor(){this.views=[],this.key=null,this._oldViews=[],this._scopes=[],this._oldScopes=[],this._scopeMap=new Map,this._observer=void 0,this._observingInnerItems=!1,this._reevaluating=!1,this._innerItemsExpression=null,this._normalizedItems=void 0,this._hasDestructuredLocal=!1,this._location=x(ot),this._parent=x(Qr),this._factory=x(Ct),this._resolver=x(pw);const t=x(Rn).props[0].props[0];if(t!==void 0){const{to:s,value:n,command:r}=t;if(s==="key")if(r===null)this.key=n;else if(r==="bind")this.key=x(An).parse(n,os);else throw B(775,r);else throw B(776,s)}}binding(e,t){const s=this._parent.bindings,n=s.length;let r,o,a=0;for(;n>a;++a)if(r=s[a],r.target===this&&r.targetProperty==="items"){o=this.forOf=r.ast,this._forOfBinding=r;let c=o.iterable;for(;c!=null&&uw.includes(c.$kind);)c=c.expression,this._observingInnerItems=!0;this._innerItemsExpression=c;break}this._refreshCollectionObserver();const l=o.declaration;(this._hasDestructuredLocal=l.$kind==="ArrayDestructuring"||l.$kind==="ObjectDestructuring")||(this.local=ve(l,this.$controller.scope,r,null))}attaching(e,t){return this._normalizeToArray(),this._createScopes(void 0),this._activateAllViews(e,this._normalizedItems??U)}detaching(e,t){return this._refreshCollectionObserver(),this._deactivateAllViews(e)}unbinding(e,t){this._scopeMap.clear()}itemsChanged(){this.$controller.isActive&&(this._refreshCollectionObserver(),this._normalizeToArray(),this._createScopes(void 0),this._applyIndexMap(void 0))}handleCollectionChange(e,t){const s=this.$controller;if(s.isActive){if(this._observingInnerItems){if(this._reevaluating)return;this._reevaluating=!0,this.items=ve(this.forOf.iterable,s.scope,this._forOfBinding,null),this._reevaluating=!1;return}this._normalizeToArray(),this._createScopes(this.key===null?t:void 0),this._applyIndexMap(t)}}_applyIndexMap(e){const t=this.views;this._oldViews=t.slice();const s=t.length,n=this.key,r=n!==null,o=this._oldScopes,a=this._scopes;if(r||e===void 0){const l=this.local,u=this._normalizedItems.length,p=this.forOf.declaration,d=this._forOfBinding,g=this._hasDestructuredLocal;e=Ei(u);let f=0;if(s===0)for(;f<u;++f)e[f]=-2;else if(u===0)for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(Po(g,p,o[f],d,l));else if(r){const _=Array(s);for(f=0;f<s;++f)_[f]=Ad(g,n,p,o[f],d,l);const b=Array(s);for(f=0;f<u;++f)b[f]=Ad(g,n,p,a[f],d,l);for(f=0;f<u;++f)_.includes(b[f])?e[f]=_.indexOf(b[f]):e[f]=-2;for(f=0;f<s;++f)b.includes(_[f])||(e.deletedIndices.push(f),e.deletedItems.push(Po(g,p,o[f],d,l)))}else{for(f=0;f<u;++f)o.includes(a[f])?e[f]=o.indexOf(a[f]):e[f]=-2;for(f=0;f<s;++f)a.includes(o[f])||(e.deletedIndices.push(f),e.deletedItems.push(Po(g,p,o[f],d,l)))}}if(e.deletedIndices.length>0){const l=T(this._deactivateAndRemoveViewsByKey(e),()=>this._createAndActivateAndSortViewsByKey(e));Ee(l)&&l.catch(Zl)}else this._createAndActivateAndSortViewsByKey(e)}_refreshCollectionObserver(){var o,a;const e=this.$controller.scope;let t=this._innerItems,s=this._observingInnerItems,n;s&&(t=this._innerItems=ve(this._innerItemsExpression,e,this._forOfBinding,null)??null,s=this._observingInnerItems=!Is(this.items,t));const r=this._observer;if(this.$controller.isActive){const l=s?t:this.items;n=this._observer=(a=(o=this._resolver.resolve(l)).getObserver)==null?void 0:a.call(o,l),r!==n&&(r==null||r.unsubscribe(this),n==null||n.subscribe(this))}else r==null||r.unsubscribe(this),this._observer=void 0}_createScopes(e){const t=this._scopes;this._oldScopes=t.slice();const s=this._normalizedItems,n=s.length,r=this._scopes=Array(s.length),o=this._scopeMap,a=new Map,l=this.$controller.scope,c=this._forOfBinding,u=this.forOf,h=this.local,p=this._hasDestructuredLocal;if(e===void 0){const d=this.key;if(d!==null){const f=Array(n);if(typeof d=="string")for(let _=0;_<n;++_)f[_]=s[_][d];else for(let _=0;_<n;++_){const b=oc(s[_],u,l,c,h,p);rc(p,u.declaration,b,c,h,s[_]),f[_]=ve(d,b,c,null)}for(let _=0;_<n;++_)r[_]=Id(o,a,f[_],s[_],u,l,c,h,p)}else for(let f=0;f<n;++f)r[f]=Id(o,a,s[f],s[f],u,l,c,h,p)}else{const d=t.length;for(let g=0;g<n;++g){const f=e[g];f>=0&&f<d?r[g]=t[f]:r[g]=oc(s[g],u,l,c,h,p),rc(p,u.declaration,r[g],c,h,s[g])}}o.clear(),this._scopeMap=a}_normalizeToArray(){const e=this.items;if(_e(e)){this._normalizedItems=e.slice(0);return}const t=[];this._resolver.resolve(e).iterate(e,(s,n)=>{t[n]=s}),this._normalizedItems=t}_activateAllViews(e,t){let s,n,r,o;const{$controller:a,_factory:l,_location:c,_scopes:u}=this,h=t.length,p=this.views=Array(h);for(let d=0;d<h;++d)r=p[d]=l.create().setLocation(c),r.nodes.unlink(),o=u[d],bo(o.overrideContext,d,h),n=r.activate(e??r,a,o),Ee(n)&&(s??(s=[])).push(n);if(s!==void 0)return s.length===1?s[0]:Promise.all(s)}_deactivateAllViews(e){let t,s,n,r=0;const{views:o,$controller:a}=this,l=o.length;for(;l>r;++r)n=o[r],n.release(),s=n.deactivate(e??n,a),Ee(s)&&(t??(t=[])).push(s);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}_deactivateAndRemoveViewsByKey(e){let t,s,n;const{$controller:r,views:o}=this,a=e.deletedIndices.slice().sort(mw),l=a.length;let c=0;for(;l>c;++c)n=o[a[c]],n.release(),s=n.deactivate(n,r),Ee(s)&&(t??(t=[])).push(s);for(c=0;l>c;++c)o.splice(a[c]-c,1);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}_createAndActivateAndSortViewsByKey(e){let t,s,n,r=0;const{$controller:o,_factory:a,_location:l,views:c,_scopes:u,_oldViews:h}=this,p=e.length;for(;p>r;++r)e[r]===-2&&(n=a.create(),c.splice(r,0,n));if(c.length!==p)throw B(814,[c.length,p]);let d=0;for(r=0;r<e.length;++r)(d=e[r])!==-2&&(c[r]=h[d]);const g=dw(e),f=g.length;let _,b=f-1;for(r=p-1;r>=0;--r)n=c[r],_=c[r+1],e[r]===-2?(n.nodes.link((_==null?void 0:_.nodes)??l),n.setLocation(l),bo(u[r].overrideContext,r,p),s=n.activate(n,o,u[r]),Ee(s)&&(t??(t=[])).push(s)):b<0||r!==g[b]?(n.nodes.link((_==null?void 0:_.nodes)??l),bo(n.scope.overrideContext,r,p),n.nodes.insertBefore(n.location)):(bo(n.scope.overrideContext,r,p),--b);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}dispose(){this.views.forEach(hw),this.views=void 0}accept(e){const{views:t}=this;if(t!==void 0){for(let s=0,n=t.length;s<n;++s)if(t[s].accept(e)===!0)return!0}}}Uf.$au={type:Ye,name:"repeat",isTemplateController:!0,bindables:["items"]};let Xo=16,ms=new Int32Array(Xo),vo=new Int32Array(Xo);function dw(i){const e=i.length;e>Xo&&(Xo=e,ms=new Int32Array(e),vo=new Int32Array(e));let t=0,s=0,n=0,r=0,o=0,a=0,l=0,c=0;for(;r<e;r++)if(s=i[r],s!==-2){if(o=ms[t],n=i[o],n!==-2&&n<s){vo[r]=o,ms[++t]=r;continue}for(a=0,l=t;a<l;)c=a+l>>1,n=i[ms[c]],n!==-2&&n<s?a=c+1:l=c;n=i[ms[a]],(s<n||n===-2)&&(a>0&&(vo[r]=ms[a-1]),ms[a]=r)}r=++t;const u=new Int32Array(r);for(s=ms[t-1];t-- >0;)u[t]=s,s=vo[s];for(;r-- >0;)ms[r]=0;return u}class yd{get $odd(){return!this.$even}get $even(){return this.$index%2===0}get $first(){return this.$index===0}get $middle(){return!this.$first&&!this.$last}get $last(){return this.$index===this.$length-1}constructor(e=0,t=1){this.$index=e,this.$length=t}}const bo=(i,e,t)=>{i.$index=e,i.$length=t},pw=oe("IRepeatableHandlerResolver",i=>i.singleton(fw));class fw{constructor(){this._handlers=x(Pc(gw))}resolve(e){if(Cd.handles(e))return Cd;if(kd.handles(e))return kd;if(Sd.handles(e))return Sd;if($d.handles(e))return $d;if(xd.handles(e))return xd;const t=this._handlers.find(s=>s.handles(e));return t!==void 0?t:_w}}const gw=oe("IRepeatableHandler"),Cd={handles:_e,getObserver:Jc,iterate(i,e){const t=i.length;let s=0;for(;s<t;++s)e(i[s],s,i)}},kd={handles:Sn,getObserver:Jc,iterate(i,e){let t=0,s;for(s of i.keys())e(s,t++,i)}},Sd={handles:Ws,getObserver:Jc,iterate(i,e){let t=0,s;for(s of i.entries())e(s,t++,i)}},$d={handles:$_,iterate(i,e){let t=0;for(;t<i;++t)e(t,t,i)}},xd={handles:i=>i==null,iterate(){}},_w={handles(i){return!1},iterate(i,e){throw B(777,i)}},rc=(i,e,t,s,n,r)=>{i?xr(e,t,s,null,r):t.bindingContext[n]=r},Po=(i,e,t,s,n)=>i?ve(e,t,s,null):t.bindingContext[n],Ad=(i,e,t,s,n,r)=>typeof e=="string"?Po(i,t,s,n,r)[e]:ve(e,s,n,null),Id=(i,e,t,s,n,r,o,a,l)=>{let c=i.get(t);if(c===void 0?c=oc(s,n,r,o,a,l):c instanceof Oe?i.delete(t):c.length===1?(c=c[0],i.delete(t)):c=c.shift(),e.has(t)){const u=e.get(t);u instanceof Oe?e.set(t,[u,c]):u.push(c)}else e.set(t,c);return rc(l,n.declaration,c,o,a,s),c},oc=(i,e,t,s,n,r)=>{if(r){const o=Oe.fromParent(t,new Uu,new yd);xr(e.declaration,o,s,null,i)}return Oe.fromParent(t,new Uu(n,i),new yd)},mw=(i,e)=>i-e;class Wf{constructor(){this.view=x(Ct).create().setLocation(x(ot))}valueChanged(e,t){const s=this.$controller,n=this.view.bindings;let r,o=0,a=0;if(s.isActive&&n!=null)for(r=Oe.fromParent(s.scope,e===void 0?{}:e),a=n.length;a>o;++o)n[o].bind(r)}attaching(e,t){const{$controller:s,value:n}=this,r=Oe.fromParent(s.scope,n===void 0?{}:n);return this.view.activate(e,s,r)}detaching(e,t){return this.view.deactivate(e,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(((t=this.view)==null?void 0:t.accept(e))===!0)return!0}}Wf.$au={type:Ye,name:"with",isTemplateController:!0,bindables:["value"]};class fh{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this._factory=x(Ct),this._location=x(ot)}link(e,t,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(e,t){const s=this.view,n=this.$controller;return this.queue(()=>s.activate(e,n,n.scope)),this.queue(()=>this.swap(e,this.value)),this.promise}detaching(e,t){return this.queue(()=>this.view.deactivate(e,this.$controller)),this.promise}dispose(){var e;(e=this.view)==null||e.dispose(),this.view=void 0}valueChanged(e,t){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(e){this.queue(()=>this._handleCaseChange(e))}_handleCaseChange(e){const t=e.isMatch(this.value),s=this.activeCases,n=s.length;if(!t)return n>0&&s[0].id===e.id?this._clearActiveCases(null):void 0;if(n>0&&s[0].id<e.id)return;const r=[];let o=e.fallThrough;if(!o)r.push(e);else{const a=this.cases,l=a.indexOf(e);for(let c=l,u=a.length;c<u&&o;c++){const h=a[c];r.push(h),o=h.fallThrough}}return T(this._clearActiveCases(null,r),()=>(this.activeCases=r,this._activateCases(null)))}swap(e,t){const s=[];let n=!1;for(const o of this.cases)if((n||o.isMatch(t))&&(s.push(o),n=o.fallThrough),s.length>0&&!n)break;const r=this.defaultCase;return s.length===0&&r!==void 0&&s.push(r),T(this.activeCases.length>0?this._clearActiveCases(e,s):void 0,()=>{if(this.activeCases=s,s.length!==0)return this._activateCases(e)})}_activateCases(e){const t=this.$controller;if(!t.isActive)return;const s=this.activeCases,n=s.length;if(n===0)return;const r=t.scope;return n===1?s[0].activate(e,r):le(...s.map(o=>o.activate(e,r)))}_clearActiveCases(e,t=[]){const s=this.activeCases,n=s.length;if(n!==0){if(n===1){const r=s[0];return t.includes(r)?void 0:(s.length=0,r.deactivate(e))}return T(le(...s.reduce((r,o)=>(t.includes(o)||r.push(o.deactivate(e)),r),[])),()=>{s.length=0})}}queue(e){const t=this.promise;let s;s=this.promise=T(T(t,e),()=>{this.promise===s&&(this.promise=void 0)})}accept(e){if(this.$controller.accept(e)===!0||this.activeCases.some(t=>t.accept(e)))return!0}}fh.$au={type:Ye,name:"switch",isTemplateController:!0,bindables:["value"]};let vw=0;const qf=["value",{name:"fallThrough",mode:wa,set(i){switch(i){case"true":return!0;case"false":return!1;default:return!!i}}}];class gh{constructor(){this.id=++vw,this.fallThrough=!1,this.view=void 0,this._factory=x(Ct),this._locator=x(Tn),this._location=x(ot),this._logger=x(Me).scopeTo(`Case-#${this.id}`)}link(e,t,s,n){const r=e.parent,o=r==null?void 0:r.viewModel;if(o instanceof fh)this.$switch=o,this.linkToSwitch(o);else throw B(815)}detaching(e,t){return this.deactivate(e)}isMatch(e){this._logger.debug("isMatch()");const t=this.value;return _e(t)?(this._observer===void 0&&(this._observer=this._observeCollection(t)),t.includes(e)):t===e}valueChanged(e,t){var s;_e(e)?((s=this._observer)==null||s.unsubscribe(this),this._observer=this._observeCollection(e)):this._observer!==void 0&&this._observer.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(e,t){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(e??s,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(e??t,this.$controller)}dispose(){var e,t;(e=this._observer)==null||e.unsubscribe(this),(t=this.view)==null||t.dispose(),this.view=void 0}linkToSwitch(e){e.cases.push(this)}_observeCollection(e){const t=this._locator.getArrayObserver(e);return t.subscribe(this),t}accept(e){var t;return this.$controller.accept(e)===!0?!0:(t=this.view)==null?void 0:t.accept(e)}}rh({name:"case",bindables:qf,isTemplateController:!0},gh);class Qf extends gh{linkToSwitch(e){if(e.defaultCase!==void 0)throw B(816);e.defaultCase=this}}rh({name:"default-case",bindables:qf,isTemplateController:!0},Qf);var Kf,Zf,Xf;class _h{constructor(){this.preSettledTask=null,this.postSettledTask=null,this._factory=x(Ct),this._location=x(ot),this._platform=x(Ve),this.logger=x(Me).scopeTo("promise.resolve")}link(e,t,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(e,t){const s=this.view,n=this.$controller;return T(s.activate(e,n,this.viewScope=Oe.fromParent(n.scope,{})),()=>this.swap(e))}valueChanged(e,t){this.$controller.isActive&&this.swap(null)}swap(e){var c,u;const t=this.value;if(!Ee(t)){this.logger.warn(`The value '${Bi(t)}' is not a promise. No change will be done.`);return}const s=this.fulfilled,n=this.rejected,r=this.pending,o=this.viewScope;let a;const l=()=>{le(a=(this.preSettledTask=fr(()=>le(s==null?void 0:s.deactivate(e),n==null?void 0:n.deactivate(e),r==null?void 0:r.activate(e,o)))).result.catch(h=>{throw h}),t.then(h=>{if(this.value!==t)return;const p=()=>{this.postSettlePromise=(this.postSettledTask=fr(()=>le(r==null?void 0:r.deactivate(e),n==null?void 0:n.deactivate(e),s==null?void 0:s.activate(e,o,h)))).result};this.preSettledTask.status===il?a.then(p):(this.preSettledTask.cancel(),p())},h=>{if(this.value!==t)return;const p=()=>{this.postSettlePromise=(this.postSettledTask=fr(()=>le(r==null?void 0:r.deactivate(e),s==null?void 0:s.deactivate(e),n==null?void 0:n.activate(e,o,h)))).result};this.preSettledTask.status===il?a.then(p):(this.preSettledTask.cancel(),p())}))};((c=this.postSettledTask)==null?void 0:c.status)===il?this.postSettlePromise.then(l):((u=this.postSettledTask)==null||u.cancel(),l())}detaching(e,t){var s,n;return(s=this.preSettledTask)==null||s.cancel(),(n=this.postSettledTask)==null||n.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(e,this.$controller)}dispose(){var e;(e=this.view)==null||e.dispose(),this.view=void 0}}_h.$au={type:Ye,name:"promise",isTemplateController:!0,bindables:["value"]};class Jf{constructor(){this.view=void 0,this._factory=x(Ct),this._location=x(ot)}link(e,t,s,n){mh(e).pending=this}activate(e,t){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(s,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e){return this.deactivate(e)}dispose(){var e;(e=this.view)==null||e.dispose(),this.view=void 0}}Jf.$au={type:Ye,name:"pending",isTemplateController:!0,bindables:{value:{mode:xe}}};class Yf{constructor(){this.view=void 0,this._factory=x(Ct),this._location=x(ot)}link(e,t,s,n){mh(e).fulfilled=this}activate(e,t,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){var e;(e=this.view)==null||e.dispose(),this.view=void 0}}Yf.$au={type:Ye,name:"then",isTemplateController:!0,bindables:{value:{mode:Ps}}};class e2{constructor(){this.view=void 0,this._factory=x(Ct),this._location=x(ot)}link(e,t,s,n){mh(e).rejected=this}activate(e,t,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){var e;(e=this.view)==null||e.dispose(),this.view=void 0}}e2.$au={type:Ye,name:"catch",isTemplateController:!0,bindables:{value:{mode:Ps}}};function mh(i){const e=i.parent,t=e==null?void 0:e.viewModel;if(t instanceof _h)return t;throw B(813)}class ac{"promise.resolve"(e,t){return new yt(e,t,"promise","bind")}}Kf=Symbol.metadata;ac[Kf]={[cs]:ii.create([{pattern:"promise.resolve",symbols:""}],ac)};class lc{then(e,t){return new yt(e,t,"then","from-view")}}Zf=Symbol.metadata;lc[Zf]={[cs]:ii.create([{pattern:"then",symbols:""}],lc)};class cc{catch(e,t){return new yt(e,t,"catch","from-view")}}Xf=Symbol.metadata;cc[Xf]={[cs]:ii.create([{pattern:"catch",symbols:""}],cc)};class t2{constructor(){this._needsApply=!1,this._element=x(En),this._platform=x(Ve)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this._apply():this._needsApply=!0}attached(){this._needsApply&&(this._needsApply=!1,this._apply()),this._element.addEventListener("focus",this),this._element.addEventListener("blur",this)}detaching(){const e=this._element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){e.type==="focus"?this.value=!0:this._isElFocused||(this.value=!1)}_apply(){const e=this._element,t=this._isElFocused,s=this.value;s&&!t?e.focus():!s&&t&&e.blur()}get _isElFocused(){return this._element===this._platform.document.activeElement}}t2.$au={type:Ye,name:"focus",bindables:{value:{mode:U0}}};class s2{constructor(){this.position="beforeend",this.strict=!1;const e=x(Ct),t=x(ot),s=x(Ve);this._platform=s,this._resolvedTarget=s.document.createElement("div"),(this.view=e.create()).setLocation(this._targetLocation=e3(s)),Z3(this.view.nodes,t)}attaching(e){this.callbackContext==null&&(this.callbackContext=this.$controller.scope.bindingContext);const t=this._resolvedTarget=this._getTarget();return this._moveLocation(t,this.position),this._activating(e,t)}detaching(e){return this._deactivating(e,this._resolvedTarget)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this._getTarget();if(this._resolvedTarget===t)return;this._resolvedTarget=t;const s=T(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));Ee(s)&&s.catch(Zl)}positionChanged(){const{$controller:e,_resolvedTarget:t}=this;if(!e.isActive)return;const s=T(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));Ee(s)&&s.catch(Zl)}_activating(e,t){const{activating:s,callbackContext:n,view:r}=this;return T(s==null?void 0:s.call(n,t,r),()=>this._activate(e,t))}_activate(e,t){const{$controller:s,view:n}=this;if(e===null)n.nodes.insertBefore(this._targetLocation);else return T(n.activate(e??n,s,s.scope),()=>this._activated(t));return this._activated(t)}_activated(e){const{activated:t,callbackContext:s,view:n}=this;return t==null?void 0:t.call(s,e,n)}_deactivating(e,t){const{deactivating:s,callbackContext:n,view:r}=this;return T(s==null?void 0:s.call(n,t,r),()=>this._deactivate(e,t))}_deactivate(e,t){const{$controller:s,view:n}=this;if(e===null)n.nodes.remove();else return T(n.deactivate(e,s),()=>this._deactivated(t));return this._deactivated(t)}_deactivated(e){const{deactivated:t,callbackContext:s,view:n}=this;return T(t==null?void 0:t.call(s,e,n),()=>this._removeLocation())}_getTarget(){const e=this._platform,t=e.document;let s=this.target,n=this.renderContext;if(s===""){if(this.strict)throw B(811);return t.body}if(X(s)){let r=t;X(n)&&(n=t.querySelector(n)),n instanceof e.Node&&(r=n),s=r.querySelector(s)}if(s instanceof e.Node)return s;if(s==null){if(this.strict)throw B(812);return t.body}return s}_removeLocation(){this._targetLocation.remove(),this._targetLocation.$start.remove()}_moveLocation(e,t){const s=this._targetLocation,n=s.$start,r=e.parentNode,o=[n,s];switch(t){case"beforeend":_o(e,null,o);break;case"afterbegin":_o(e,e.firstChild,o);break;case"beforebegin":_o(r,e,o);break;case"afterend":_o(r,e.nextSibling,o);break;default:throw B(779,t)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){var t;if(((t=this.view)==null?void 0:t.accept(e))===!0)return!0}}s2.$au={type:Ye,name:"portal",isTemplateController:!0,bindables:[{name:"target",primary:!0},"position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};let bw;class Ta{constructor(){var h,p,d,g;this._parentScope=null,this._outerScope=null,this._attached=!1,this.expose=null,this.slotchange=null,this._subs=new Set,this._observer=null;const e=x(ei),t=x(ot),s=x(Rn),n=x(Vi),r=this.name=s.data.name,o=(h=s.projections)==null?void 0:h[df],a=(d=(p=e.instruction)==null?void 0:p.projections)==null?void 0:d[r],l=e.controller.container;let c,u;a==null?(u=l.createChild({inheritParentResources:!0}),c=n.getViewFactory(o??bw??(bw=Le.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),u),this._hasProjection=!1):(u=l.createChild(),u.useResources(e.parent.controller.container),me(u,ei,new $e(void 0,e.parent)),c=n.getViewFactory(a,u),this._hasProjection=!0,this._slotwatchers=((g=l.getAll(i3,!1))==null?void 0:g.filter(f=>f.slotName==="*"||f.slotName===r))??U),this._hasSlotWatcher=(this._slotwatchers??(this._slotwatchers=U)).length>0,this._hdrContext=e,this.view=c.create().setLocation(this._location=t)}get nodes(){const e=[],t=this._location;let s=t.$start.nextSibling;for(;s!=null&&s!==t;)s.nodeType!==8&&e.push(s),s=s.nextSibling;return e}subscribe(e){this._subs.add(e)}unsubscribe(e){this._subs.delete(e)}binding(e,t){var r;for(this._parentScope=t.scope;t.vmKind==="synthetic"&&((r=t.parent)==null?void 0:r.viewModel)instanceof Ta;)t=t.parent.parent;const s=t.scope.bindingContext;let n;this._hasProjection&&(n=this._hdrContext.controller.scope.parent,(this._outerScope=Oe.fromParent(n,n.bindingContext)).overrideContext.$host=this.expose??s)}attaching(e,t){return T(this.view.activate(e,this.$controller,this._hasProjection?this._outerScope:this._parentScope),()=>{(this._hasSlotWatcher||Y(this.slotchange))&&(this._slotwatchers.forEach(s=>s.watch(this)),this._observe(),this._notifySlotChange(),this._attached=!0)})}detaching(e,t){return this._attached=!1,this._unobserve(),this._slotwatchers.forEach(s=>s.unwatch(this)),this.view.deactivate(e,this.$controller)}exposeChanged(e){this._hasProjection&&this._outerScope!=null&&(this._outerScope.overrideContext.$host=e)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(((t=this.view)==null?void 0:t.accept(e))===!0)return!0}_observe(){if(this._observer!=null)return;const e=this._location,t=e.parentElement;t!=null&&(this._observer=uf(t,s=>{ww(e,s)&&this._notifySlotChange()})).observe(t,{childList:!0})}_unobserve(){var e;(e=this._observer)==null||e.disconnect(),this._observer=null}_notifySlotChange(){var n;const e=this.nodes,t=new Set(this._subs);let s;this._attached&&((n=this.slotchange)==null||n.call(void 0,this.name,e));for(s of t)s.handleSlotChange(this,e)}}Ta.$au={type:Mi,name:"au-slot",template:null,containerless:!0,processContent(i,e,t){t.name=i.getAttribute("name")??df;let s=i.firstChild,n=null;for(;s!==null;)n=s.nextSibling,t3(s)&&s.hasAttribute(s3)&&(console.warn("[DEV:aurelia] detected [au-slot] attribute on a child node",`of an <au-slot> element: "<${s.nodeName} au-slot>".`,"This element will be ignored and removed"),i.removeChild(s)),s=n},bindables:["expose","slotchange"]};const wo=(i,e)=>i.compareDocumentPosition(e),ww=(i,e)=>{for(const{addedNodes:t,removedNodes:s,nextSibling:n}of e){let r=0,o=t.length,a;for(;r<o;++r)if(a=t[r],wo(i.$start,a)===4&&wo(i,a)===2)return!0;if(s.length>0&&n!=null&&wo(i.$start,n)===4&&wo(i,n)===2)return!0}};class i2{constructor(){this.scopeBehavior="auto",this._composition=void 0,this.tag=null,this._container=x(Ni),this.parent=x(Qr),this._host=x(En),this._location=x(ot),this._platform=x(Ve),this._rendering=x(Vi),this._instruction=x(Rn),this._contextFactory=x(W_(Cw)),this._compiler=x(ga),this._hydrationContext=x(ei),this._exprParser=x(An),this._observerLocator=x(Tn),this._attached=!1}get composing(){return this._composing}get composition(){return this._composition}attaching(e,t){return this._attached=!0,this._composing=T(this.queue(new Rd(this.template,this.component,this.model,void 0),e),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)})}detaching(e){this._attached=!1;const t=this._composition,s=this._composing;return this._contextFactory.invalidate(),this._composition=this._composing=void 0,T(s,()=>t==null?void 0:t.deactivate(e))}propertyChanged(e){var t;if(this._attached&&!(e==="composing"||e==="composition")){if(e==="model"&&this._composition!=null){this._composition.update(this.model);return}if(e==="tag"&&((t=this._composition)==null?void 0:t.controller.vmKind)===_t){console.warn("[DEV:aurelia] Changing tag name of a custom element composition is ignored.");return}this._composing=T(this._composing,()=>T(this.queue(new Rd(this.template,this.component,this.model,e),void 0),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)}))}}queue(e,t){const s=this._contextFactory,n=this._composition;return T(s.create(e),r=>s._isCurrent(r)?T(this.compose(r),o=>s._isCurrent(r)?T(o.activate(t),()=>s._isCurrent(r)?(this._composition=o,T(n==null?void 0:n.deactivate(t),()=>r)):T(o.controller.deactivate(o.controller,this.$controller),()=>(o.controller.dispose(),r))):(o.controller.dispose(),r)):r)}compose(e){const{_template:t,_component:s,_model:n}=e.change,{_container:r,$controller:o,_location:a,_instruction:l}=this,c=this._getDefinition(this._hydrationContext.controller.container,s),u=r.createChild(),h=this._platform.document.createElement(c==null?this.tag??"div":c.name);a.parentNode.insertBefore(h,a);let p;c==null?p=this.tag==null?Ar(h):null:p=c.containerless?Ar(h):null;const d=()=>{var _;if(h.remove(),p!=null){let b=p.$start.nextSibling,v=null;for(;b!==null&&b!==p;)v=b.nextSibling,b.remove(),b=v;(_=p.$start)==null||_.remove(),p.remove()}},g=this._createComponentInstance(u,typeof s=="string"?c.Type:s,h,p),f=()=>{const _=l.captures??U;if(c!==null){const b=c.capture,[v,$]=_.reduce((C,O)=>{const P=!(O.target in c.bindables)&&(b===!0||Y(b)&&!!b(O.target));return C[P?0:1].push(O),C},[[],[]]),m=Ze.$el(u,g,h,{projections:l.projections,captures:v},c,p);return this._createSpreadBindings(h,c,$).forEach(C=>m.addBinding(C)),new Td(m,C=>m.activate(C??m,o,o.scope.parent),C=>T(m.deactivate(C??m,o),d),C=>{var O;return(O=g.activate)==null?void 0:O.call(g,C)},e)}else{const b=Le.create({name:q.generateName(),template:t}),v=this._rendering.getViewFactory(b,u),$=Ze.$view(v,o),m=this.scopeBehavior==="auto"?Oe.fromParent(this.parent.scope,g):Oe.create(g);return $.setHost(h),p==null?this._createSpreadBindings(h,b,_).forEach(C=>$.addBinding(C)):$.setLocation(p),new Td($,C=>$.activate(C??$,o,m),C=>T($.deactivate(C??$,o),d),C=>{var O;return(O=g.activate)==null?void 0:O.call(g,C)},e)}};return"activate"in g?T(g.activate(n),()=>f()):f()}_createComponentInstance(e,t,s,n){if(t==null)return new yw;if(typeof t=="object")return t;const r=this._platform;Zr(e,s,r),me(e,ot,new $e("IRenderLocation",n));const o=e.invoke(t);return me(e,t,new $e("au-compose.component",o)),o}_getDefinition(e,t){if(typeof t=="string"){const n=q.find(e,t);if(n==null)throw B(806,t);return n}const s=Y(t)?t:t==null?void 0:t.constructor;return q.isType(s,void 0)?q.getDefinition(s,null):null}_createSpreadBindings(e,t,s){const n=new Rf(this.$controller,{projections:null,captures:s},this._hydrationContext.parent);return xa.create(n,e,t,this._rendering,this._compiler,this._platform,this._exprParser,this._observerLocator)}}i2.$au={type:Mi,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:i=>{if(i==="scoped"||i==="auto")return i;throw B(805,i)}},{name:"composing",mode:Ps},{name:"composition",mode:Ps},"tag"]};class yw{}class Cw{constructor(){this.id=0}_isCurrent(e){return e.id===this.id}create(e){return T(e.load(),t=>new kw(++this.id,t))}invalidate(){this.id++}}class Rd{constructor(e,t,s,n){this._template=e,this._component=t,this._model=s,this._src=n}load(){return Ee(this._template)||Ee(this._component)?Promise.all([this._template,this._component]).then(([e,t])=>new Pd(e,t,this._model,this._src)):new Pd(this._template,this._component,this._model,this._src)}}class Pd{constructor(e,t,s,n){this._template=e,this._component=t,this._model=s,this._src=n}}class kw{constructor(e,t){this.id=e,this.change=t}}class Td{constructor(e,t,s,n,r){this.controller=e,this.start=t,this.stop=s,this.update=n,this.context=r,this.state=0}activate(e){if(this.state!==0)throw B(807,this);return this.state=1,this.start(e)}deactivate(e){switch(this.state){case 1:return this.state=-1,this.stop(e);case-1:throw B(808);default:this.state=-1}}}const Sw=oe("ISanitizer",i=>i.singleton(class{sanitize(){throw B(99,"sanitize")}}));class n2{constructor(){this._sanitizer=x(Sw)}toView(e){return e==null?null:this._sanitizer.sanitize(e)}}n2.$au={type:Yi,name:"sanitize"};class r2{constructor(){this.el=x(En),this.p=x(Ve),this._isActive=!1,this._isQueued=!1,this.$val="",this.$prio="",this.update=()=>{this._isQueued=!1,!!this.value!==this._isToggled&&(this._isToggled===this._base?(this._isToggled=!this._base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this._isToggled=this._base,this.el.style.setProperty("display",this.$val,this.$prio),this.el.getAttribute("style")===""&&this.el.removeAttribute("style")))};const e=x(Rn);this._isToggled=this._base=e.alias!=="hide"}binding(){this._isActive=!0,this.update()}detaching(){this._isActive=!1,this._isQueued=!1}valueChanged(){this._isActive&&!this._isQueued&&(this._isQueued=!0,rs(this.update))}}r2.$au={type:Ye,name:"show",bindables:["value"],aliases:["hide"]};const $w=[ow,gb,ph],xw=[Dl,Nl,Vl,Yb],Aw=[w0,_0,v0,m0,b0,y0,A0,C0,k0,x0,$0,S0,I0],Iw=[nf,Y0,ef,tf,rf,of,sf,n2,Zo,Gf,Uf,Wf,fh,gh,Qf,_h,Jf,Yf,e2,ac,lc,cc,jf,zf,Hf,i2,s2,t2,r2,Ta],Rw=[d3,p3,h3,u3,r3,o3,a3,l3,c3,_3,k3,m3,v3,b3,y3,f3,S3,$3],Pw=o2(dt);function o2(i){return{optionsProvider:i,register(e){const t={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return i(t),e.register(nh(L0,t.coercingOptions),Bp,...$w,...Iw,...xw,...Aw,...Rw)},customize(e){return o2(e??i)}}}const Tw=Us.getOrCreate(globalThis);function Ew(){return at.createContainer().register(Pt.instance(Ve,Tw),Pw)}class yr extends iw{constructor(e=Ew()){super(e)}static app(e){return new yr().app(e)}static enhance(e){return new yr().enhance(e)}static register(...e){return new yr().register(...e)}app(e){if(q.isType(e)){const t=q.getDefinition(e);let s=document.querySelector(t.name);return s===null&&(s=document.body),super.app({host:s,component:e})}return super.app(e)}}const a2="my-app",hc=`<template>\r
    <app-header></app-header>\r
    <main>\r
        <au-viewport></au-viewport>\r
\r
    </main>\r
    <toast-notifications></toast-notifications>\r
    <payment-methods></payment-methods>\r
    <app-footer></app-footer>\r
</template>`,l2=[],c2={};let _l;function Ow(i){_l||(_l=q.define({name:a2,template:hc,dependencies:l2,bindables:c2})),i.register(_l)}const Bw=Object.freeze(Object.defineProperty({__proto__:null,bindables:c2,default:hc,dependencies:l2,name:a2,register:Ow,template:hc},Symbol.toStringTag,{value:"Module"})),h2="app-header",uc=`<template>\r
    <header class="main-header">\r
        <div class="header-content">\r
            <div class="header-left">\r
                <button class="hamburger-btn" aria-label="Open menu" aria-expanded.bind="isMobileMenuOpen" click.trigger="toggleMobileMenu()">\r
                    <img src.bind="ASSET.hamburger" alt="Menu" class="hamburger-icon" />\r
                </button>\r
                <a class="logo-link" load="/" href="/" aria-label="Home">\r
                    <img src.bind="ASSET.logo" alt="Logo" class="header-logo" />\r
                </a>\r
            </div>\r
            <category-navigation></category-navigation>\r
            <div class="header-spacer"></div>\r
            <div class="header-right">\r
                <cart-icon count.bind="cartCount"></cart-icon>\r
                <currency-selector></currency-selector>\r
                <button class="header-signin sign-in-button">\r
                    SIGN IN\r
                    <span class="user-icon" aria-hidden="true">\r
                        <svg class="user-icon-outline" width="22" height="22" viewBox="0 0 24 24" fill="none"\r
                            stroke="#23243a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
                            <circle cx="12" cy="8" r="4" />\r
                            <path d="M4 20c0-2.5 3.5-4 8-4s8 1.5 8 4" />\r
                        </svg>\r
                        <svg class="user-icon-filled" width="22" height="22" viewBox="0 0 24 24" fill="#23243a">\r
                            <circle cx="12" cy="8" r="4" />\r
                            <path d="M4 20c0-2.5 3.5-4 8-4s8 1.5 8 4" />\r
                        </svg>\r
                    </span>\r
                </button>\r
            </div>\r
        </div>\r
        <!-- Mobile overlay and drawer -->\r
        <div if.bind="isMobileMenuOpen" class="mobile-overlay" click.trigger="closeMobileMenu()"></div>\r
        <aside class="mobile-drawer \${isMobileMenuOpen ? 'open' : ''}" role="dialog" aria-modal="true">\r
            <div class="mobile-drawer-header">\r
                <a class="logo-link" load="/" href="/" aria-label="Home">\r
                    <img src.bind="ASSET.logo" alt="Logo" class="header-logo" />\r
                </a>\r
                <button class="drawer-close" aria-label="Close" click.trigger="closeMobileMenu()"></button>\r
            </div>\r
            <nav class="mobile-nav">\r
                <ul class="mobile-categories">\r
                    <li repeat.for="cat of ['CURRENCY','ITEMS','ACCOUNTS','SERVICES','SWAP','SELL']" class="mobile-cat-item">\${cat}</li>\r
                </ul>\r
            </nav>\r
            <div class="mobile-actions">\r
                <cart-icon count.bind="cartCount"></cart-icon>\r
                <currency-selector></currency-selector>\r
                <button class="header-signin sign-in-button">SIGN IN</button>\r
            </div>\r
        </aside>\r
    </header>\r
</template>`,u2=[],d2={};let ml;function Lw(i){ml||(ml=q.define({name:h2,template:uc,dependencies:u2,bindables:d2})),i.register(ml)}const Mw=Object.freeze(Object.defineProperty({__proto__:null,bindables:d2,default:uc,dependencies:u2,name:h2,register:Lw,template:uc},Symbol.toStringTag,{value:"Module"}));var Nw=Object.create,vh=Object.defineProperty,Dw=Object.getOwnPropertyDescriptor,Vw=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),p2=i=>{throw TypeError(i)},Fw=(i,e,t)=>e in i?vh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,jw=(i,e)=>vh(i,"name",{value:e,configurable:!0}),zw=i=>[,,,Nw(null)],Hw=["class","method","getter","setter","accessor","field","value","get","set"],f2=i=>i!==void 0&&typeof i!="function"?p2("Function expected"):i,Gw=(i,e,t,s,n)=>({kind:Hw[i],name:e,metadata:s,addInitializer:r=>t._?p2("Already initialized"):n.push(f2(r||null))}),Uw=(i,e)=>Fw(e,Vw("metadata"),i[3]),Ww=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},qw=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&Dw(n,t));jw(n,t);for(var g=s.length-1;g>=0;g--)l=Gw(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,f2(o)&&(n=o);return Uw(i,n),d&&vh(n,t,d),u?c^4?r:d:n},g2,bh;g2=[Q_()];const iu=class iu{constructor(e){this.ea=e,this.items=[]}initializing(){try{const e=localStorage.getItem("cart:items");if(e){const t=JSON.parse(e);Array.isArray(t)&&(this.items=t,this.notify())}}catch{}}get count(){return this.items.reduce((e,t)=>e+(t.qty??1),0)}getItems(){return this.items}add(e,t=1){const s=this.items.find(n=>n.id===e.id);s?s.qty=(s.qty??1)+t:this.items.push({...e,qty:t}),this.persist(),this.notify(),this.ea.publish("cart:added",{item:e,qty:t})}remove(e,t=1){const s=this.items.findIndex(n=>n.id===e);if(s>-1){const n=this.items[s],r=(n.qty??1)-t;r>0?n.qty=r:this.items.splice(s,1),this.persist(),this.notify()}}clear(){this.items=[],this.persist(),this.notify()}notify(){this.ea.publish("cart:changed",{count:this.count,items:this.items})}persist(){try{localStorage.setItem("cart:items",JSON.stringify(this.items))}catch{}}};iu.inject=[pa];let ti=iu;bh=zw();ti=qw(bh,0,"CartService",g2,ti);Ww(bh,1,ti);const _2="cart-icon",dc=`<template>\r
    <a class="cart-icon-btn" load="/cart" href="/cart" role="button">\r
        <span class="cart-icon-svg" aria-hidden="true">\r
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
                <circle cx="9" cy="21" r="1" />\r
                <circle cx="20" cy="21" r="1" />\r
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61l1.38-7.39H6" />\r
            </svg>\r
            <span class="cart-badge">\${count}</span>\r
        </span>\r
        <span class="cart-label">Cart</span>\r
    </a>\r
</template>`,m2=[],v2={};let vl;function Qw(i){vl||(vl=q.define({name:_2,template:dc,dependencies:m2,bindables:v2})),i.register(vl)}const Kw=Object.freeze(Object.defineProperty({__proto__:null,bindables:v2,default:dc,dependencies:m2,name:_2,register:Qw,template:dc},Symbol.toStringTag,{value:"Module"}));var Zw=Object.create,wh=Object.defineProperty,Xw=Object.getOwnPropertyDescriptor,Jw=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Xr=i=>{throw TypeError(i)},Yw=(i,e,t)=>e in i?wh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ed=(i,e)=>wh(i,"name",{value:e,configurable:!0}),ey=i=>[,,,Zw(null)],b2=["class","method","getter","setter","accessor","field","value","get","set"],Zn=i=>i!==void 0&&typeof i!="function"?Xr("Function expected"):i,ty=(i,e,t,s,n)=>({kind:b2[i],name:e,metadata:s,addInitializer:r=>t._?Xr("Already initialized"):n.push(Zn(r||null))}),sy=(i,e)=>Yw(e,Jw("metadata"),i[3]),pc=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},w2=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=b2[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&Xw(h<4?n:{get[t](){return Od(this,r)},set[t](m){return Bd(this,r,m)}},t));h?d&&h<4&&Ed(r,(h>2?"set ":h>1?"get ":"")+t):Ed(n,t);for(var $=s.length-1;$>=0;$--)c=ty(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>iy(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Od:ny)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Bd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?Zn(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?Xr("Object expected"):(Zn(o=a.get)&&(v.get=o),Zn(o=a.set)&&(v.set=o),Zn(o=a.init)&&_.unshift(o));return h||sy(i,n),v&&wh(n,t,v),d?h^4?r:v:n},yh=(i,e,t)=>e.has(i)||Xr("Cannot "+t),iy=(i,e)=>Object(e)!==e?Xr('Cannot use the "in" operator on this value'):i.has(e),Od=(i,e,t)=>(yh(i,e,"read from private field"),t?t.call(i):e.get(i)),Bd=(i,e,t,s)=>(yh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),ny=(i,e,t)=>(yh(i,e,"access private method"),t),y2,C2,mn;C2=[lt({...Kw,name:"cart-icon"})],y2=[Se];class Rr{constructor(){this.count=pc(mn,8,this,0),pc(mn,11,this)}}mn=ey();w2(mn,5,"count",y2,Rr);Rr=w2(mn,0,"CartIcon",C2,Rr);pc(mn,1,Rr);var ry=Object.create,Ch=Object.defineProperty,oy=Object.getOwnPropertyDescriptor,ay=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),k2=i=>{throw TypeError(i)},ly=(i,e,t)=>e in i?Ch(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,cy=(i,e)=>Ch(i,"name",{value:e,configurable:!0}),hy=i=>[,,,ry(null)],uy=["class","method","getter","setter","accessor","field","value","get","set"],S2=i=>i!==void 0&&typeof i!="function"?k2("Function expected"):i,dy=(i,e,t,s,n)=>({kind:uy[i],name:e,metadata:s,addInitializer:r=>t._?k2("Already initialized"):n.push(S2(r||null))}),py=(i,e)=>ly(e,ay("metadata"),i[3]),fy=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},gy=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&oy(n,t));cy(n,t);for(var g=s.length-1;g>=0;g--)l=dy(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,S2(o)&&(n=o);return py(i,n),d&&Ch(n,t,d),u?c^4?r:d:n},$2,kh;const _y=`<template>
	<div class="currency-selector-wrapper">
		<button class="currency-btn" type="button" click.trigger="isOpen = !isOpen">
			<span class="currency-label">\${selectedCurrency}</span>
			<svg class="currency-arrow" aria-expanded.bind="isOpen" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<polyline points="6 9 12 15 18 9" />
			</svg>
		</button>
		<div if.bind="isOpen" class="currency-popup">
			<ul>
				<li repeat.for="currency of currencies" class="currency-option" click.trigger="selectCurrency(currency)">
					\${currency}
				</li>
			</ul>
		</div>
	</div>
</template>`;$2=[lt({name:"currency-selector",template:_y})];class Jo{constructor(){this.isOpen=!1,this.selectedCurrency="USD",this.currencies=["USD","EUR","GBP","AUD","BRL","ARS","CLP","COP","MXN"],this.closeTimeout=null;const e=localStorage.getItem("selectedCurrency");e&&this.currencies.includes(e)&&(this.selectedCurrency=e)}open(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null),this.isOpen=!0}close(){this.closeTimeout=setTimeout(()=>{this.isOpen=!1,this.closeTimeout=null},200)}selectCurrency(e){this.selectedCurrency=e,localStorage.setItem("selectedCurrency",e),this.isOpen=!1}}kh=hy();Jo=gy(kh,0,"CurrencySelector",$2,Jo);fy(kh,1,Jo);var my=Object.create,Sh=Object.defineProperty,vy=Object.getOwnPropertyDescriptor,by=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Jr=i=>{throw TypeError(i)},wy=(i,e,t)=>e in i?Sh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ld=(i,e)=>Sh(i,"name",{value:e,configurable:!0}),yy=i=>[,,,my(null)],x2=["class","method","getter","setter","accessor","field","value","get","set"],Xn=i=>i!==void 0&&typeof i!="function"?Jr("Function expected"):i,Cy=(i,e,t,s,n)=>({kind:x2[i],name:e,metadata:s,addInitializer:r=>t._?Jr("Already initialized"):n.push(Xn(r||null))}),ky=(i,e)=>wy(e,by("metadata"),i[3]),fc=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},A2=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=x2[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&vy(h<4?n:{get[t](){return Md(this,r)},set[t](m){return Nd(this,r,m)}},t));h?d&&h<4&&Ld(r,(h>2?"set ":h>1?"get ":"")+t):Ld(n,t);for(var $=s.length-1;$>=0;$--)c=Cy(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>Sy(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Md:$y)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Nd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?Xn(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?Jr("Object expected"):(Xn(o=a.get)&&(v.get=o),Xn(o=a.set)&&(v.set=o),Xn(o=a.init)&&_.unshift(o));return h||ky(i,n),v&&Sh(n,t,v),d?h^4?r:v:n},$h=(i,e,t)=>e.has(i)||Jr("Cannot "+t),Sy=(i,e)=>Object(e)!==e?Jr('Cannot use the "in" operator on this value'):i.has(e),Md=(i,e,t)=>($h(i,e,"read from private field"),t?t.call(i):e.get(i)),Nd=(i,e,t,s)=>($h(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),$y=(i,e,t)=>($h(i,e,"access private method"),t),I2,R2,vn;const xy=`<template>
  <ul class="main-categories-list">
    <li repeat.for="cat of categories" class="main-category-item">
      <button class="main-category-btn" type="button" click.trigger="cat.isOpen = !cat.isOpen">
        <span>\${cat.name}</span>
        <svg class="main-category-arrow" aria-expanded.bind="cat.isOpen" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <div if.bind="cat.isOpen" class="main-category-dropdown">
        <div class="main-category-dropdown-content">
          <!-- Aqu puedes renderizar subcategoras, links, etc. -->
          <span class="dropdown-placeholder">Contenido de \${cat.name}</span>
        </div>
      </div>
    </li>
  </ul>
</template>`;R2=[lt({name:"category-navigation",template:xy})],I2=[Se];class Pr{constructor(){this.categories=fc(vn,8,this,[{name:"CURRENCY"},{name:"ITEMS"},{name:"ACCOUNTS"},{name:"SERVICES"},{name:"SWAP"},{name:"SELL"}]),fc(vn,11,this)}open(e){this.categories.forEach(t=>t.isOpen=!1),e.isOpen=!0}close(e){e.isOpen=!1}}vn=yy();A2(vn,5,"categories",I2,Pr);Pr=A2(vn,0,"CategoryNavigation",R2,Pr);fc(vn,1,Pr);var Ay=Object.create,xh=Object.defineProperty,Iy=Object.getOwnPropertyDescriptor,Ry=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),P2=i=>{throw TypeError(i)},Py=(i,e,t)=>e in i?xh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ty=(i,e)=>xh(i,"name",{value:e,configurable:!0}),Ey=i=>[,,,Ay(null)],Oy=["class","method","getter","setter","accessor","field","value","get","set"],T2=i=>i!==void 0&&typeof i!="function"?P2("Function expected"):i,By=(i,e,t,s,n)=>({kind:Oy[i],name:e,metadata:s,addInitializer:r=>t._?P2("Already initialized"):n.push(T2(r||null))}),Ly=(i,e)=>Py(e,Ry("metadata"),i[3]),My=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},Ny=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&Iy(n,t));Ty(n,t);for(var g=s.length-1;g>=0;g--)l=By(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,T2(o)&&(n=o);return Ly(i,n),d&&xh(n,t,d),u?c^4?r:d:n},E2,Ah;new URL("/ChicksGold-FE-Challenge/assets/chicks-logo-large-CNcQRT2y.svg",import.meta.url).href,new URL("/ChicksGold-FE-Challenge/assets/Hamburger_icon-B2m7aKwQ.png",import.meta.url).href;E2=[lt({...Mw,name:"app-header"}),$n(ti,pa)];const nu=class nu{constructor(e,t){this.cart=e,this.ea=t,this.cartCount=0,this.sub=void 0,this.isMobileMenuOpen=!1,this.onKeyDown=s=>{s.key==="Escape"&&this.isMobileMenuOpen&&this.closeMobileMenu()}}binding(){this.cartCount=this.cart.count,this.sub=this.ea.subscribe("cart:changed",e=>{this.cartCount=e.count??0,console.log("Cart updated, new count:",this.cartCount)})}detaching(){var e;(e=this.sub)==null||e.dispose(),window.removeEventListener("keydown",this.onKeyDown);try{document.body.style.overflow=""}catch{}}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.updateBodyScroll()}closeMobileMenu(){this.isMobileMenuOpen=!1,this.updateBodyScroll()}updateBodyScroll(){try{const e=document.body;if(!e)return;this.isMobileMenuOpen?e.style.overflow="hidden":e.style.overflow=""}catch{}}attached(){window.addEventListener("keydown",this.onKeyDown)}};nu.dependencies=[Rr,Jo,Pr];let bn=nu;Ah=Ey();bn=Ny(Ah,0,"AppHeader",E2,bn);My(Ah,1,bn);const O2="app-footer",gc=`<template>\r
  \r
  <footer class="footer">\r
    <div class="grid-container">\r
      <div class="footer-top-box">\r
        <div class="footer-social-row">\r
          <a href="https://facebook.com" target="_blank" rel="noopener" class="footer-social-icon facebook"\r
            aria-label="Facebook">\r
            <img src.bind="icons.facebook" class="footer-social-icon-img" alt="Facebook" />\r
          </a>\r
          <a href="https://instagram.com" target="_blank" rel="noopener" class="footer-social-icon instagram"\r
            aria-label="Instagram">\r
            <img src.bind="icons.instagram" class="footer-social-icon-img" alt="Instagram" />\r
          </a>\r
          <a href="https://twitter.com" target="_blank" rel="noopener" class="footer-social-icon twitter"\r
            aria-label="Twitter">\r
            <img src.bind="icons.twitter" class="footer-social-icon-img" alt="Twitter" />\r
          </a>\r
          <a href="https://discord.com" target="_blank" rel="noopener" class="footer-social-icon discord"\r
            aria-label="Discord">\r
            <img src.bind="icons.discord" class="footer-social-icon-img" alt="Discord" />\r
          </a>\r
        </div>\r
\r
        <div class="footer-container">\r
          <div class="footer-left-box">\r
            <div class="footer-column-title">\r
              <img src.bind="icons.logo" alt="ChicksGold Logo" class="footer-logo" />\r
            </div>\r
            <div class="footer-support-email">\r
              <a href="mailto:support@chicksgold.com" id="footer-support-email-link">support@chicksgold.com</a>\r
            </div>\r
          </div>\r
          <div class="footer-center-box">\r
            <div class="footer-columns">\r
              <div class="footer-column">\r
                <h4 class="footer-column-title">Chicks Gold</h4>\r
                <ul class="footer-column-list">\r
                  <li><a href="#">Games</a></li>\r
                  <li><a href="#">About Us</a></li>\r
                  <li><a href="#">Blog</a></li>\r
                  <li><a href="#">Sitemap</a></li>\r
                </ul>\r
              </div>\r
              <div class="footer-column">\r
                <h4 class="footer-column-title">Support</h4>\r
                <ul class="footer-column-list">\r
                  <li><a href="#">Contact Us</a></li>\r
                  <li><a href="#">FAQ</a></li>\r
\r
                </ul>\r
              </div>\r
              <div class="footer-column">\r
                <h4 class="footer-column-title">Legal</h4>\r
                <ul class="footer-column-list">\r
                  <li><a href="#">Cookies Policy</a></li>\r
                  <li><a href="#">Terms of Service</a></li>\r
                  <li><a href="#">Copyright Policy</a></li>\r
                </ul>\r
              </div>\r
            </div>\r
          </div>\r
          <div class="footer-right-box">\r
            <h3 class="footer-trustpilot-text">Trustpilot Reviews</h3>\r
            <div class="footer-trustpilot-row">\r
              <span class="footer-trustpilot-stars">\r
                <img src.bind="icons.star" alt="Trustpilot star" class="trustpilot-star" />\r
                <img src.bind="icons.star" alt="Trustpilot star" class="trustpilot-star" />\r
                <img src.bind="icons.star" alt="Trustpilot star" class="trustpilot-star" />\r
                <img src.bind="icons.star" alt="Trustpilot star" class="trustpilot-star" />\r
                <img src.bind="icons.star" alt="Trustpilot star" class="trustpilot-star" />\r
              </span>\r
              <span class="footer-trustpilot-text-counter">5/5</span>\r
            </div>\r
          </div>\r
\r
        </div>\r
        <div class="row-center">\r
          <p class="footer-bottom-text"> 2024 - 2025 ChicksGold.com. All rights reserved.</p>\r
        </div>\r
\r
      </div>\r
  </footer>\r
</template>`,B2=[],L2={};let bl;function Dy(i){bl||(bl=q.define({name:O2,template:gc,dependencies:B2,bindables:L2})),i.register(bl)}const Vy=Object.freeze(Object.defineProperty({__proto__:null,bindables:L2,default:gc,dependencies:B2,name:O2,register:Dy,template:gc},Symbol.toStringTag,{value:"Module"}));var Fy=Object.create,Ih=Object.defineProperty,jy=Object.getOwnPropertyDescriptor,zy=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),M2=i=>{throw TypeError(i)},Hy=(i,e,t)=>e in i?Ih(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Gy=(i,e)=>Ih(i,"name",{value:e,configurable:!0}),Uy=i=>[,,,Fy(null)],Wy=["class","method","getter","setter","accessor","field","value","get","set"],N2=i=>i!==void 0&&typeof i!="function"?M2("Function expected"):i,qy=(i,e,t,s,n)=>({kind:Wy[i],name:e,metadata:s,addInitializer:r=>t._?M2("Already initialized"):n.push(N2(r||null))}),Qy=(i,e)=>Hy(e,zy("metadata"),i[3]),Ky=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},Zy=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&jy(n,t));Gy(n,t);for(var g=s.length-1;g>=0;g--)l=qy(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,N2(o)&&(n=o);return Qy(i,n),d&&Ih(n,t,d),u?c^4?r:d:n},D2,Rh;D2=[lt({...Vy,name:"app-footer"})];class Yo{constructor(){this.year=new Date().getFullYear(),this.icons={facebook:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='-143%20145%20512%20512'%20xml:space='preserve'%3e%3ccircle%20cx='113'%20cy='401'%20r='256'%20fill='%231877F3'/%3e%3cpath%20d='M169.5,357.6l-2.9,38.3h-39.3v133H77.7v-133H51.2v-38.3h26.5v-25.7c0-11.3,0.3-28.8,8.5-39.7c8.7-11.5,20.6-19.3,41.1-19.3c33.4,0,47.4,4.8,47.4,4.8l-6.6,39.2c0,0-11-3.2-21.3-3.2c-10.3,0-19.5,3.7-19.5,14v29.9H169.5z'%20fill='%23fff'/%3e%3c/svg%3e",import.meta.url).href,instagram:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='512'%20cy='512'%20r='512'%20style='fill:%23e4405f'/%3e%3cpath%20d='M512%20256c-69.5%200-78.2.3-105.5%201.5-27.3%201.3-45.8%205.6-62.1%2011.9-16.8%206.5-31.1%2015.3-45.4%2029.5s-23%2028.5-29.5%2045.4c-6.3%2016.3-10.6%2034.9-11.9%2062.1-1.3%2027.3-1.5%2036-1.5%20105.5s.3%2078.2%201.5%20105.5c1.3%2027.2%205.6%2045.8%2011.9%2062.1%206.5%2016.8%2015.3%2031.1%2029.5%2045.4%2014.2%2014.2%2028.5%2023%2045.4%2029.5%2016.3%206.3%2034.9%2010.6%2062.1%2011.9%2027.3%201.3%2036%201.5%20105.5%201.5s78.2-.3%20105.5-1.5c27.2-1.3%2045.8-5.6%2062.1-11.9%2016.8-6.5%2031.1-15.3%2045.4-29.5%2014.2-14.2%2023-28.5%2029.5-45.4%206.3-16.3%2010.6-34.9%2011.9-62.1%201.3-27.3%201.5-36%201.5-105.5s-.3-78.2-1.5-105.5c-1.3-27.2-5.6-45.8-11.9-62.1-6.5-16.8-15.3-31.1-29.5-45.4-14.2-14.2-28.5-23-45.4-29.5-16.3-6.3-34.9-10.6-62.1-11.9-27.3-1.2-36-1.5-105.5-1.5zm0%2046.1c68.3%200%2076.5.3%20103.5%201.5%2025%201.2%2038.5%205.3%2047.5%208.9%2012%204.6%2020.5%2010.2%2029.5%2019.1%208.9%209%2014.5%2017.5%2019.1%2029.5%203.5%209%207.7%2022.5%208.8%2047.5%201.2%2027%201.5%2035.1%201.5%20103.5s-.3%2076.5-1.6%20103.5c-1.3%2025-5.5%2038.5-9%2047.5-4.8%2012-10.2%2020.5-19.2%2029.5-8.9%208.9-17.6%2014.5-29.4%2019.1-9%203.5-22.7%207.7-47.7%208.8-27.2%201.2-35.2%201.5-103.7%201.5s-76.5-.3-103.7-1.6c-25-1.3-38.7-5.5-47.7-9-12.1-4.8-20.5-10.2-29.4-19.2-9-8.9-14.7-17.6-19.2-29.4-3.5-9-7.7-22.7-9-47.7-1-26.9-1.3-35.2-1.3-103.3%200-68.2.3-76.5%201.3-103.7%201.3-25%205.4-38.7%209-47.7%204.5-12.2%2010.2-20.5%2019.2-29.5%208.9-8.9%2017.3-14.7%2029.4-19.2%209-3.5%2022.4-7.7%2047.4-9%2027.2-1%2035.2-1.3%20103.7-1.3l1%20.7zm0%2078.4c-72.6%200-131.5%2058.9-131.5%20131.5S439.4%20643.5%20512%20643.5%20643.5%20584.6%20643.5%20512%20584.6%20380.5%20512%20380.5zm0%20216.8c-47.1%200-85.3-38.2-85.3-85.3s38.2-85.3%2085.3-85.3%2085.3%2038.2%2085.3%2085.3-38.2%2085.3-85.3%2085.3zm167.4-221.9c0%2017-13.8%2030.7-30.7%2030.7-17%200-30.7-13.8-30.7-30.7s13.8-30.7%2030.7-30.7c16.9-.1%2030.7%2013.7%2030.7%2030.7z'%20style='fill:%23fff'/%3e%3c/svg%3e",import.meta.url).href,twitter:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='24'%20cy='24'%20r='20'%20fill='%231DA1F2'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M36%2016.3086C35.1177%2016.7006%2034.1681%2016.9646%2033.1722%2017.0838C34.1889%2016.4742%2034.9697%2015.5095%2035.3368%2014.36C34.3865%2014.9247%2033.3314%2015.3335%2032.2107%2015.5551C31.3123%2014.5984%2030.0316%2014%2028.6165%2014C25.8975%2014%2023.6928%2016.2047%2023.6928%2018.9237C23.6928%2019.3092%2023.7368%2019.6852%2023.8208%2020.046C19.7283%2019.8412%2016.1005%2017.8805%2013.6719%2014.9015C13.2479%2015.6287%2013.0055%2016.4742%2013.0055%2017.3766C13.0055%2019.0845%2013.8735%2020.5916%2015.1958%2021.4747C14.3878%2021.4491%2013.6295%2021.2275%2012.9647%2020.8587V20.9203C12.9647%2023.3066%2014.663%2025.296%2016.9141%2025.7496C16.5013%2025.8616%2016.0661%2025.9224%2015.6174%2025.9224C15.2998%2025.9224%2014.991%2025.8912%2014.6902%2025.8336C15.3166%2027.7895%2017.1357%2029.2134%2019.2899%2029.2534C17.6052%2030.5733%2015.4822%2031.3612%2013.1751%2031.3612C12.7767%2031.3612%2012.3848%2031.338%2012%2031.2916C14.1791%2032.6884%2016.7669%2033.5043%2019.5475%2033.5043C28.6037%2033.5043%2033.5562%2026.0016%2033.5562%2019.4956C33.5562%2019.282%2033.5522%2019.0693%2033.5418%2018.8589C34.5049%2018.1629%2035.34%2017.2958%2036%2016.3086Z'%20fill='white'/%3e%3c/svg%3e",import.meta.url).href,discord:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='512'%20cy='512'%20r='512'%20style='fill:%235865f2'/%3e%3cpath%20d='M689.43%20349a422.21%20422.21%200%200%200-104.22-32.32%201.58%201.58%200%200%200-1.68.79%20294.11%20294.11%200%200%200-13%2026.66%20389.78%20389.78%200%200%200-117.05%200%20269.75%20269.75%200%200%200-13.18-26.66%201.64%201.64%200%200%200-1.68-.79A421%20421%200%200%200%20334.44%20349a1.49%201.49%200%200%200-.69.59c-66.37%2099.17-84.55%20195.9-75.63%20291.41a1.76%201.76%200%200%200%20.67%201.2%20424.58%20424.58%200%200%200%20127.85%2064.63%201.66%201.66%200%200%200%201.8-.59%20303.45%20303.45%200%200%200%2026.15-42.54%201.62%201.62%200%200%200-.89-2.25%20279.6%20279.6%200%200%201-39.94-19%201.64%201.64%200%200%201-.16-2.72c2.68-2%205.37-4.1%207.93-6.22a1.58%201.58%200%200%201%201.65-.22c83.79%2038.26%20174.51%2038.26%20257.31%200a1.58%201.58%200%200%201%201.68.2c2.56%202.11%205.25%204.23%208%206.24a1.64%201.64%200%200%201-.14%202.72%20262.37%20262.37%200%200%201-40%2019%201.63%201.63%200%200%200-.87%202.28%20340.72%20340.72%200%200%200%2026.13%2042.52%201.62%201.62%200%200%200%201.8.61%20423.17%20423.17%200%200%200%20128-64.63%201.64%201.64%200%200%200%20.67-1.18c10.68-110.44-17.88-206.38-75.7-291.42a1.3%201.3%200%200%200-.63-.63zM427.09%20582.85c-25.23%200-46-23.16-46-51.6s20.38-51.6%2046-51.6c25.83%200%2046.42%2023.36%2046%2051.6.02%2028.44-20.37%2051.6-46%2051.6zm170.13%200c-25.23%200-46-23.16-46-51.6s20.38-51.6%2046-51.6c25.83%200%2046.42%2023.36%2046%2051.6.01%2028.44-20.17%2051.6-46%2051.6z'%20style='fill:%23fff'/%3e%3c/svg%3e",import.meta.url).href,logo:new URL("/ChicksGold-FE-Challenge/assets/chicks-logo-large-CNcQRT2y.svg",import.meta.url).href,star:new URL("/ChicksGold-FE-Challenge/assets/trustpilot-star-DX1xbJlm.png",import.meta.url).href}}}Rh=Uy();Yo=Zy(Rh,0,"AppFooter",D2,Yo);Ky(Rh,1,Yo);const V2="payment-methods",_c=`<template>\r
  <div class="payment-methods">\r
   <div class="container">\r
      <ul class="payment-methods-list">\r
        <li class="payment-method-item">\r
          <img src.bind="logos.visa" alt="Visa" class="payment-logo payment-logo-lg" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.mastercard" alt="Mastercard" class="payment-logo payment-logo-lg" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.amex" alt="American Express" class="payment-logo payment-logo-lg" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.skrill" alt="Skrill" class="payment-logo payment-logo-lg" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.bitcoin" alt="Bitcoin" class="payment-logo payment-logo-sm" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.ethereum" alt="Ethereum" class="payment-logo payment-logo-sm" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.bitcoincash" alt="Bitcoin cash" class="payment-logo payment-logo-sm" />\r
        </li>\r
        <li class="payment-method-item">\r
          <img src.bind="logos.litecoin" alt="Litecoin" class="payment-logo payment-logo-sm" />\r
        </li>\r
        <li class="payment-method-item ">\r
          <a href="#" class="payment-more">and 50+ more</a>\r
        </li>\r
      </ul>\r
    \r
   </div>\r
  </div>\r
</template>\r
`,F2=[],j2={};let wl;function Xy(i){wl||(wl=q.define({name:V2,template:_c,dependencies:F2,bindables:j2})),i.register(wl)}const Jy=Object.freeze(Object.defineProperty({__proto__:null,bindables:j2,default:_c,dependencies:F2,name:V2,register:Xy,template:_c},Symbol.toStringTag,{value:"Module"}));var Yy=Object.create,Ph=Object.defineProperty,e5=Object.getOwnPropertyDescriptor,t5=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),z2=i=>{throw TypeError(i)},s5=(i,e,t)=>e in i?Ph(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,i5=(i,e)=>Ph(i,"name",{value:e,configurable:!0}),n5=i=>[,,,Yy(null)],r5=["class","method","getter","setter","accessor","field","value","get","set"],H2=i=>i!==void 0&&typeof i!="function"?z2("Function expected"):i,o5=(i,e,t,s,n)=>({kind:r5[i],name:e,metadata:s,addInitializer:r=>t._?z2("Already initialized"):n.push(H2(r||null))}),a5=(i,e)=>s5(e,t5("metadata"),i[3]),l5=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},c5=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&e5(n,t));i5(n,t);for(var g=s.length-1;g>=0;g--)l=o5(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,H2(o)&&(n=o);return a5(i,n),d&&Ph(n,t,d),u?c^4?r:d:n},G2,Th;G2=[lt({...Jy,name:"payment-methods"})];class ea{constructor(){this.logos={visa:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-140%20780%20780'%20enable-background='new%200%200%20780%20500'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m293.2%20348.73l33.359-195.76h53.358l-33.384%20195.76h-53.333zm246.11-191.54c-10.569-3.966-27.135-8.222-47.821-8.222-52.726%200-89.863%2026.551-90.181%2064.604-0.297%2028.129%2026.515%2043.822%2046.754%2053.185%2020.771%209.598%2027.752%2015.716%2027.652%2024.283-0.133%2013.123-16.586%2019.115-31.924%2019.115-21.355%200-32.701-2.967-50.225-10.273l-6.878-3.111-7.487%2043.822c12.463%205.467%2035.508%2010.199%2059.438%2010.445%2056.09%200%2092.502-26.248%2092.916-66.885%200.199-22.27-14.016-39.215-44.801-53.188-18.65-9.056-30.072-15.099-29.951-24.269%200-8.137%209.668-16.838%2030.56-16.838%2017.446-0.271%2030.088%203.534%2039.936%207.5l4.781%202.259%207.231-42.427m137.31-4.223h-41.23c-12.772%200-22.332%203.486-27.94%2016.234l-79.245%20179.4h56.031s9.159-24.121%2011.231-29.418c6.123%200%2060.555%200.084%2068.336%200.084%201.596%206.854%206.492%2029.334%206.492%2029.334h49.512l-43.187-195.64zm-65.417%20126.41c4.414-11.279%2021.26-54.724%2021.26-54.724-0.314%200.521%204.381-11.334%207.074-18.684l3.606%2016.878s10.217%2046.729%2012.353%2056.527h-44.293v3e-3zm-363.3-126.41l-52.239%20133.5-5.565-27.129c-9.726-31.274-40.025-65.157-73.898-82.12l47.767%20171.2%2056.455-0.063%2084.004-195.39-56.524-1e-3'%20fill='%230E4595'/%3e%3cpath%20d='m146.92%20152.96h-86.041l-0.682%204.073c66.939%2016.204%20111.23%2055.363%20129.62%20102.42l-18.709-89.96c-3.229-12.396-12.597-16.096-24.186-16.528'%20fill='%23F2AE14'/%3e%3c/svg%3e",import.meta.url).href,mastercard:new URL("/ChicksGold-FE-Challenge/assets/mastercard-old-4Z22h-3J.svg",import.meta.url).href,amex:new URL("/ChicksGold-FE-Challenge/assets/amex-BFhkQvPV.svg",import.meta.url).href,skrill:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-9%2058%2058'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.6494%2012.7211V27.2361H52.6426V12.0115L48.6494%2012.7211'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M42.8205%2012.7211L46.8111%2012.0115V27.2361H42.8205V12.7211'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M37.136%2027.2361V16.1005H41.1286V27.2361H37.136'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M37.1636%2013.0775C37.1636%2011.9975%2038.0453%2011.1213%2039.1311%2011.1213C40.2187%2011.1213%2041.0998%2011.9975%2041.0998%2013.0775C41.0998%2014.1583%2040.2187%2015.0325%2039.1311%2015.0325C38.0453%2015.0325%2037.1636%2014.1583%2037.1636%2013.0775'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M34.884%2015.9372C31.1952%2016.0554%2029.3211%2017.7009%2029.3211%2020.9717V27.2361H33.3469V22.1267C33.3469%2020.1692%2033.6052%2019.33%2035.9435%2019.2499V15.9951C35.5503%2015.9118%2034.884%2015.9372%2034.884%2015.9372V15.9372'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24.0524%2016.0878C23.9641%2016.3102%2023.326%2018.105%2021.7786%2019.9647V12.0115L17.6582%2012.8215V27.2361H21.7786V22.7798C22.9717%2024.5588%2023.5613%2027.2361%2023.5613%2027.2361H28.4957C28.0078%2025.2195%2025.8728%2021.5022%2025.8728%2021.5022C27.7897%2019.0866%2028.6306%2016.5141%2028.7649%2016.0878H24.0524'%20fill='%23862165'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.7487%2017.6755C10.2442%2017.6431%209.0753%2017.5675%209.0753%2016.5224C9.0753%2015.2612%2010.757%2015.2612%2011.3881%2015.2612C12.4981%2015.2612%2013.9342%2015.5865%2014.9611%2015.8921C14.9611%2015.8921%2015.5328%2016.0929%2016.0194%2016.2975L16.0648%2016.3102V12.8558L16.004%2012.8374C14.7917%2012.4162%2013.3843%2012.0115%2010.7736%2012.0115C6.27274%2012.0115%204.67804%2014.6157%204.67804%2016.8489C4.67804%2018.1349%205.23305%2021.1642%2010.3861%2021.513C10.8241%2021.5397%2011.984%2021.6064%2011.984%2022.6864C11.984%2023.5785%2011.0345%2024.1033%209.43785%2024.1033C7.68841%2024.1033%205.99012%2023.6611%204.95938%2023.2398V26.7965C6.50293%2027.1999%208.24342%2027.3994%2010.2832%2027.3994C14.6823%2027.3994%2016.6543%2024.9349%2016.6543%2022.4914C16.6543%2019.722%2014.449%2017.922%2010.7487%2017.6755V17.6755'%20fill='%23862165'/%3e%3c/svg%3e",import.meta.url).href,bitcoin:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-0.5%2034%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33.2538%2016.1292C33.2538%2025.0371%2026.0329%2032.2584%2017.1255%2032.2584C8.21799%2032.2584%200.99707%2025.0371%200.99707%2016.1292C0.99707%207.22128%208.21799%200%2017.1255%200C26.0329%200%2033.2538%207.22128%2033.2538%2016.1292ZM21.0002%2010.1366C23.2438%2010.9071%2024.8849%2012.0607%2024.5629%2014.2077C24.3291%2015.7799%2023.4543%2016.5403%2022.2921%2016.8065C23.8866%2017.6335%2024.4301%2019.2029%2023.9251%2021.1005C22.9664%2023.8314%2020.6874%2024.0613%2017.6562%2023.4905L16.9202%2026.4261L15.1434%2025.9844L15.8693%2023.0882C15.4087%2022.9742%2014.9379%2022.8522%2014.4529%2022.7221L13.724%2025.6325L11.9492%2025.1908L12.6842%2022.2491L9.10534%2021.3496L9.98817%2019.3226C9.98817%2019.3226%2011.2982%2019.6685%2011.28%2019.6433C11.7832%2019.7673%2012.0069%2019.4406%2012.095%2019.2238L14.0895%2011.256C14.1117%2010.8798%2013.9811%2010.4059%2013.2613%2010.2264C13.2886%2010.2072%2011.9705%209.90669%2011.9705%209.90669L12.4433%208.01585L16.0272%208.90026L16.7562%205.99188L18.532%206.43358L17.8182%209.28448C18.2961%209.39238%2018.776%209.5023%2019.2427%209.61828L19.9514%206.78553L21.7282%207.22724L21.0002%2010.1366ZM16.7488%2014.9882C17.9591%2015.3091%2020.5928%2016.0074%2021.0519%2014.1765C21.5202%2012.3033%2018.9615%2011.7376%2017.7087%2011.4606L17.7086%2011.4606L17.7085%2011.4606C17.5666%2011.4292%2017.4414%2011.4015%2017.3393%2011.3761L16.4545%2014.9117C16.5388%2014.9325%2016.6378%2014.9588%2016.7488%2014.9882ZM15.3775%2020.6807C16.8271%2021.0626%2019.9976%2021.8977%2020.5021%2019.8803C21.0185%2017.8175%2017.9445%2017.1305%2016.4446%2016.7952L16.4441%2016.7951C16.2767%2016.7577%2016.129%2016.7247%2016.008%2016.6946L15.032%2020.5913C15.1311%2020.6158%2015.2472%2020.6464%2015.3771%2020.6806L15.3775%2020.6807Z'%20fill='%23F7931A'/%3e%3c/svg%3e",import.meta.url).href,ethereum:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-80.5%200%20417%20417'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20preserveAspectRatio='xMidYMid'%3e%3cg%3e%3cpolygon%20fill='%23343434'%20points='127.9611%200%20125.1661%209.5%20125.1661%20285.168%20127.9611%20287.958%20255.9231%20212.32'%3e%3c/polygon%3e%3cpolygon%20fill='%238C8C8C'%20points='127.962%200%200%20212.32%20127.962%20287.959%20127.962%20154.158'%3e%3c/polygon%3e%3cpolygon%20fill='%233C3C3B'%20points='127.9611%20312.1866%20126.3861%20314.1066%20126.3861%20412.3056%20127.9611%20416.9066%20255.9991%20236.5866'%3e%3c/polygon%3e%3cpolygon%20fill='%238C8C8C'%20points='127.962%20416.9052%20127.962%20312.1852%200%20236.5852'%3e%3c/polygon%3e%3cpolygon%20fill='%23141414'%20points='127.9611%20287.9577%20255.9211%20212.3207%20127.9611%20154.1587'%3e%3c/polygon%3e%3cpolygon%20fill='%23393939'%20points='0.0009%20212.3208%20127.9609%20287.9578%20127.9609%20154.1588'%3e%3c/polygon%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,bitcoincash:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20removed%20white%20rect%20--%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%20fill='%2327ae60'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11%207C11%206.44772%2010.5523%206%2010%206C9.44772%206%209%206.44772%209%207V7.5H8C7.44772%207.5%207%207.94772%207%208.5C7%209.05228%207.44772%209.5%208%209.5H9V14.5H8C7.44772%2014.5%207%2014.9477%207%2015.5C7%2016.0523%207.44772%2016.5%208%2016.5H9V17C9%2017.5523%209.44772%2018%2010%2018C10.5523%2018%2011%2017.5523%2011%2017V16.5H12V17C12%2017.5523%2012.4477%2018%2013%2018C13.5523%2018%2014%2017.5523%2014%2017V16.4641C14.6559%2016.3676%2015.2144%2016.0796%2015.6304%2015.6428C16.136%2015.1119%2016.375%2014.4201%2016.375%2013.75C16.375%2013.1385%2016.176%2012.5089%2015.7569%2012C16.176%2011.4911%2016.375%2010.8615%2016.375%2010.25C16.375%209.57995%2016.136%208.88812%2015.6304%208.35722C15.2144%207.92041%2014.6559%207.63242%2014%207.53587V7C14%206.44772%2013.5523%206%2013%206C12.4477%206%2012%206.44772%2012%207V7.5H11V7ZM2%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11%2011V9.5H13.5C13.8768%209.5%2014.0752%209.62431%2014.1821%209.73653C14.3015%209.86188%2014.375%2010.0451%2014.375%2010.25C14.375%2010.4549%2014.3015%2010.6381%2014.1821%2010.7635C14.0752%2010.8757%2013.8768%2011%2013.5%2011H11Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.5%2014.5C13.8768%2014.5%2014.0752%2014.3757%2014.1821%2014.2635C14.3015%2014.1381%2014.375%2013.9549%2014.375%2013.75C14.375%2013.5451%2014.3015%2013.3619%2014.1821%2013.2365C14.0752%2013.1243%2013.8768%2013%2013.5%2013H11V14.5H13.5Z'%20fill='%23fff'/%3e%3c/svg%3e",import.meta.url).href,litecoin:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0.847%200.876%20329.256%20329.256'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eLitecoin%3c/title%3e%3cpath%20d='M330.102%20165.503c0%2090.922-73.705%20164.629-164.626%20164.629C74.554%20330.132.848%20256.425.848%20165.503.848%2074.582%2074.554.876%20165.476.876c90.92%200%20164.626%2073.706%20164.626%20164.627'%20fill='%23bebebe'/%3e%3cpath%20d='M295.15%20165.505c0%2071.613-58.057%20129.675-129.674%20129.675-71.616%200-129.677-58.062-129.677-129.675%200-71.619%2058.061-129.677%20129.677-129.677%2071.618%200%20129.674%2058.057%20129.674%20129.677'%20fill='%23bebebe'/%3e%3cpath%20d='M155.854%20209.482l10.693-40.264%2025.316-9.249%206.297-23.663-.215-.587-24.92%209.104%2017.955-67.608h-50.921l-23.481%2088.23-19.605%207.162-6.478%2024.395%2019.59-7.156-13.839%2051.998h135.521l8.688-32.362h-84.601'%20fill='%23ffffff'/%3e%3c/svg%3e",import.meta.url).href}}}Th=n5();ea=c5(Th,0,"PaymentMethods",G2,ea);l5(Th,1,ea);const U2="toast-notifications",mc=`<template>\r
  <div class="toast-container" aria-live="polite" aria-atomic="true">\r
    <div repeat.for="t of toasts" class="toast \${t.state}">\r
      <div class="toast-icon" aria-hidden="true"></div>\r
      <div class="toast-content">\r
        <div class="toast-title">Added to cart</div>\r
        <div class="toast-body">\${t.message}</div>\r
      </div>\r
      <button class="toast-close" aria-label="Close" click.trigger="dismiss(t)"></button>\r
    </div>\r
  </div>\r
</template>\r
`,W2=[],q2={};let yl;function h5(i){yl||(yl=q.define({name:U2,template:mc,dependencies:W2,bindables:q2})),i.register(yl)}const u5=Object.freeze(Object.defineProperty({__proto__:null,bindables:q2,default:mc,dependencies:W2,name:U2,register:h5,template:mc},Symbol.toStringTag,{value:"Module"}));var d5=Object.create,Eh=Object.defineProperty,p5=Object.getOwnPropertyDescriptor,f5=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Q2=i=>{throw TypeError(i)},g5=(i,e,t)=>e in i?Eh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_5=(i,e)=>Eh(i,"name",{value:e,configurable:!0}),m5=i=>[,,,d5(null)],v5=["class","method","getter","setter","accessor","field","value","get","set"],K2=i=>i!==void 0&&typeof i!="function"?Q2("Function expected"):i,b5=(i,e,t,s,n)=>({kind:v5[i],name:e,metadata:s,addInitializer:r=>t._?Q2("Already initialized"):n.push(K2(r||null))}),w5=(i,e)=>g5(e,f5("metadata"),i[3]),y5=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},C5=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&p5(n,t));_5(n,t);for(var g=s.length-1;g>=0;g--)l=b5(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,K2(o)&&(n=o);return w5(i,n),d&&Eh(n,t,d),u?c^4?r:d:n},Z2,Oh;Z2=[lt({...u5,name:"toast-notifications"}),$n(pa)];class ta{constructor(e){this.ea=e,this.toasts=[],this.sub=void 0,this.nextId=1}attached(){this.sub=this.ea.subscribe("cart:added",e=>{var n;const t=((n=e==null?void 0:e.item)==null?void 0:n.name)??"Item",s=(e==null?void 0:e.qty)??1;this.show(`${s}  ${t} added to cart`)})}detaching(){var e;(e=this.sub)==null||e.dispose()}show(e,t=2500){const n={id:this.nextId++,message:e,timeout:t,state:"enter"};this.toasts.push(n),setTimeout(()=>n.state="visible");const r=setTimeout(()=>this.dismiss(n),t);n._timer=r}dismiss(e){e._timer&&clearTimeout(e._timer),e.state="leave",setTimeout(()=>{this.toasts=this.toasts.filter(t=>t.id!==e.id)},180)}}Oh=m5();ta=C5(Oh,0,"ToastNotifications",Z2,ta);y5(Oh,1,ta);const X2="pagination",vc=`<template>\r
  <nav class="pagination">\r
    <button class="pagination-btn" disabled.bind="page === 1" click.trigger="changePage(page - 1)">\r
      &#60;\r
    </button>\r
    <template repeat.for="p of pages">\r
      <span if.bind="p === '...'" class="pagination-ellipsis"></span>\r
      <button else\r
              class.bind="p === page ? 'pagination-page active' : 'pagination-page'"\r
              click.trigger="changePage(p)">\r
        \${p}\r
      </button>\r
    </template>\r
    <button class="pagination-btn" disabled.bind="page === totalPages" click.trigger="changePage(page + 1)">\r
      &#62;\r
    </button>\r
  </nav>\r
</template>\r
`,J2=[],Y2={};let Cl;function k5(i){Cl||(Cl=q.define({name:X2,template:vc,dependencies:J2,bindables:Y2})),i.register(Cl)}const S5=Object.freeze(Object.defineProperty({__proto__:null,bindables:Y2,default:vc,dependencies:J2,name:X2,register:k5,template:vc},Symbol.toStringTag,{value:"Module"}));var $5=Object.create,Bh=Object.defineProperty,x5=Object.getOwnPropertyDescriptor,A5=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Yr=i=>{throw TypeError(i)},I5=(i,e,t)=>e in i?Bh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Dd=(i,e)=>Bh(i,"name",{value:e,configurable:!0}),R5=i=>[,,,$5(null)],eg=["class","method","getter","setter","accessor","field","value","get","set"],Jn=i=>i!==void 0&&typeof i!="function"?Yr("Function expected"):i,P5=(i,e,t,s,n)=>({kind:eg[i],name:e,metadata:s,addInitializer:r=>t._?Yr("Already initialized"):n.push(Jn(r||null))}),T5=(i,e)=>I5(e,A5("metadata"),i[3]),ws=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},eo=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=eg[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&x5(h<4?n:{get[t](){return Vd(this,r)},set[t](m){return Fd(this,r,m)}},t));h?d&&h<4&&Dd(r,(h>2?"set ":h>1?"get ":"")+t):Dd(n,t);for(var $=s.length-1;$>=0;$--)c=P5(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>E5(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Vd:O5)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Fd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?Jn(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?Yr("Object expected"):(Jn(o=a.get)&&(v.get=o),Jn(o=a.set)&&(v.set=o),Jn(o=a.init)&&_.unshift(o));return h||T5(i,n),v&&Bh(n,t,v),d?h^4?r:v:n},Lh=(i,e,t)=>e.has(i)||Yr("Cannot "+t),E5=(i,e)=>Object(e)!==e?Yr('Cannot use the "in" operator on this value'):i.has(e),Vd=(i,e,t)=>(Lh(i,e,"read from private field"),t?t.call(i):e.get(i)),Fd=(i,e,t,s)=>(Lh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),O5=(i,e,t)=>(Lh(i,e,"access private method"),t),tg,sg,ig,ng,rg,st;rg=[lt({...S5,name:"pagination"})],ng=[Se],ig=[Se],sg=[Se],tg=[Se];class Ts{constructor(){this.page=ws(st,8,this,1),ws(st,11,this),this.pageSize=ws(st,12,this,10),ws(st,15,this),this.total=ws(st,16,this,0),ws(st,19,this),this.pageChange=ws(st,20,this),ws(st,23,this)}get totalPages(){return Math.max(1,Math.ceil(this.total/this.pageSize))}get pages(){const e=this.totalPages,t=this.page;return e<=7?Array.from({length:e},(s,n)=>n+1):t<=4?[...[1,2,3,4].filter(n=>n<=e),"...",e]:t>=e-3?[1,"...",...[e-3,e-2,e-1,e].filter(n=>n>=1)]:[1,"...",t-1,t,t+1,"...",e]}changePage(e){var t;typeof e!="number"||e<1||e>this.totalPages||e===this.page||(t=this.pageChange)==null||t.call(this,e)}}st=R5();eo(st,5,"page",ng,Ts);eo(st,5,"pageSize",ig,Ts);eo(st,5,"total",sg,Ts);eo(st,5,"pageChange",tg,Ts);Ts=eo(st,0,"Pagination",rg,Ts);ws(st,1,Ts);const og=Object.freeze(Object.defineProperty({__proto__:null,get Pagination(){return Ts}},Symbol.toStringTag,{value:"Module"})),B5="data:video/mp2t;base64,DQppbXBvcnQgJy4vc3R5bGVzL21haW4uY3NzJzsNCmltcG9ydCBBdXJlbGlhIGZyb20gJ2F1cmVsaWEnOw0KaW1wb3J0IHsgTXlBcHAgfSBmcm9tICcuL215LWFwcCc7DQppbXBvcnQgeyBSb3V0ZXJDb25maWd1cmF0aW9uIH0gZnJvbSAnQGF1cmVsaWEvcm91dGVyJzsNCg0KQXVyZWxpYQ0KICAucmVnaXN0ZXIoUm91dGVyQ29uZmlndXJhdGlvbikNCiAgLmFwcChNeUFwcCkNCiAgLnN0YXJ0KCk7DQo=",L5="/ChicksGold-FE-Challenge/assets/my-app-BoTyI0cP.css",M5="/ChicksGold-FE-Challenge/assets/my-app-Dzcp27IK.html",N5="data:video/mp2t;base64,DQoNCmltcG9ydCB7IEFwcEhlYWRlciB9IGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXIvYXBwLWhlYWRlcic7DQppbXBvcnQgeyBBcHBGb290ZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvZm9vdGVyL2FwcC1mb290ZXInOw0KaW1wb3J0IHsgUGF5bWVudE1ldGhvZHMgfSBmcm9tICcuL2NvbXBvbmVudHMvcGF5bWVudC1tZXRob2RzL3BheW1lbnQtbWV0aG9kcyc7DQppbXBvcnQgeyBUb2FzdE5vdGlmaWNhdGlvbnMgfSBmcm9tICcuL2NvbXBvbmVudHMvdG9hc3QvdG9hc3Qtbm90aWZpY2F0aW9ucyc7DQppbXBvcnQgeyBQYWdpbmF0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3BhZ2luYXRpb24vcGFnaW5hdGlvbic7DQppbXBvcnQgeyBIb21lIH0gZnJvbSAnLi9wYWdlcy9ob21lL2hvbWUnOw0KaW1wb3J0IHsgQ2FydCB9IGZyb20gJy4vcGFnZXMvY2FydC9jYXJ0JzsNCmltcG9ydCB7IENhcnRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9jYXJ0LXNlcnZpY2UnOw0KDQoNCmltcG9ydCB7IHJvdXRlIH0gZnJvbSAnQGF1cmVsaWEvcm91dGVyJzsNCg0KQHJvdXRlKHsNCiAgcm91dGVzOiBbDQogICAgeyBwYXRoOiAnJywgY29tcG9uZW50OiBIb21lLCB0aXRsZTogJ0hvbWUnIH0sDQogICAgeyBwYXRoOiAnY2FydCcsIGNvbXBvbmVudDogQ2FydCwgdGl0bGU6ICdDYXJ0JyB9LA0KICBdDQp9KQ0KZXhwb3J0IGNsYXNzIE15QXBwIHsNCiAgc3RhdGljIGRlcGVuZGVuY2llcyA9IFtBcHBIZWFkZXIsIEFwcEZvb3RlciwgUGF5bWVudE1ldGhvZHMsIFBhZ2luYXRpb24sIEhvbWUsIENhcnQsIENhcnRTZXJ2aWNlLCBUb2FzdE5vdGlmaWNhdGlvbnNdOw0KICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhcnRTZXJ2aWNlOiBDYXJ0U2VydmljZSkge30NCiAgZ2V0IGNhcnRDb3VudCgpIHsNCiAgICByZXR1cm4gdGhpcy5jYXJ0U2VydmljZS5jb3VudDsNCiAgfQ0KfQ0K",D5="data:video/mp2t;base64,ZGVjbGFyZSBtb2R1bGUgJyouaHRtbCcgew0KICBpbXBvcnQgeyBJQ29udGFpbmVyLCBQYXJ0aWFsQmluZGFibGVEZWZpbml0aW9uIH0gZnJvbSAnYXVyZWxpYSc7DQogIGV4cG9ydCBjb25zdCBuYW1lOiBzdHJpbmc7DQogIGV4cG9ydCBjb25zdCB0ZW1wbGF0ZTogc3RyaW5nOw0KICBleHBvcnQgZGVmYXVsdCB0ZW1wbGF0ZTsNCiAgZXhwb3J0IGNvbnN0IGRlcGVuZGVuY2llczogc3RyaW5nW107DQogIGV4cG9ydCBjb25zdCBjb250YWluZXJsZXNzOiBib29sZWFuIHwgdW5kZWZpbmVkOw0KICBleHBvcnQgY29uc3QgYmluZGFibGVzOiBSZWNvcmQ8c3RyaW5nLCBQYXJ0aWFsQmluZGFibGVEZWZpbml0aW9uPjsNCiAgZXhwb3J0IGNvbnN0IHNoYWRvd09wdGlvbnM6IHsgbW9kZTogJ29wZW4nIHwgJ2Nsb3NlZCcgfSB8IHVuZGVmaW5lZDsNCiAgZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKGNvbnRhaW5lcjogSUNvbnRhaW5lcik6IHZvaWQ7DQp9DQoNCi8vIFZpdGUtc3BlY2lmaWMgZGVjbGFyYXRpb25zIGZvciA/aW5saW5lIGltcG9ydHMgdGhhdCByZXR1cm4gQ1NTIGFzIHN0cmluZ3MNCmRlY2xhcmUgbW9kdWxlICcqLmNzcz9pbmxpbmUnIHsNCiAgY29uc3QgY29udGVudDogc3RyaW5nOw0KICBleHBvcnQgZGVmYXVsdCBjb250ZW50Ow0KfQ0KDQpkZWNsYXJlIG1vZHVsZSAnKi5jc3MnOw0K",V5="data:video/mp2t;base64,Ly8vIDxyZWZlcmVuY2UgdHlwZXM9InZpdGUvY2xpZW50IiAvPg0K",F5="/ChicksGold-FE-Challenge/assets/Hamburger_icon-B2m7aKwQ.png",j5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M2.23737%202.28845C1.84442%202.15746%201.41968%202.36983%201.28869%202.76279C1.15771%203.15575%201.37008%203.58049%201.76303%203.71147L2.02794%203.79978C2.70435%204.02524%203.15155%204.17551%203.481%204.32877C3.79296%204.47389%203.92784%204.59069%204.01426%204.71059C4.10068%204.83049%204.16883%204.99538%204.20785%205.33722C4.24907%205.69823%204.2502%206.17%204.2502%206.883L4.2502%209.55484C4.25018%2010.9224%204.25017%2012.0247%204.36673%2012.8917C4.48774%2013.7918%204.74664%2014.5497%205.34855%2015.1516C5.95047%2015.7535%206.70834%2016.0124%207.60845%2016.1334C8.47542%2016.25%209.57773%2016.25%2010.9453%2016.25H18.0002C18.4144%2016.25%2018.7502%2015.9142%2018.7502%2015.5C18.7502%2015.0857%2018.4144%2014.75%2018.0002%2014.75H11.0002C9.56479%2014.75%208.56367%2014.7484%207.80832%2014.6468C7.07455%2014.5482%206.68598%2014.3677%206.40921%2014.091C6.17403%2013.8558%206.00839%2013.5398%205.9034%2013H16.0222C16.9817%2013%2017.4614%2013%2017.8371%2012.7522C18.2128%2012.5045%2018.4017%2012.0636%2018.7797%2011.1817L19.2082%2010.1817C20.0177%208.2929%2020.4225%207.34849%2019.9779%206.67422C19.5333%205.99996%2018.5058%205.99996%2016.4508%205.99996H5.74526C5.73936%205.69227%205.72644%205.41467%205.69817%205.16708C5.64282%204.68226%205.52222%204.2374%205.23112%203.83352C4.94002%203.42965%204.55613%203.17456%204.1137%202.96873C3.69746%202.7751%203.16814%202.59868%202.54176%202.38991L2.23737%202.28845Z'%20fill='%23ffffff'/%3e%3cpath%20d='M7.5%2018C8.32843%2018%209%2018.6716%209%2019.5C9%2020.3284%208.32843%2021%207.5%2021C6.67157%2021%206%2020.3284%206%2019.5C6%2018.6716%206.67157%2018%207.5%2018Z'%20fill='%23ffffff'/%3e%3cpath%20d='M16.5%2018.0001C17.3284%2018.0001%2018%2018.6716%2018%2019.5001C18%2020.3285%2017.3284%2021.0001%2016.5%2021.0001C15.6716%2021.0001%2015%2020.3285%2015%2019.5001C15%2018.6716%2015.6716%2018.0001%2016.5%2018.0001Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",z5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='512'%20cy='512'%20r='512'%20style='fill:%235865f2'/%3e%3cpath%20d='M689.43%20349a422.21%20422.21%200%200%200-104.22-32.32%201.58%201.58%200%200%200-1.68.79%20294.11%20294.11%200%200%200-13%2026.66%20389.78%20389.78%200%200%200-117.05%200%20269.75%20269.75%200%200%200-13.18-26.66%201.64%201.64%200%200%200-1.68-.79A421%20421%200%200%200%20334.44%20349a1.49%201.49%200%200%200-.69.59c-66.37%2099.17-84.55%20195.9-75.63%20291.41a1.76%201.76%200%200%200%20.67%201.2%20424.58%20424.58%200%200%200%20127.85%2064.63%201.66%201.66%200%200%200%201.8-.59%20303.45%20303.45%200%200%200%2026.15-42.54%201.62%201.62%200%200%200-.89-2.25%20279.6%20279.6%200%200%201-39.94-19%201.64%201.64%200%200%201-.16-2.72c2.68-2%205.37-4.1%207.93-6.22a1.58%201.58%200%200%201%201.65-.22c83.79%2038.26%20174.51%2038.26%20257.31%200a1.58%201.58%200%200%201%201.68.2c2.56%202.11%205.25%204.23%208%206.24a1.64%201.64%200%200%201-.14%202.72%20262.37%20262.37%200%200%201-40%2019%201.63%201.63%200%200%200-.87%202.28%20340.72%20340.72%200%200%200%2026.13%2042.52%201.62%201.62%200%200%200%201.8.61%20423.17%20423.17%200%200%200%20128-64.63%201.64%201.64%200%200%200%20.67-1.18c10.68-110.44-17.88-206.38-75.7-291.42a1.3%201.3%200%200%200-.63-.63zM427.09%20582.85c-25.23%200-46-23.16-46-51.6s20.38-51.6%2046-51.6c25.83%200%2046.42%2023.36%2046%2051.6.02%2028.44-20.37%2051.6-46%2051.6zm170.13%200c-25.23%200-46-23.16-46-51.6s20.38-51.6%2046-51.6c25.83%200%2046.42%2023.36%2046%2051.6.01%2028.44-20.17%2051.6-46%2051.6z'%20style='fill:%23fff'/%3e%3c/svg%3e",H5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='-143%20145%20512%20512'%20xml:space='preserve'%3e%3ccircle%20cx='113'%20cy='401'%20r='256'%20fill='%231877F3'/%3e%3cpath%20d='M169.5,357.6l-2.9,38.3h-39.3v133H77.7v-133H51.2v-38.3h26.5v-25.7c0-11.3,0.3-28.8,8.5-39.7c8.7-11.5,20.6-19.3,41.1-19.3c33.4,0,47.4,4.8,47.4,4.8l-6.6,39.2c0,0-11-3.2-21.3-3.2c-10.3,0-19.5,3.7-19.5,14v29.9H169.5z'%20fill='%23fff'/%3e%3c/svg%3e",G5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%20fill='%2339E29D'%20stroke='%2339E29D'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3efilter-horizontal-solid%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='invisible_box'%20data-name='invisible%20box'%3e%3crect%20width='48'%20height='48'%20fill='none'/%3e%3c/g%3e%3cg%20id='icons_Q2'%20data-name='icons%20Q2'%3e%3cpath%20d='M41.8,8H21.7A6.2,6.2,0,0,0,16,4a6,6,0,0,0-5.6,4H6.2A2.1,2.1,0,0,0,4,10a2.1,2.1,0,0,0,2.2,2h4.2A6,6,0,0,0,16,16a6.2,6.2,0,0,0,5.7-4H41.8A2.1,2.1,0,0,0,44,10,2.1,2.1,0,0,0,41.8,8Z'/%3e%3cpath%20d='M41.8,22H37.7A6.2,6.2,0,0,0,32,18a6,6,0,0,0-5.6,4H6.2a2,2,0,1,0,0,4H26.4A6,6,0,0,0,32,30a6.2,6.2,0,0,0,5.7-4h4.1a2,2,0,1,0,0-4Z'/%3e%3cpath%20d='M41.8,36H24.7A6.2,6.2,0,0,0,19,32a6,6,0,0,0-5.6,4H6.2a2,2,0,1,0,0,4h7.2A6,6,0,0,0,19,44a6.2,6.2,0,0,0,5.7-4H41.8a2,2,0,1,0,0-4Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",U5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='512'%20cy='512'%20r='512'%20style='fill:%23e4405f'/%3e%3cpath%20d='M512%20256c-69.5%200-78.2.3-105.5%201.5-27.3%201.3-45.8%205.6-62.1%2011.9-16.8%206.5-31.1%2015.3-45.4%2029.5s-23%2028.5-29.5%2045.4c-6.3%2016.3-10.6%2034.9-11.9%2062.1-1.3%2027.3-1.5%2036-1.5%20105.5s.3%2078.2%201.5%20105.5c1.3%2027.2%205.6%2045.8%2011.9%2062.1%206.5%2016.8%2015.3%2031.1%2029.5%2045.4%2014.2%2014.2%2028.5%2023%2045.4%2029.5%2016.3%206.3%2034.9%2010.6%2062.1%2011.9%2027.3%201.3%2036%201.5%20105.5%201.5s78.2-.3%20105.5-1.5c27.2-1.3%2045.8-5.6%2062.1-11.9%2016.8-6.5%2031.1-15.3%2045.4-29.5%2014.2-14.2%2023-28.5%2029.5-45.4%206.3-16.3%2010.6-34.9%2011.9-62.1%201.3-27.3%201.5-36%201.5-105.5s-.3-78.2-1.5-105.5c-1.3-27.2-5.6-45.8-11.9-62.1-6.5-16.8-15.3-31.1-29.5-45.4-14.2-14.2-28.5-23-45.4-29.5-16.3-6.3-34.9-10.6-62.1-11.9-27.3-1.2-36-1.5-105.5-1.5zm0%2046.1c68.3%200%2076.5.3%20103.5%201.5%2025%201.2%2038.5%205.3%2047.5%208.9%2012%204.6%2020.5%2010.2%2029.5%2019.1%208.9%209%2014.5%2017.5%2019.1%2029.5%203.5%209%207.7%2022.5%208.8%2047.5%201.2%2027%201.5%2035.1%201.5%20103.5s-.3%2076.5-1.6%20103.5c-1.3%2025-5.5%2038.5-9%2047.5-4.8%2012-10.2%2020.5-19.2%2029.5-8.9%208.9-17.6%2014.5-29.4%2019.1-9%203.5-22.7%207.7-47.7%208.8-27.2%201.2-35.2%201.5-103.7%201.5s-76.5-.3-103.7-1.6c-25-1.3-38.7-5.5-47.7-9-12.1-4.8-20.5-10.2-29.4-19.2-9-8.9-14.7-17.6-19.2-29.4-3.5-9-7.7-22.7-9-47.7-1-26.9-1.3-35.2-1.3-103.3%200-68.2.3-76.5%201.3-103.7%201.3-25%205.4-38.7%209-47.7%204.5-12.2%2010.2-20.5%2019.2-29.5%208.9-8.9%2017.3-14.7%2029.4-19.2%209-3.5%2022.4-7.7%2047.4-9%2027.2-1%2035.2-1.3%20103.7-1.3l1%20.7zm0%2078.4c-72.6%200-131.5%2058.9-131.5%20131.5S439.4%20643.5%20512%20643.5%20643.5%20584.6%20643.5%20512%20584.6%20380.5%20512%20380.5zm0%20216.8c-47.1%200-85.3-38.2-85.3-85.3s38.2-85.3%2085.3-85.3%2085.3%2038.2%2085.3%2085.3-38.2%2085.3-85.3%2085.3zm167.4-221.9c0%2017-13.8%2030.7-30.7%2030.7-17%200-30.7-13.8-30.7-30.7s13.8-30.7%2030.7-30.7c16.9-.1%2030.7%2013.7%2030.7%2030.7z'%20style='fill:%23fff'/%3e%3c/svg%3e",W5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2016%2016'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20class='si-glyph%20si-glyph-leaf'%20fill='%23000000'%20transform='matrix(-1,%200,%200,%201,%200,%200)'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3e97%3c/title%3e%3cdefs%3e%3c/defs%3e%3cg%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20fill='%2339e29d'%3e%3cpath%20d='M12.295,14.201%20C12.43,14.088%2012.557,13.969%2012.676,13.847%20C10.687,12.944%209.178,11.848%207.818,10.739%20C6.194,10.735%204.52,10.321%203.663,9.262%20C4.94,9.905%206.284,9.908%206.737,9.847%20C2.898,6.381%201.835,2.992%201.835,2.992%20C3.149,5.052%204.536,6.644%205.894,7.908%20C5.325,6.82%205.658,4.808%205.658,4.808%20C6.765,8.706%206.895,8.768%206.822,8.802%20C7.722,9.531%208.697,10.216%209.509,10.739%20C9.217,10.059%209.01,9.068%209.037,7.37%20C9.037,7.37%209.759,10.932%2010.893,11.809%20C11.796,12.33%2012.591,12.734%2013.207,13.041%20C14.183,11.585%2014.188,7.703%2011.796,6.144%20C9.218,4.462%204.871,4.398%200.474,0.096%20C-0.841,-1.191%201.603,10.132%205.144,13.289%20C7.32,15.234%2010.152,15.99%2012.295,14.201%20L12.295,14.201%20Z'%20class='si-glyph-fill'%3e%3c/path%3e%3cpath%20d='M11.266,14.064%20C11.266,14.064%2012.446,14.677%2013.8,15.275%20C15.154,15.873%2015.803,15.752%2015.879,15.9%20C15.957,16.05%2015.918,14.258%2015.918,14.258%20C15.918,14.258%2014.09,14.691%2012.055,13.562%20L11.266,14.064%20L11.266,14.064%20Z'%20class='si-glyph-fill'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",q5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%2339e29d'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20612.001%20612.001'%20xml:space='preserve'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M515.77,431.781c0,0-8.917-201.817-135.072-260.518c9.256-14.101,18.176-28.427,26.626-43.018%20c11.122-19.209,21.523-39.136,28.899-60.119c6.369-18.114,5.823-47.837-11.421-60.579c-14.977-11.067-36.904-7.818-53.604-3.712%20c-13.713,3.372-26.816,8.892-39.847,14.25c-9.108,3.749-18.35,7.339-27.793,10.154c-10.094,3.008-18.161,5.486-31.057-1.625%20c-3.358-1.854-6.701-3.715-10.149-5.399c-10.489-5.129-20.946-8.324-32.719-8.279c-21.403,0.073-43.208,11.615-53.512,30.642%20c-9.077,16.763-7.027,32.818,0.289,49.305c10.566,23.817,29.965,44.772,46.745,64.328c3.586,4.178,7.213,8.324,10.879,12.44%20C104.478,226.17,95.389,431.78,95.389,431.78S78.575,612.001,305.581,612.001C544.968,612.001,515.77,431.781,515.77,431.781z%20M371.831,455.847c-2.696,7.371-6.609,14.092-11.651,19.969c-5.034,5.884-11.17,10.875-18.282,14.815%20c-4.124,2.308-8.558,4.169-13.267,5.604v11.804c0,10.293-8.349,18.649-18.654,18.649h-2.006c-10.307,0-18.658-8.356-18.658-18.649%20v-9.798c-3.489-0.672-6.883-1.582-10.145-2.739c-6.871-2.407-13.223-5.74-18.888-9.89c-5.66-4.163-10.673-9.113-14.864-14.721%20c-2.996-4.008-5.564-8.368-7.631-12.951c-3.62-8.051-1.102-17.527,6.015-22.739l3.089-2.235c4.302-3.14,9.736-4.295,14.934-3.157%20c5.211,1.121,9.679,4.414,12.297,9.048c1,1.778,2.109,3.46,3.336,4.986c2.252,2.858,4.828,5.314,7.658,7.272%20c2.814,1.955,5.92,3.504,9.237,4.579c3.229,1.039,6.616,1.579,10.071,1.579c4.569,0,8.65-0.648,12.103-1.912%20c3.225-1.191,5.93-2.795,8.031-4.797c2.018-1.921,3.598-4.331,4.695-7.172c1.22-3.105,1.82-6.702,1.82-10.724%20c0-4.001-0.674-7.226-2.04-9.577c-1.614-2.827-3.817-5.299-6.515-7.345c-3.283-2.494-7.09-4.721-11.35-6.631%20c-5.08-2.285-10.297-4.547-15.513-6.75c-5.619-2.366-11.224-4.964-16.623-7.733c-6.129-3.137-11.714-7.021-16.583-11.547%20c-5.204-4.846-9.434-10.717-12.578-17.448c-3.229-6.947-4.863-15.182-4.863-24.496c0-7.546,1.351-14.795,4.03-21.529%20c2.664-6.702,6.483-12.781,11.34-18.047c4.845-5.245,10.726-9.633,17.506-13.053c3.598-1.803,7.419-3.288,11.432-4.443v-10.045%20c0-10.293,8.351-18.648,18.658-18.648h2.006c10.305,0,18.655,8.354,18.655,18.648v9.354c6.964,1.672,13.396,4.261,19.223,7.776%20c7.026,4.219,13.094,9.55,18.079,15.853c5.513,7.009,5.323,16.933-0.481,23.698l-2.991,3.496%20c-3.443,3.999-8.409,6.372-13.699,6.497c-5.296,0.124-10.356-1.975-13.988-5.811c-0.784-0.818-1.592-1.599-2.419-2.341%20c-2.138-1.927-4.438-3.606-6.837-4.983c-2.266-1.305-4.704-2.356-7.208-3.086c-2.332-0.679-4.714-1.027-7.097-1.027%20c-3.897,0-7.352,0.522-10.241,1.548c-2.696,0.944-4.945,2.211-6.673,3.746c-1.662,1.487-2.885,3.135-3.754,5.037%20c-0.84,1.856-1.255,3.836-1.255,6.046c0,3.441,0.618,6.178,1.824,8.113c1.574,2.543,3.737,4.785,6.442,6.679%20c3.36,2.366,7.281,4.518,11.665,6.398c5.16,2.225,10.435,4.494,15.812,6.794c5.706,2.456,11.379,5.19,16.865,8.155%20c6.19,3.321,11.828,7.493,16.739,12.365c5.2,5.163,9.402,11.389,12.496,18.539c3.13,7.242,4.724,15.922,4.724,25.769%20C375.859,440.7,374.495,448.519,371.831,455.847z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Q5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(270)matrix(-1,%200,%200,%201,%200,%200)'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M15.7955%2015.8111L21%2021M18%2010.5C18%2014.6421%2014.6421%2018%2010.5%2018C6.35786%2018%203%2014.6421%203%2010.5C3%206.35786%206.35786%203%2010.5%203C14.6421%203%2018%206.35786%2018%2010.5Z'%20stroke='%23CFD0D5'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",K5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2055%2055'%20xml:space='preserve'%3e%3cg%3e%3cpath%20style='fill:%237D7D7D;'%20d='M26.364,45.255L9.393,28.284l0.537-6.979c0.038-0.488,0.718-0.571,0.872-0.107l1.419,4.258%20l16.971,16.971l3.566,0.891c0.472,0.118,0.445,0.797-0.035,0.877L26.364,45.255z'/%3e%3cpath%20style='fill:%237D7D7D;'%20d='M7.726,55H1.274C0.57,55,0,54.43,0,53.726v-6.452C0,46.57,0.57,46,1.274,46h6.452%20C8.43,46,9,46.57,9,47.274v6.452C9,54.43,8.43,55,7.726,55z'/%3e%3cpath%20style='fill:%23A5A5A4;'%20d='M7.726,46C8.43,46,9,46.57,9,47.274v2.617l11-11l-4.243-4.243L4.406,46H7.726z'/%3e%3cpath%20style='fill:%23A5A5A4;'%20d='M24,32c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414L53.585,0h-6.008%20L17.172,30.406l7.071,7.071L55,7.071V1.414L24.707,31.707C24.512,31.902,24.256,32,24,32z'/%3e%3c/g%3e%3c/svg%3e",Z5="/ChicksGold-FE-Challenge/assets/trustpilot-star-DX1xbJlm.png",X5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='24'%20cy='24'%20r='20'%20fill='%231DA1F2'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M36%2016.3086C35.1177%2016.7006%2034.1681%2016.9646%2033.1722%2017.0838C34.1889%2016.4742%2034.9697%2015.5095%2035.3368%2014.36C34.3865%2014.9247%2033.3314%2015.3335%2032.2107%2015.5551C31.3123%2014.5984%2030.0316%2014%2028.6165%2014C25.8975%2014%2023.6928%2016.2047%2023.6928%2018.9237C23.6928%2019.3092%2023.7368%2019.6852%2023.8208%2020.046C19.7283%2019.8412%2016.1005%2017.8805%2013.6719%2014.9015C13.2479%2015.6287%2013.0055%2016.4742%2013.0055%2017.3766C13.0055%2019.0845%2013.8735%2020.5916%2015.1958%2021.4747C14.3878%2021.4491%2013.6295%2021.2275%2012.9647%2020.8587V20.9203C12.9647%2023.3066%2014.663%2025.296%2016.9141%2025.7496C16.5013%2025.8616%2016.0661%2025.9224%2015.6174%2025.9224C15.2998%2025.9224%2014.991%2025.8912%2014.6902%2025.8336C15.3166%2027.7895%2017.1357%2029.2134%2019.2899%2029.2534C17.6052%2030.5733%2015.4822%2031.3612%2013.1751%2031.3612C12.7767%2031.3612%2012.3848%2031.338%2012%2031.2916C14.1791%2032.6884%2016.7669%2033.5043%2019.5475%2033.5043C28.6037%2033.5043%2033.5562%2026.0016%2033.5562%2019.4956C33.5562%2019.282%2033.5522%2019.0693%2033.5418%2018.8589C34.5049%2018.1629%2035.34%2017.2958%2036%2016.3086Z'%20fill='white'/%3e%3c/svg%3e",ag="toolbar",bc=`<template>\r
  <div class="toolbar-row">\r
    <!-- Game Dropdown -->\r
\r
    <div class="toolbar-dropdown toolbar-row-box">\r
      <button class="toolbar-btn" click.trigger="isGameOpen = !isGameOpen">\r
        <img src.bind="TOOLBAR_ASSETS.sword" alt="Game Icon" class="toolbar-icon" />\r
        <span class="toolbar-selected">\r
          \${selectedGame && selectedGame !== 'All'\r
          ? (games.find(g => g.id == selectedGame)?.name || selectedGame)\r
          : 'Select a game'}\r
        </span>\r
        <svg class="toolbar-arrow\${isGameOpen ? ' open' : ''}" width="16" height="16" viewBox="0 0 24 24" fill="none"\r
          stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
          <polyline points="6 9 12 15 18 9" />\r
        </svg>\r
      </button>\r
      <ul if.bind="isGameOpen" class="toolbar-dropdown-list">\r
        <li class="toolbar-dropdown-item" click.trigger="selectGame('All')">All</li>\r
        <li repeat.for="game of games" class="toolbar-dropdown-item" click.trigger="selectGame(game.id)">\${game.name}</li>\r
      </ul>\r
    </div>\r
    <!-- Search -->\r
\r
    <div class="toolbar-search toolbar-row-box">\r
  <img src.bind="TOOLBAR_ASSETS.search" alt="Search Icon" class="toolbar-search-icon" />\r
      <input type="text" class="toolbar-search-input" value.bind="search" placeholder="Search"\r
        input.trigger="onSearch()" />\r
\r
    </div>\r
\r
    <!-- Price Dropdown -->\r
\r
    <div class="toolbar-dropdown toolbar-row-box">\r
      <button class="toolbar-btn" click.trigger="isPriceOpen = !isPriceOpen">\r
  <img src.bind="TOOLBAR_ASSETS.money" alt="Price Icon" class="toolbar-icon" />\r
        <span class="toolbar-label">Price</span>\r
        <span class="toolbar-selected">\${selectedPrice || 'All'}</span>\r
        <svg class="toolbar-arrow\${isPriceOpen ? ' open' : ''}" width="16" height="16" viewBox="0 0 24 24" fill="none"\r
          stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
          <polyline points="6 9 12 15 18 9" />\r
        </svg>\r
      </button>\r
      <ul if.bind="isPriceOpen" class="toolbar-dropdown-list">\r
        <li class="toolbar-dropdown-item" click.trigger="selectPrice('All')">All</li>\r
        <li repeat.for="price of priceOptions" class="toolbar-dropdown-item" click.trigger="selectPrice(price)">\r
          \${price}\r
        </li>\r
      </ul>\r
    </div>\r
\r
    <!-- Item Type Dropdown -->\r
\r
    <div class="toolbar-dropdown toolbar-row-box">\r
      <button class="toolbar-btn" click.trigger="isTypeOpen = !isTypeOpen">\r
  <img src.bind="TOOLBAR_ASSETS.leaf" alt="Type Icon" class="toolbar-icon" />\r
        <span class="toolbar-label">Item Type</span>\r
        <span class="toolbar-selected">\${selectedType || 'All'}</span>\r
        <svg class="toolbar-arrow\${isTypeOpen ? ' open' : ''}" width="16" height="16" viewBox="0 0 24 24" fill="none"\r
          stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
          <polyline points="6 9 12 15 18 9" />\r
        </svg>\r
      </button>\r
      <ul if.bind="isTypeOpen" class="toolbar-dropdown-list">\r
        <li class="toolbar-dropdown-item" click.trigger="selectType('All')">All</li>\r
        <li repeat.for="type of typeOptions" class="toolbar-dropdown-item" click.trigger="selectType(type)">\${type}\r
        </li>\r
      </ul>\r
    </div>\r
    <!-- Filters button for small screens -->\r
    <button class="filters-btn toolbar-row-box" click.trigger="toggleFilters()">\r
  <img src.bind="TOOLBAR_ASSETS.filter" alt="Filter Icon" class="toolbar-icon" />\r
      <span>Filters</span>\r
    </button>\r
  </div>\r
  <!-- Bottom sheet filters panel -->\r
  <div if.bind="isFiltersOpen">\r
    <div class="filters-overlay" click.trigger="closeFilters()"></div>\r
    <div class="filters-panel" role="dialog" aria-modal="true">\r
      <div class="filters-header">\r
        <h3>Filters</h3>\r
        <button class="filters-close" aria-label="Close" click.trigger="closeFilters()"></button>\r
      </div>\r
      <div class="filters-section">\r
        <h4>Game</h4>\r
        <ul class="filters-list">\r
          <li class="filters-item \${selectedGame === 'All' || !selectedGame ? 'selected' : ''}" click.trigger="selectGame('All')">All</li>\r
          <li repeat.for="game of games" class="filters-item \${selectedGame == game.id ? 'selected' : ''}" click.trigger="selectGame(game.id)">\${game.name}</li>\r
        </ul>\r
      </div>\r
      <div class="filters-section">\r
        <h4>Price</h4>\r
        <ul class="filters-list">\r
          <li class="filters-item \${selectedPrice === 'All' || !selectedPrice ? 'selected' : ''}" click.trigger="selectPrice('All')">All</li>\r
          <li repeat.for="price of priceOptions" class="filters-item \${selectedPrice == price ? 'selected' : ''}" click.trigger="selectPrice(price)">\${price}</li>\r
        </ul>\r
      </div>\r
      <div class="filters-section">\r
        <h4>Item Type</h4>\r
        <ul class="filters-list">\r
          <li class="filters-item \${selectedType === 'All' || !selectedType ? 'selected' : ''}" click.trigger="selectType('All')">All</li>\r
          <li repeat.for="type of typeOptions" class="filters-item \${selectedType == type ? 'selected' : ''}" click.trigger="selectType(type)">\${type}</li>\r
        </ul>\r
      </div>\r
      <div class="filters-actions">\r
        <button class="filters-apply" click.trigger="closeFilters()">Apply</button>\r
      </div>\r
    </div>\r
  </div>\r
</template>`,lg=[],cg={};let kl;function J5(i){kl||(kl=q.define({name:ag,template:bc,dependencies:lg,bindables:cg})),i.register(kl)}const Y5=Object.freeze(Object.defineProperty({__proto__:null,bindables:cg,default:bc,dependencies:lg,name:ag,register:J5,template:bc},Symbol.toStringTag,{value:"Module"}));var e6=Object.create,Mh=Object.defineProperty,t6=Object.getOwnPropertyDescriptor,s6=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),to=i=>{throw TypeError(i)},i6=(i,e,t)=>e in i?Mh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,jd=(i,e)=>Mh(i,"name",{value:e,configurable:!0}),n6=i=>[,,,e6(null)],hg=["class","method","getter","setter","accessor","field","value","get","set"],Yn=i=>i!==void 0&&typeof i!="function"?to("Function expected"):i,r6=(i,e,t,s,n)=>({kind:hg[i],name:e,metadata:s,addInitializer:r=>t._?to("Already initialized"):n.push(Yn(r||null))}),o6=(i,e)=>i6(e,s6("metadata"),i[3]),ze=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Bs=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=hg[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&t6(h<4?n:{get[t](){return zd(this,r)},set[t](m){return Hd(this,r,m)}},t));h?d&&h<4&&jd(r,(h>2?"set ":h>1?"get ":"")+t):jd(n,t);for(var $=s.length-1;$>=0;$--)c=r6(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>a6(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?zd:l6)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Hd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?Yn(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?to("Object expected"):(Yn(o=a.get)&&(v.get=o),Yn(o=a.set)&&(v.set=o),Yn(o=a.init)&&_.unshift(o));return h||o6(i,n),v&&Mh(n,t,v),d?h^4?r:v:n},Nh=(i,e,t)=>e.has(i)||to("Cannot "+t),a6=(i,e)=>Object(e)!==e?to('Cannot use the "in" operator on this value'):i.has(e),zd=(i,e,t)=>(Nh(i,e,"read from private field"),t?t.call(i):e.get(i)),Hd=(i,e,t,s)=>(Nh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),l6=(i,e,t)=>(Nh(i,e,"access private method"),t),ug,dg,pg,fg,gg,_g,mg,vg,bg,de;const jn=i=>new URL(Object.assign({"../../assets/icons/Hamburger_icon.png":F5,"../../assets/icons/cart.svg":j5,"../../assets/icons/discord.svg":z5,"../../assets/icons/facebook.svg":H5,"../../assets/icons/filter.svg":G5,"../../assets/icons/instagram.svg":U5,"../../assets/icons/leaf.svg":W5,"../../assets/icons/money-sack.svg":q5,"../../assets/icons/search.svg":Q5,"../../assets/icons/sword.svg":K5,"../../assets/icons/trustpilot-star.png":Z5,"../../assets/icons/twitter.svg":X5})[`../../assets/icons/${i}`],import.meta.url).href,c6={sword:jn("sword.svg"),search:jn("search.svg"),money:jn("money-sack.svg"),leaf:jn("leaf.svg"),filter:jn("filter.svg")};bg=[lt({...Y5,name:"toolbar"})],vg=[Se],mg=[Se],_g=[Se],gg=[Se],fg=[Se],pg=[Se],dg=[Se],ug=[Se];class Tt{constructor(){this.games=ze(de,8,this,[]),ze(de,11,this),this.priceOptions=ze(de,12,this,[]),ze(de,15,this),this.typeOptions=ze(de,16,this,[]),ze(de,19,this),this.selectedGame=ze(de,20,this,""),ze(de,23,this),this.selectedPrice=ze(de,24,this,""),ze(de,27,this),this.selectedType=ze(de,28,this,""),ze(de,31,this),this.search=ze(de,32,this,""),ze(de,35,this),this.filtersChange=ze(de,36,this),ze(de,39,this),this.isGameOpen=!1,this.isPriceOpen=!1,this.isTypeOpen=!1,this.isFiltersOpen=!1}selectGame(e){this.selectedGame=e,this.isGameOpen=!1,console.log("Selected game:",e),this.emitChange()}selectPrice(e){this.selectedPrice=e,this.isPriceOpen=!1,this.emitChange()}selectType(e){this.selectedType=e,this.isTypeOpen=!1,this.emitChange()}onSearch(){this.emitChange()}toggleFilters(){this.isFiltersOpen=!this.isFiltersOpen}closeFilters(){this.isFiltersOpen=!1}emitChange(){this.filtersChange&&this.filtersChange({game:this.selectedGame,price:this.selectedPrice,type:this.selectedType,search:this.search})}}de=n6();Bs(de,5,"games",vg,Tt);Bs(de,5,"priceOptions",mg,Tt);Bs(de,5,"typeOptions",_g,Tt);Bs(de,5,"selectedGame",gg,Tt);Bs(de,5,"selectedPrice",fg,Tt);Bs(de,5,"selectedType",pg,Tt);Bs(de,5,"search",dg,Tt);Bs(de,5,"filtersChange",ug,Tt);Tt=Bs(de,0,"Toolbar",bg,Tt);ze(de,1,Tt);const h6=Object.freeze(Object.defineProperty({__proto__:null,TOOLBAR_ASSETS:c6,get Toolbar(){return Tt}},Symbol.toStringTag,{value:"Module"})),wg="product-card",wc=`<template>\r
  <div class="product-card">\r
    <div class="product-card-header">\r
      <div class="card-header-left">\r
        <div class="onsale-status">\r
          <span class="onsale-dot"></span>\r
          <span class="onsale-label">ON SALE</span>\r
        </div>\r
        <div class="stock-row">\r
          <span class="stock-status">In stock</span>\r
        </div>\r
      </div>\r
      <div class="qty-box-horizontal">\r
        <input class="qty-input" type="number" min="1" value.bind="qty" input.trigger="onQtyInput($event)" />\r
        <div class="qty-arrows">\r
          <button class="qty-arrow-btn" click.trigger="increaseQty()" tabindex="-1">&#9650;</button>\r
          <button class="qty-arrow-btn" click.trigger="decreaseQty()" tabindex="-1">&#9660;</button>\r
        </div>\r
      </div>\r
    </div>\r
    <div class="product-image">\r
      <img src.bind="product.imagen" alt="Product Image" class="product-img" />\r
    </div>\r
    <div class="product-name-row">\r
      <span class="product-name">\${product.nombre}</span>\r
      <div class="product-game-icon">\r
        <img src.bind="product.gameIcon" alt="Game Icon" class="game-icon" />\r
\r
      </div>\r
    </div>\r
    <div class="product-price-row" if.bind="product.precio">\r
      <span class="product-price">$\${product.precio.toFixed(2)}</span>\r
      <span class="product-price-original" if.bind="product.precioOriginal">\r
        $\${product.precioOriginal.toFixed(2)}\r
      </span>\r
    </div>\r
\r
    <span class="product-description">\${product.descripcion}</span>\r
    <div class="product-card-footer">\r
      <button class="details-btn" disabled>DETAILS</button>\r
      <button class="add-btn" disabled.bind="!product.precio" click.trigger="addToCart()">\r
        ADD\r
        <span class="add-cart-icon" aria-hidden="true">\r
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r
            <circle cx="9" cy="21" r="1" />\r
            <circle cx="20" cy="21" r="1" />\r
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61l1.38-7.39H6" />\r
          </svg>\r
        </span>\r
      </button>\r
    </div>\r
  </div>\r
</template>`,yg=[],Cg={};let Sl;function u6(i){Sl||(Sl=q.define({name:wg,template:wc,dependencies:yg,bindables:Cg})),i.register(Sl)}const d6=Object.freeze(Object.defineProperty({__proto__:null,bindables:Cg,default:wc,dependencies:yg,name:wg,register:u6,template:wc},Symbol.toStringTag,{value:"Module"}));var p6=Object.create,Dh=Object.defineProperty,f6=Object.getOwnPropertyDescriptor,g6=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),so=i=>{throw TypeError(i)},_6=(i,e,t)=>e in i?Dh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Gd=(i,e)=>Dh(i,"name",{value:e,configurable:!0}),m6=i=>[,,,p6(null)],kg=["class","method","getter","setter","accessor","field","value","get","set"],er=i=>i!==void 0&&typeof i!="function"?so("Function expected"):i,v6=(i,e,t,s,n)=>({kind:kg[i],name:e,metadata:s,addInitializer:r=>t._?so("Already initialized"):n.push(er(r||null))}),b6=(i,e)=>_6(e,g6("metadata"),i[3]),yc=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Sg=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=kg[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&f6(h<4?n:{get[t](){return Ud(this,r)},set[t](m){return Wd(this,r,m)}},t));h?d&&h<4&&Gd(r,(h>2?"set ":h>1?"get ":"")+t):Gd(n,t);for(var $=s.length-1;$>=0;$--)c=v6(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>w6(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Ud:y6)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Wd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?er(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?so("Object expected"):(er(o=a.get)&&(v.get=o),er(o=a.set)&&(v.set=o),er(o=a.init)&&_.unshift(o));return h||b6(i,n),v&&Dh(n,t,v),d?h^4?r:v:n},Vh=(i,e,t)=>e.has(i)||so("Cannot "+t),w6=(i,e)=>Object(e)!==e?so('Cannot use the "in" operator on this value'):i.has(e),Ud=(i,e,t)=>(Vh(i,e,"read from private field"),t?t.call(i):e.get(i)),Wd=(i,e,t,s)=>(Vh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),y6=(i,e,t)=>(Vh(i,e,"access private method"),t),$g,xg,wn;xg=[lt({...d6,name:"product-card"}),$n(ti)],$g=[Se];class Tr{constructor(e){this.cartService=e,this.product=yc(wn,8,this),yc(wn,11,this),this.qty=1}increaseQty(){this.qty++}decreaseQty(){this.qty>1&&this.qty--}onQtyInput(e){const t=parseInt(e.target.value,10);!isNaN(t)&&t>0?this.qty=t:this.qty=1}addToCart(){if(!this.product)return;const e=Number.isFinite(this.qty)&&this.qty>0?this.qty:1;this.cartService.add({id:this.product.id,name:this.product.nombre,price:this.product.precio,image:this.product.imagen,qty:e},e)}}wn=m6();Sg(wn,5,"product",$g,Tr);Tr=Sg(wn,0,"ProductCard",xg,Tr);yc(wn,1,Tr);const C6=Object.freeze(Object.defineProperty({__proto__:null,get ProductCard(){return Tr}},Symbol.toStringTag,{value:"Module"})),Ag="product-list",Cc=`<template>\r
    \r
  <div class="product-list">\r
    <product-card repeat.for="product of products" product.bind="product"></product-card>\r
  </div>\r
</template>\r
`,Ig=[C6],Rg={};let $l;function k6(i){$l||($l=q.define({name:Ag,template:Cc,dependencies:Ig,bindables:Rg})),i.register($l)}const S6=Object.freeze(Object.defineProperty({__proto__:null,bindables:Rg,default:Cc,dependencies:Ig,name:Ag,register:k6,template:Cc},Symbol.toStringTag,{value:"Module"}));var $6=Object.create,Fh=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,A6=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),io=i=>{throw TypeError(i)},I6=(i,e,t)=>e in i?Fh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,qd=(i,e)=>Fh(i,"name",{value:e,configurable:!0}),R6=i=>[,,,$6(null)],Pg=["class","method","getter","setter","accessor","field","value","get","set"],tr=i=>i!==void 0&&typeof i!="function"?io("Function expected"):i,P6=(i,e,t,s,n)=>({kind:Pg[i],name:e,metadata:s,addInitializer:r=>t._?io("Already initialized"):n.push(tr(r||null))}),T6=(i,e)=>I6(e,A6("metadata"),i[3]),kc=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Tg=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=Pg[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&x6(h<4?n:{get[t](){return Qd(this,r)},set[t](m){return Kd(this,r,m)}},t));h?d&&h<4&&qd(r,(h>2?"set ":h>1?"get ":"")+t):qd(n,t);for(var $=s.length-1;$>=0;$--)c=P6(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>E6(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Qd:O6)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Kd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?tr(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?io("Object expected"):(tr(o=a.get)&&(v.get=o),tr(o=a.set)&&(v.set=o),tr(o=a.init)&&_.unshift(o));return h||T6(i,n),v&&Fh(n,t,v),d?h^4?r:v:n},jh=(i,e,t)=>e.has(i)||io("Cannot "+t),E6=(i,e)=>Object(e)!==e?io('Cannot use the "in" operator on this value'):i.has(e),Qd=(i,e,t)=>(jh(i,e,"read from private field"),t?t.call(i):e.get(i)),Kd=(i,e,t,s)=>(jh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),O6=(i,e,t)=>(jh(i,e,"access private method"),t),Eg,Og,yn;Og=[lt({...S6,name:"product-list"})],Eg=[Se];class Er{constructor(){this.products=kc(yn,8,this,[]),kc(yn,11,this)}}yn=R6();Tg(yn,5,"products",Eg,Er);Er=Tg(yn,0,"ProductList",Og,Er);kc(yn,1,Er);const B6=Object.freeze(Object.defineProperty({__proto__:null,get ProductList(){return Er}},Symbol.toStringTag,{value:"Module"})),Bg="element-list",Sc=`<template>\r
    \r
        \r
    <div class="padded-box bg-primary">\r
        <div class="row-justified">\r
            <div>\r
                <span>Showing \${page * pageSize - pageSize + 1} - \${Math.min(page * pageSize, total)} of \${total}</span>\r
            </div>\r
            <div class="sort-dropdown-wrapper">\r
                <button class="sort-dropdown-btn" click.trigger="isSortOpen = !isSortOpen">\r
                    <img src.bind="ELEMENT_ASSETS.filter" alt="Sort Icon" class="sort-icon-vertical" />\r
                    <div class="sort-dropdown-labels">\r
                        <span class="sort-label">Sort By</span>\r
                        <span class="sort-selected">\${selectedSort}</span>\r
                    </div>\r
                    <svg class="sort-arrow-vertical\${isSortOpen ? ' open' : ''}" width="20" height="20"\r
                        viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round"\r
                        stroke-linejoin="round">\r
                        <polyline points="6 9 12 15 18 9" />\r
                    </svg>\r
                </button>\r
                <ul if.bind="isSortOpen" class="sort-dropdown-list">\r
                    <li repeat.for="option of sortOptions" class="sort-dropdown-item"\r
                        click.trigger="selectSort(option)">\${option}</li>\r
                </ul>\r
            </div>\r
        </div>\r
        <product-list products.bind="items"></product-list>\r
        <pagination \r
            page.bind="page" \r
            page-size.bind="pageSize" \r
            total.bind="total"\r
            page-change.bind="onPageChange">\r
        </pagination>\r
    </div>\r
</template>`,Lg=[og,B6],Mg={};let xl;function L6(i){xl||(xl=q.define({name:Bg,template:Sc,dependencies:Lg,bindables:Mg})),i.register(xl)}const M6=Object.freeze(Object.defineProperty({__proto__:null,bindables:Mg,default:Sc,dependencies:Lg,name:Bg,register:L6,template:Sc},Symbol.toStringTag,{value:"Module"}));var N6=Object.create,zh=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,V6=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),no=i=>{throw TypeError(i)},F6=(i,e,t)=>e in i?zh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Zd=(i,e)=>zh(i,"name",{value:e,configurable:!0}),j6=i=>[,,,N6(null)],Ng=["class","method","getter","setter","accessor","field","value","get","set"],sr=i=>i!==void 0&&typeof i!="function"?no("Function expected"):i,z6=(i,e,t,s,n)=>({kind:Ng[i],name:e,metadata:s,addInitializer:r=>t._?no("Already initialized"):n.push(sr(r||null))}),H6=(i,e)=>F6(e,V6("metadata"),i[3]),gt=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Fi=(i,e,t,s,n,r)=>{var o,a,l,c,u,h=e&7,p=!!(e&8),d=!!(e&16),g=h>3?i.length+1:h?p?1:2:0,f=Ng[h+5],_=h>3&&(i[g-1]=[]),b=i[g]||(i[g]=[]),v=h&&(!d&&!p&&(n=n.prototype),h<5&&(h>3||!d)&&D6(h<4?n:{get[t](){return Xd(this,r)},set[t](m){return Jd(this,r,m)}},t));h?d&&h<4&&Zd(r,(h>2?"set ":h>1?"get ":"")+t):Zd(n,t);for(var $=s.length-1;$>=0;$--)c=z6(h,t,l={},i[3],b),h&&(c.static=p,c.private=d,u=c.access={has:d?m=>G6(n,m):m=>t in m},h^3&&(u.get=d?m=>(h^1?Xd:U6)(m,n,h^4?r:v.get):m=>m[t]),h>2&&(u.set=d?(m,C)=>Jd(m,n,C,h^4?r:v.set):(m,C)=>m[t]=C)),a=(0,s[$])(h?h<4?d?r:v[f]:h>4?void 0:{get:v.get,set:v.set}:n,c),l._=1,h^4||a===void 0?sr(a)&&(h>4?_.unshift(a):h?d?r=a:v[f]=a:n=a):typeof a!="object"||a===null?no("Object expected"):(sr(o=a.get)&&(v.get=o),sr(o=a.set)&&(v.set=o),sr(o=a.init)&&_.unshift(o));return h||H6(i,n),v&&zh(n,t,v),d?h^4?r:v:n},Hh=(i,e,t)=>e.has(i)||no("Cannot "+t),G6=(i,e)=>Object(e)!==e?no('Cannot use the "in" operator on this value'):i.has(e),Xd=(i,e,t)=>(Hh(i,e,"read from private field"),t?t.call(i):e.get(i)),Jd=(i,e,t,s)=>(Hh(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),U6=(i,e,t)=>(Hh(i,e,"access private method"),t),Dg,Vg,Fg,jg,zg,Hg,Gg,Pe;const W6={filter:new URL("data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%20fill='%2339E29D'%20stroke='%2339E29D'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3efilter-horizontal-solid%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='invisible_box'%20data-name='invisible%20box'%3e%3crect%20width='48'%20height='48'%20fill='none'/%3e%3c/g%3e%3cg%20id='icons_Q2'%20data-name='icons%20Q2'%3e%3cpath%20d='M41.8,8H21.7A6.2,6.2,0,0,0,16,4a6,6,0,0,0-5.6,4H6.2A2.1,2.1,0,0,0,4,10a2.1,2.1,0,0,0,2.2,2h4.2A6,6,0,0,0,16,16a6.2,6.2,0,0,0,5.7-4H41.8A2.1,2.1,0,0,0,44,10,2.1,2.1,0,0,0,41.8,8Z'/%3e%3cpath%20d='M41.8,22H37.7A6.2,6.2,0,0,0,32,18a6,6,0,0,0-5.6,4H6.2a2,2,0,1,0,0,4H26.4A6,6,0,0,0,32,30a6.2,6.2,0,0,0,5.7-4h4.1a2,2,0,1,0,0-4Z'/%3e%3cpath%20d='M41.8,36H24.7A6.2,6.2,0,0,0,19,32a6,6,0,0,0-5.6,4H6.2a2,2,0,1,0,0,4h7.2A6,6,0,0,0,19,44a6.2,6.2,0,0,0,5.7-4H41.8a2,2,0,1,0,0-4Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href};Gg=[lt({...M6,name:"element-list"})],Hg=[Se],zg=[Se],jg=[Se],Fg=[Se],Vg=[Se],Dg=[Se];class ls{constructor(){this.items=gt(Pe,8,this,[]),gt(Pe,11,this),this.page=gt(Pe,12,this,1),gt(Pe,15,this),this.pageSize=gt(Pe,16,this,10),gt(Pe,19,this),this.total=gt(Pe,20,this,0),gt(Pe,23,this),this.sortChange=gt(Pe,24,this),gt(Pe,27,this),this.pageChange=gt(Pe,28,this),gt(Pe,31,this),this.isSortOpen=!1,this.selectedSort="Featured",this.sortOptions=["Featured","Price: Low to High","Price: High to Low","Stock","Name"],this.onPageChange=e=>{this.pageChange&&this.pageChange(e)}}selectSort(e){this.selectedSort=e,this.isSortOpen=!1,this.sortChange&&this.sortChange(e)}}Pe=j6();Fi(Pe,5,"items",Hg,ls);Fi(Pe,5,"page",zg,ls);Fi(Pe,5,"pageSize",jg,ls);Fi(Pe,5,"total",Fg,ls);Fi(Pe,5,"sortChange",Vg,ls);Fi(Pe,5,"pageChange",Dg,ls);ls=Fi(Pe,0,"ElementList",Gg,ls);gt(Pe,1,ls);const q6=Object.freeze(Object.defineProperty({__proto__:null,ELEMENT_ASSETS:W6,get ElementList(){return ls}},Symbol.toStringTag,{value:"Module"})),Ug="home",$c=`<template>\r
  \r
  \r
\r
  \r
  <section class="home">\r
    <div id="epic-background">\r
      <div class="main-content-padding full-width ">\r
        <div class="grid-container">\r
          <div class="main-title-area">\r
            <h1 class="main-title">Condimentum consectetur</h1>\r
          </div>\r
          <toolbar \r
            games.bind="games" \r
            price-options.bind="priceOptions" \r
            type-options.bind="typeOptions" \r
            selected-game.bind="selectedGame" \r
            selected-price.bind="selectedPrice" \r
            selected-type.bind="selectedType" \r
            search.bind="search" \r
            filters-change.bind="onFiltersChange">\r
          </toolbar>\r
          <element-list \r
            items.bind="pagedItems" \r
            page.bind="page" \r
            page-size.bind="pageSize"\r
            total.bind="filteredProducts.length"\r
            sort-change.bind="onSortChange"\r
            page-change.bind="onPageChange">\r
          </element-list>\r
\r
        </div>\r
      </div>\r
\r
\r
    </div>\r
  </section>\r
</template>`,Wg=[h6,q6,og],qg={};let Al;function Q6(i){Al||(Al=q.define({name:Ug,template:$c,dependencies:Wg,bindables:qg})),i.register(Al)}const K6=Object.freeze(Object.defineProperty({__proto__:null,bindables:qg,default:$c,dependencies:Wg,name:Ug,register:Q6,template:$c},Symbol.toStringTag,{value:"Module"}));var Z6=Object.create,Gh=Object.defineProperty,X6=Object.getOwnPropertyDescriptor,J6=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Qg=i=>{throw TypeError(i)},Y6=(i,e,t)=>e in i?Gh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,e4=(i,e)=>Gh(i,"name",{value:e,configurable:!0}),t4=i=>[,,,Z6(null)],s4=["class","method","getter","setter","accessor","field","value","get","set"],Kg=i=>i!==void 0&&typeof i!="function"?Qg("Function expected"):i,i4=(i,e,t,s,n)=>({kind:s4[i],name:e,metadata:s,addInitializer:r=>t._?Qg("Already initialized"):n.push(Kg(r||null))}),n4=(i,e)=>Y6(e,J6("metadata"),i[3]),r4=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},o4=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&X6(n,t));e4(n,t);for(var g=s.length-1;g>=0;g--)l=i4(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,Kg(o)&&(n=o);return n4(i,n),d&&Gh(n,t,d),u?c^4?r:d:n},Zg,Uh;Zg=[lt({...K6,name:"home"})];class Or{constructor(){this.page=1,this.pageSize=10,this.products=[],this.filteredProducts=[],this.sort="Featured",this.games=[],this.priceOptions=["< $50","$50 - $100","$100+"],this.typeOptions=["Gold","Item","Account"],this.selectedGame="All",this.selectedPrice="All",this.selectedType="All",this.search="",this.onSortChange=e=>{this.sort=e,this.applySort()},this.onFiltersChange=e=>{this.selectedGame=e.game,this.selectedPrice=e.price,this.selectedType=e.type,this.search=e.search,this.applyFilters()},this.onPageChange=e=>{this.page=e},console.log("Home component loaded")}async attached(){try{const s=await fetch(new URL("./data/juegos.json",import.meta.url).href);this.games=await s.json(),console.log("Games loaded:",this.games)}catch(s){console.error("Error loading games:",s),this.games=[]}const t=await(await fetch(new URL("./data/productos.json",import.meta.url).href)).json();this.products=t.map(s=>{const n=this.games.find(c=>c.id===s.gameId),r=n&&n.icono?new URL(Object.assign({"../../main.ts":B5,"../../my-app.css":L5,"../../my-app.html":M5,"../../my-app.ts":N5,"../../resource.d.ts":D5,"../../vite-env.d.ts":V5})[`../../${String(n.icono).replace(/^\/?src\//,"")}`],import.meta.url).href:"";let o=null,a=s.precio;n&&n.currencyPercentage&&n.currencyPercentage>0&&(o=s.precio,a=+(s.precio*(1-n.currencyPercentage/100)).toFixed(2));const l=s.imagen?`/ChicksGold-FE-Challenge/${String(s.imagen).replace(/^\//,"")}`:"";return{...s,gameIcon:r,imagen:l,precioOriginal:o,precio:a}}),this.filteredProducts=this.products,this.typeOptions=Array.from(new Set(this.products.map(s=>s.type))).filter(Boolean),console.log(this.products)}get pagedItems(){const e=(this.page-1)*this.pageSize;return this.filteredProducts.slice(e,e+this.pageSize)}applyFilters(){let e=this.products;if(this.selectedGame&&this.selectedGame!=="All"&&(e=e.filter(t=>t.gameId==this.selectedGame)),this.selectedType&&this.selectedType!=="All"&&(e=e.filter(t=>t.type===this.selectedType)),this.selectedPrice&&this.selectedPrice!=="All"&&(this.selectedPrice==="< $50"?e=e.filter(t=>t.precio<50):this.selectedPrice==="$50 - $100"?e=e.filter(t=>t.precio>=50&&t.precio<=100):this.selectedPrice==="$100+"&&(e=e.filter(t=>t.precio>100))),this.search){const t=this.search.toLowerCase().split(/\s+/).filter(Boolean);e=e.filter(s=>{const n=s.nombre.toLowerCase(),r=s.descripcion.toLowerCase();return t.some(o=>n.includes(o)||r.includes(o))})}this.filteredProducts=e,this.applySort(),this.page=1}applySort(){this.sort==="Price: Low to High"?this.filteredProducts=[...this.filteredProducts].sort((e,t)=>e.precio-t.precio):this.sort==="Price: High to Low"?this.filteredProducts=[...this.filteredProducts].sort((e,t)=>t.precio-e.precio):this.sort==="Stock"?this.filteredProducts=[...this.filteredProducts].sort((e,t)=>t.stock-e.stock):this.sort==="Name"&&(this.filteredProducts=[...this.filteredProducts].sort((e,t)=>e.nombre.localeCompare(t.nombre)))}}Uh=t4();Or=o4(Uh,0,"Home",Zg,Or);r4(Uh,1,Or);const Xg="cart",xc=`<template>\r
  <section class="home">\r
    <div id="epic-background">\r
      <div class="main-content-padding full-width ">\r
        <div class="container">\r
          <h4>Lo sentimos, el programador se quedo sin tiempo ni cafe para hacer un buen carrito. intente nuevamente mas tarde.</h4>\r
        </div>\r
      </div>\r
\r
\r
    </div>\r
  </section>\r
</template>`,Jg=[],Yg={};let Il;function a4(i){Il||(Il=q.define({name:Xg,template:xc,dependencies:Jg,bindables:Yg})),i.register(Il)}const l4=Object.freeze(Object.defineProperty({__proto__:null,bindables:Yg,default:xc,dependencies:Jg,name:Xg,register:a4,template:xc},Symbol.toStringTag,{value:"Module"}));var c4=Object.create,Wh=Object.defineProperty,h4=Object.getOwnPropertyDescriptor,u4=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),e_=i=>{throw TypeError(i)},d4=(i,e,t)=>e in i?Wh(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,p4=(i,e)=>Wh(i,"name",{value:e,configurable:!0}),f4=i=>[,,,c4(null)],g4=["class","method","getter","setter","accessor","field","value","get","set"],t_=i=>i!==void 0&&typeof i!="function"?e_("Function expected"):i,_4=(i,e,t,s,n)=>({kind:g4[i],name:e,metadata:s,addInitializer:r=>t._?e_("Already initialized"):n.push(t_(r||null))}),m4=(i,e)=>d4(e,u4("metadata"),i[3]),v4=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},b4=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&h4(n,t));p4(n,t);for(var g=s.length-1;g>=0;g--)l=_4(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,t_(o)&&(n=o);return m4(i,n),d&&Wh(n,t,d),u?c^4?r:d:n},s_,qh;s_=[lt({...l4,name:"cart"})];class Br{}qh=f4();Br=b4(qh,0,"Cart",s_,Br);v4(qh,1,Br);class Yd{constructor(e,t,s,n){this.name=e,this.isOptional=t,this.isStar=s,this.pattern=n}satisfiesPattern(e){return this.pattern===null?!0:(this.pattern.lastIndex=0,this.pattern.test(e))}}class i_{constructor(e,t,s){this.path=e,this.caseSensitive=t,this.handler=s}}class n_{get residualEndpoint(){return this._residualEndpoint}set residualEndpoint(e){if(this._residualEndpoint!==null)throw new Error("Residual endpoint is already set");this._residualEndpoint=e}constructor(e,t){this.route=e,this.params=t,this._residualEndpoint=null}equalsOrResidual(e){return e!=null&&this===e||this._residualEndpoint===e}}class Ea{constructor(e,t){this.endpoint=e;const s=Object.create(null);for(const n in t){const r=t[n];s[n]=r!=null?decodeURIComponent(r):r}this.params=Object.freeze(s)}}class Qh{constructor(e,t,s,n){var r;this.chars=e,this.states=t,this.skippedStates=s,this.result=n,this.params=null,this.isConstrained=!1,this.satisfiesConstraints=null,this.head=t[t.length-1],this.endpoint=(r=this.head)==null?void 0:r.endpoint}advance(e){const{chars:t,states:s,skippedStates:n,result:r}=this;let o=null,a=0;const l=s[s.length-1];function c(u,h){if(u.isMatch(e)&&(++a===1?o=u:r.add(new Qh(t.concat(e),s.concat(u),h===null?n:n.concat(h),r))),l.segment===null&&u.isOptional&&u.nextStates!==null){if(u.nextStates.length>1)throw sa(`${u.nextStates.length} nextStates`);const p=u.nextStates[0];if(!p.isSeparator)throw sa("Not a separator");if(p.nextStates!==null)for(const d of p.nextStates)c(d,u)}}if(l.isDynamic&&c(l,null),l.nextStates!==null)for(const u of l.nextStates)c(u,null);o!==null&&(s.push(this.head=o),t.push(e),this.isConstrained=this.isConstrained||o.isDynamic&&o.segment.isConstrained,o.endpoint!==null&&(this.endpoint=o.endpoint)),a===0&&r.remove(this)}_finalize(){function e(t,s){const n=s.nextStates;if(n!==null){if(n.length===1&&n[0].segment===null)e(t,n[0]);else for(const r of n)if(r.isOptional&&r.endpoint!==null){if(t.push(r),r.nextStates!==null)for(const o of r.nextStates)e(t,o);break}}}return e(this.skippedStates,this.head),this.isConstrained?(this._getParams(),this.satisfiesConstraints):!0}_getParams(){var r;let e=this.params;if(e!=null)return e;const{states:t,chars:s,endpoint:n}=this;e={},this.satisfiesConstraints=!0;for(const o of n.params)e[o.name]=void 0;for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.isDynamic){const c=l.segment,u=c.name;if(e[u]===void 0?e[u]=s[o]:e[u]+=s[o],!(l.isConstrained&&!Object.is((r=t[o+1])==null?void 0:r.segment,c)))continue;this.satisfiesConstraints=this.satisfiesConstraints&&l.satisfiesConstraint(e[u])}}return this.satisfiesConstraints&&(this.params=e),e}compareTo(e){const t=this.states,s=e.states;for(let l=0,c=0,u=Math.max(t.length,s.length);l<u;++l){let h=t[l];if(h===void 0)return 1;let p=s[c];if(p===void 0)return-1;let d=h.segment,g=p.segment;if(d===null){if(g===null){++c;continue}if((h=t[++l])===void 0)return 1;d=h.segment}else if(g===null){if((p=s[++c])===void 0)return-1;g=p.segment}if(d.kind<g.kind)return 1;if(d.kind>g.kind)return-1;++c}const n=this.skippedStates,r=e.skippedStates,o=n.length,a=r.length;if(o<a)return 1;if(o>a)return-1;for(let l=0;l<o;++l){const c=n[l],u=r[l];if(c.length<u.length)return 1;if(c.length>u.length)return-1}return 0}}function w4(i){return i.head.endpoint!==null}function y4(i,e){return i.compareTo(e)}class C4{get isEmpty(){return this.candidates.length===0}constructor(e){this.candidates=[],this.candidates=[new Qh([""],[e],[],this)]}getSolution(){const e=this.candidates.filter(t=>w4(t)&&t._finalize());return e.length===0?null:(e.sort(y4),e[0])}add(e){this.candidates.push(e)}remove(e){this.candidates.splice(this.candidates.indexOf(e),1)}advance(e){const t=this.candidates.slice();for(const s of t)s.advance(e)}}const Jt="$$residue",ep=/^:(?<name>[^?\s{}]+)(?:\{\{(?<constraint>.+)\}\})?(?<optional>\?)?$/g;class k4{constructor(){this.rootState=new Kh(null,null,""),this.cache=new Map,this.endpointLookup=new Map}add(e,t=!1){var r,o;let s,n;if(e instanceof Array)for(const a of e)n=this.$add(a,!1),s=n.params,!(!t||(((r=s[s.length-1])==null?void 0:r.isStar)??!1))&&(n.residualEndpoint=this.$add({...a,path:`${a.path}/*${Jt}`},!0));else n=this.$add(e,!1),s=n.params,t&&!(((o=s[s.length-1])==null?void 0:o.isStar)??!1)&&(n.residualEndpoint=this.$add({...e,path:`${e.path}/*${Jt}`},!0));this.cache.clear()}$add(e,t){var u;const s=e.path,n=this.endpointLookup;if(n.has(s))throw sa(`Cannot add duplicate path '${s}'.`);const r=new i_(s,e.caseSensitive===!0,e.handler),o=s===""?[""]:s.split("/").filter(S4),a=[];let l=this.rootState;for(const h of o)switch(l=l.append(null,"/"),h.charAt(0)){case":":{ep.lastIndex=0;const p=ep.exec(h),{name:d,optional:g}=(p==null?void 0:p.groups)??{},f=g==="?";if(d===Jt)throw new Error(`Invalid parameter name; usage of the reserved parameter name '${Jt}' is used.`);const _=(u=p==null?void 0:p.groups)==null?void 0:u.constraint,b=_!=null?new RegExp(_):null;a.push(new Yd(d,f,!1,b)),l=new x4(d,f,b).appendTo(l);break}case"*":{const p=h.slice(1);let d;if(p===Jt){if(!t)throw new Error(`Invalid parameter name; usage of the reserved parameter name '${Jt}' is used.`);d=1}else d=2;a.push(new Yd(p,!0,!0,null)),l=new A4(p,d).appendTo(l);break}default:{l=new $4(h,r.caseSensitive).appendTo(l);break}}const c=new n_(r,a);return l.setEndpoint(c),n.set(s,c),c}recognize(e){let t=this.cache.get(e);return t===void 0&&this.cache.set(e,t=this.$recognize(e)),t}$recognize(e){e.startsWith("/")||(e=`/${e}`),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));const t=new C4(this.rootState);for(let o=0,a=e.length;o<a;++o){const l=e.charAt(o);if(t.advance(l),t.isEmpty)return null}const s=t.getSolution();if(s===null)return null;const{endpoint:n}=s,r=s._getParams();return new Ea(n,r)}getEndpoint(e){return this.endpointLookup.get(e)??null}}class Kh{constructor(e,t,s){switch(this.prevState=e,this.segment=t,this.value=s,this.nextStates=null,this.endpoint=null,this.isConstrained=!1,t==null?void 0:t.kind){case 3:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=t.optional,this.isConstrained=t.isConstrained;break;case 2:case 1:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 4:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=e===null?0:e.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1;break}}append(e,t){let s,n=this.nextStates;return n===null?(s=void 0,n=this.nextStates=[]):e===null?s=n.find(r=>r.value===t):s=n.find(r=>{var o;return(o=r.segment)==null?void 0:o.equals(e)}),s===void 0&&n.push(s=new Kh(this,e,t)),s}setEndpoint(e){if(this.endpoint!==null)throw sa(`Cannot add ambiguous route. The pattern '${e.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=e,this.isOptional&&(this.prevState.setEndpoint(e),this.prevState.isSeparator&&this.prevState.prevState!==null&&this.prevState.prevState.setEndpoint(e))}isMatch(e){const t=this.segment;switch(t==null?void 0:t.kind){case 3:return!this.value.includes(e);case 2:case 1:return!0;case 4:case void 0:return this.value.includes(e)}}satisfiesConstraint(e){return this.isConstrained?this.segment.satisfiesPattern(e):!0}}function S4(i){return i.length>0}class $4{get kind(){return 4}constructor(e,t){this.value=e,this.caseSensitive=t}appendTo(e){const{value:t,value:{length:s}}=this;if(this.caseSensitive)for(let n=0;n<s;++n)e=e.append(this,t.charAt(n));else for(let n=0;n<s;++n){const r=t.charAt(n);e=e.append(this,r.toUpperCase()+r.toLowerCase())}return e}equals(e){return e.kind===4&&e.caseSensitive===this.caseSensitive&&e.value===this.value}}class x4{get kind(){return 3}constructor(e,t,s){if(this.name=e,this.optional=t,this.pattern=s,s===void 0)throw new Error("Pattern is undefined");this.isConstrained=s!==null}appendTo(e){return e=e.append(this,"/"),e}equals(e){return e.kind===3&&e.optional===this.optional&&e.name===this.name}satisfiesPattern(e){return this.pattern===null?!0:(this.pattern.lastIndex=0,this.pattern.test(e))}}class A4{constructor(e,t){this.name=e,this.kind=t}appendTo(e){return e=e.append(this,""),e}equals(e){return(e.kind===2||e.kind===1)&&e.name===this.name}}const sa=i=>new Error(i),ro={3e3:"hydrated",3001:"attaching",3002:"detaching",3003:"dispose",3050:"created",3051:"activating - self",3052:"activating - via initiator",3053:"deactivating - self",3054:"deactivating - via initiator",3055:"disposing",3056:"canUnload(next:%s) - invoking %s hooks",3057:"canLoad(next:%s) - invoking %s hooks",3058:"unloading(next:%s) - invoking %s hooks",3059:"loading(next:%s) - invoking %s hooks",3100:"baseHref set to path: %s",3101:"starting listening to %s",3102:"stopping listening to %s",3103:"pushing to history state: %s (title: '%s', url: '%s')",3104:"replacing history state: %s (title: '%s', url: '%s')",3105:"pushing to history state: NOT_SERIALIZABLE (title: '%s', url: '%s')",3106:"replacing history state: NOT_SERIALIZABLE (title: '%s', url: '%s')",3150:"created",3151:"Node changed from %s to %s",3152:"The given context is nullish (%s); resolving to root RouteContext",3153:"The given context (%s) is an instance of RouteContext; resolving to it",3154:"The given context is a node (nodeName:%s); resolving RouteContext from controller's RenderContext",3155:"Failed to resolve RouteContext from node %s; error: %s",3156:"The given context is a custom element viewmodel (name:%s); resolving RouteContext from controller's RenderContext",3157:"The given context is a custom element controller (name:%s); resolving RouteContext from controller's RenderContext",3158:"Resolving viewport agent for the request: %s",3159:"Creating component agent for the node: %s",3160:"Registering viewport: %s",3161:"Skipping registering viewport: %s; it is already registered",3162:"Unregistering viewport: %s",3163:"Skipping unregistering viewport: %s; it is not registered",3164:"Recognizing path: %s",3165:"Adding route: %s",3166:"Unable to eagerly generate path for %s; reasons: %s",3167:"The provided container has no registered IAppRoot. RouteContext.setRoot can only be used after Aurelia.app was called, on a container that is within that app's component tree.",3168:'A root RouteContext is already registered. A possible cause is the RouterConfiguration being registered more than once in the same container tree. If you have a multi-rooted app, make sure you register RouterConfiguration only in the "forked" containers and not in the common root.',3169:"The provided IAppRoot does not (yet) have a controller. A possible cause is calling this API manually before Aurelia.start() is called",3170:"Invalid context type: %s",3171:"Invariant violation: RouteNode should be set immediately after the RouteContext is created. Context: %s",3172:"RouteContext has no ViewportAgent: %s",3173:"Invalid route config. When the component property is a lazy import, the path must be specified.",3174:`Failed to resolve %s at:
%s`,3175:"%s does not appear to be a component or CustomElement recognizable by Aurelia; make sure to use the @customElement decorator for your class if not using conventions.",3200:"Publishing event: %s",3201:"Invoking subscriber #%s (event: %s)",3250:"Loading instruction: %s",3251:"Checking if the route %s is active in context %s",3252:"Resolving existing RouteContext for %s",3253:"Creating new RouteContext for %s",3254:"Ignoring navigation triggered by '%s' because it is the same URL as the previous navigation which was triggered by 'api'.",3255:"Reusing promise/resolve/reject from the previously failed transition %s",3256:"Scheduling transition: %s",3257:"Transition succeeded: %s",3258:"Running transition: %s",3259:"Aborting transition %s because a new transition was queued in response to the NavigationStartEvent",3260:"Compiling viewport instructions tree %s",3261:"invoking canUnload on %s nodes",3262:"invoking canLoad on %s nodes",3263:"invoking unloading on %s nodes",3264:"invoking loading on %s nodes",3265:"invoking swapping on %s nodes",3266:"finalizing transition",3267:"navigation %s",3268:"navigation %s; finished.",3269:"scheduling next transition: %s",3270:"Transition %s failed with error: %s",3271:"Root RouteContext is not set. Did you forget to register RouteConfiguration, or try to navigate before calling Aurelia.start()?",3300:"created",3301:"Nothing to activate at %s",3302:"Activating existing component agent at %s",3303:"Activating next component agent at %s",3304:"Nothing to deactivate at %s",3305:"Deactivating existing component agent at %s",3306:"Already deactivating at %s",3307:"Deactivating current component agent at %s",3308:"Cannot handle the request %s due to viewport name mismatch %s",3309:"Cannot handle the request %s as componentName not included in usedBy %s",3310:"Viewport %s can handle the request %s",3311:"Viewport is not available as it is inactive",3312:"Viewport is not available as an update is scheduled for %s",3313:"Invoking on children at %s",3314:"Invoking on existing component at %s",3315:"Finished invoking on children, now invoking on own component at %s",3316:"Finished at %s",3317:"Nothing to unload at %s",3318:"Invoking on next component at %s",3319:"Nothing to load at %s",3320:"Compiling residue for %s; plan is set to %s",3321:"Delaying residue compilation for %s until activate",3322:"Finished own component; invoking on children at %s",3323:"Finished at %s",3324:"Invoking on children at %s",3325:"Invoking on existing component at %s",3326:"Finished invoking on children, now invoking on own component at %s",3327:"Finished at %s",3328:"Nothing to unload at %s",3329:"Invoking on next component at %s",3330:"Nothing to load at %s",3331:"Finished own component; invoking on children at %s",3332:"Finished at %s",3333:"Invoking on the current component at %s",3334:"Nothing to deactivate at %s",3335:"Already deactivating at %s",3336:"Invoking canLoad(), loading() and activate() on the next component at %s",3337:"Invoking on the next component at %s",3338:"Nothing to activate at %s",3339:"Running activate on next instead, because there is nothing to deactivate at %s",3340:"Running deactivate on current instead, because there is nothing to activate at %s",3341:"Skipping this level and swapping children instead at %s",3342:"Swapping current and next at %s",3343:"Processing dynamic children at %s",3344:"Scheduling update for %s; plan is set to %s",3345:"Cancelling update for %s",3346:"setting currState to State.currIsEmpty at %s",3347:"setting currState to State.currIsActive at %s",3348:"setting currState to State.currIsActive and reassigning curCA at %s",3349:"disposing at %s",3350:"Unexpected viewport activation outside of a transition context at %s",3351:"Unexpected viewport deactivation outside of a transition context at %s",3352:"Unexpected state at %s of %s",3353:"Unexpected guardsResult %s at %s",3354:"canLoad returned redirect result %s by the component agent %s",3400:"Invalid component %s: must be either a class, a custom element ViewModel, or a (partial) custom element definition",3401:"Neither the route '%s' matched any configured route at '%s' nor a fallback is configured for the viewport '%s' - did you forget to add '%s' to the routes list of the route decorator of '%s'?",3402:"'%s' did not match any configured route or registered component name at '%s' - did you forget to add '%s' to the routes list of the route decorator of '%s'?",3403:'Invalid instruction type %s for "toUrlComponent" operation. If you are seeing this error, then it is probably because of an internal bug. Please report it.',3404:"The given instruction is not compatible for eagerly generating path: %s",3450:"No endpoint found for path '%s'",3500:"Expected %s at index %s of '%s', but got: '%s' (rest='%s')",3501:"Unexpected '%s' at index %s of '%s'",3502:"Unexpected expression kind %s",3550:"Invalid operation, the configuration from the get hook is already applied.",3551:"When retrieving the RouteConfig for a component name, a RouteContext (that can resolve it) must be provided",3552:"Could not find a CustomElement named '%s' in the current container scope of %s. This means the component is neither registered at Aurelia startup nor via the 'dependencies' decorator or static property.",3553:"RouteContext must be provided when resolving an imported module",3554:'Invalid route config property: "%s". Expected %s, but got %s.',3555:"Invalid route config: expected an object or string, but got: %s",3556:'Unknown route config property: "%s.%s". Please specify known properties only.',3557:`Unknown redirect route config property: "%s.%s". Only 'path' and 'redirectTo' should be specified for redirects.`,3558:"Invalid operation, the component is not yet resolved for the navigation strategy (id: %s)."};function R(i,e,...t){const s=ro[e]??"Unknown event";i.trace(`AUR${e}: ${s}`,...t)}function zs(i,e,...t){const s=ro[e]??"Unknown event";i.debug(`AUR${e}: ${s}`,...t)}function tp(i,e,...t){{const s=ro[e];i.warn(`AUR${e}: ${s}`,...t)}}function r_(i,e,...t){{const s=ro[e];i.error(`AUR${e}: ${s}`,...t)}}function W(i,...e){{let t=ro[i],s=0;for(;t.includes("%s")||s<e.length;)t=t.replace("%s",String(e[s++]));return`AUR${i}: ${t}`}}function yo(i,e){throw e.error(i),i}class qe{constructor(e,t,s){this._stack=e,this._cb=t,this._done=!1,this._next=null,this._head=s??this}static _start(e){return new qe(0,e,null)}_push(){let e=this;do++e._stack,e=e._next;while(e!==null)}_pop(){let e=this;do--e._stack===0&&e._invoke(),e=e._next;while(e!==null)}_invoke(){const e=this._cb;e!==null&&(this._cb=null,e(this),this._done=!0)}_continueWith(e){return this._next===null?this._next=new qe(this._stack,e,this._head):this._next._continueWith(e)}_start(){return this._head._push(),this._head._pop(),this}}function Ac(i,e){i=i.slice(),e=e.slice();const t=[];for(;i.length>0;){const s=i.shift(),n=s.context.vpa;if(t.every(r=>r.context.vpa!==n)){const r=e.findIndex(o=>o.context.vpa===n);r>=0?t.push(...e.splice(0,r+1)):t.push(s)}}return t.push(...e),t}function o_(i){try{return JSON.stringify(i)}catch{return Object.prototype.toString.call(i)}}function rn(i){return typeof i=="string"?[i]:i}function sp(i){return typeof i=="string"?i:i[0]}function ia(i,e,t){const s=t?new URLSearchParams(i):i;if(e==null)return s;for(const[n,r]of Object.entries(e))if(r!=null){if(_e(r)){for(const o of r)s.append(n,o);continue}s.append(n,r)}return s}function ip(i,e){if(e==null)return i;for(const[t,s]of Object.entries(e))if(s!=null)if(i[t]==null)i[t]=s;else{const n=i[t];i[t]=[..._e(n)?n:[n],..._e(s)?s:[s]]}return i}const ir=Di.toView,I4=Di.fromView;function Oa(i){return typeof i=="object"&&i!==null&&!Pa(i)}function Ba(i){return Oa(i)&&Object.prototype.hasOwnProperty.call(i,"name")===!0}function La(i){return Oa(i)&&Object.prototype.hasOwnProperty.call(i,"component")===!0}function a_(i){return Oa(i)&&Object.prototype.hasOwnProperty.call(i,"redirectTo")===!0}function oo(i){return Oa(i)&&Object.prototype.hasOwnProperty.call(i,"component")===!0}function Qe(i,e,t){throw new Error(W(3554,e,i,o_(t)))}function To(i,e){if(i==null)throw new Error(W(3555,i));const t=Object.keys(i);for(const s of t){const n=i[s],r=[e,s].join(".");switch(s){case"id":case"viewport":case"redirectTo":typeof n!="string"&&Qe("string",r,n);break;case"caseSensitive":case"nav":typeof n!="boolean"&&Qe("boolean",r,n);break;case"data":(typeof n!="object"||n===null)&&Qe("object",r,n);break;case"title":switch(typeof n){case"string":case"function":break;default:Qe("string or function",r,n)}break;case"path":if(n instanceof Array)for(let o=0;o<n.length;++o)typeof n[o]!="string"&&Qe("string",`${r}[${o}]`,n[o]);else typeof n!="string"&&Qe("string or Array of strings",r,n);break;case"component":Rl(n,r,"component");break;case"routes":{n instanceof Array||Qe("Array",r,n);for(const o of n){const a=`${r}[${n.indexOf(o)}]`;Rl(o,a,"component")}break}case"transitionPlan":switch(typeof n){case"string":switch(n){case"none":case"replace":case"invoke-lifecycles":break;default:Qe("string('none'|'replace'|'invoke-lifecycles') or function",r,n)}break;case"function":break;default:Qe("string('none'|'replace'|'invoke-lifecycles') or function",r,n)}break;case"fallback":Rl(n,r,"fallback");break;default:throw new Error(W(3556,e,s))}}}function R4(i,e){if(i==null)throw new Error(W(3555,i));const t=Object.keys(i);for(const s of t){const n=i[s],r=[e,s].join(".");switch(s){case"path":if(n instanceof Array)for(let o=0;o<n.length;++o)typeof n[o]!="string"&&Qe("string",`${r}[${o}]`,n[o]);else typeof n!="string"&&Qe("string or Array of strings",r,n);break;case"redirectTo":typeof n!="string"&&Qe("string",r,n);break;default:throw new Error(W(3557,e,s))}}}function Rl(i,e,t){switch(typeof i){case"function":break;case"object":if(i instanceof Promise||i instanceof lo)break;if(a_(i)){R4(i,e);break}if(La(i)){To(i,e);break}!Pa(i)&&!Ba(i)&&Qe(`an object with at least a '${t}' property (see Routeable)`,e,i);break;case"string":break;default:Qe("function, object or string (see Routeable)",e,i)}}function l_(i,e){if(i===e)return!0;if(typeof i!=typeof e||i===null||e===null||Object.getPrototypeOf(i)!==Object.getPrototypeOf(e))return!1;const t=Object.keys(i),s=Object.keys(e);if(t.length!==s.length)return!1;for(let n=0,r=t.length;n<r;++n){const o=t[n];if(o!==s[n]||i[o]!==e[o])return!1}return!0}const c_="au-nav-id";class P4{constructor(e,t,s){this._events=e,this._serial=t,this._inner=s,this._disposed=!1}dispose(){if(!this._disposed){this._disposed=!0,this._inner.dispose();const e=this._events._subscriptions;e.splice(e.indexOf(this),1)}}}const Ma=at.createInterface("IRouterEvents",i=>i.singleton(T4));class T4{constructor(){this._subscriptionSerial=0,this._subscriptions=[],this._ea=x(pa),this._logger=x(Me).scopeTo("RouterEvents")}publish(e){R(this._logger,3200,e),this._ea.publish(e.name,e)}subscribe(e,t){const s=new P4(this,++this._subscriptionSerial,this._ea.subscribe(e,n=>{R(this._logger,3201,s._serial,e),t(n)}));return this._subscriptions.push(s),s}}class E4{get name(){return"au:router:location-change"}constructor(e,t,s,n){this.id=e,this.url=t,this.trigger=s,this.state=n}toString(){return`LocationChangeEvent(id:${this.id},url:'${this.url}',trigger:'${this.trigger}')`}}class O4{get name(){return"au:router:navigation-start"}constructor(e,t,s,n){this.id=e,this.instructions=t,this.trigger=s,this.managedState=n}toString(){return`NavigationStartEvent(id:${this.id},instructions:'${this.instructions}',trigger:'${this.trigger}')`}}class B4{get name(){return"au:router:navigation-end"}constructor(e,t,s){this.id=e,this.instructions=t,this.finalInstructions=s}toString(){return`NavigationEndEvent(id:${this.id},instructions:'${this.instructions}',finalInstructions:'${this.finalInstructions}')`}}class L4{get name(){return"au:router:navigation-cancel"}constructor(e,t,s){this.id=e,this.instructions=t,this.reason=s}toString(){return`NavigationCancelEvent(id:${this.id},instructions:'${this.instructions}',reason:${String(this.reason)})`}}class M4{get name(){return"au:router:navigation-error"}constructor(e,t,s){this.id=e,this.instructions=t,this.error=s}toString(){return`NavigationErrorEvent(id:${this.id},instructions:'${this.instructions}',error:${String(this.error)})`}}const h_=at.createInterface("IBaseHref"),u_=at.createInterface("ILocationManager",i=>i.singleton(N4));class N4{constructor(){this._eventId=0,this._logger=x(Me).root.scopeTo("LocationManager"),this._events=x(Ma),this._history=x(J3),this._location=x(X3),this._window=x(Kr),this._baseHref=x(h_),this._event=x(Yh).useUrlFragmentHash?"hashchange":"popstate",zs(this._logger,3100,this._baseHref.href)}startListening(){R(this._logger,3101,this._event),this._window.addEventListener(this._event,this,!1)}stopListening(){R(this._logger,3102,this._event),this._window.removeEventListener(this._event,this,!1)}handleEvent(e){this._events.publish(new E4(++this._eventId,this.getPath(),this._event,"state"in e?e.state:null))}pushState(e,t,s){s=this.addBaseHref(s);try{const n=JSON.stringify(e);R(this._logger,3103,n,t,s)}catch{tp(this._logger,3105,t,s)}this._history.pushState(e,t,s)}replaceState(e,t,s){s=this.addBaseHref(s);try{const n=JSON.stringify(e);R(this._logger,3104,n,t,s)}catch{tp(this._logger,3106,t,s)}this._history.replaceState(e,t,s)}getPath(){const{pathname:e,search:t,hash:s}=this._location;return this.removeBaseHref(`${e}${D4(t)}${s}`)}addBaseHref(e){let t,s=this._baseHref.href;return s.endsWith("/")&&(s=s.slice(0,-1)),s.length===0?t=e:(e.startsWith("/")&&(e=e.slice(1)),t=`${s}/${e}`),t}removeBaseHref(e){const t=this._baseHref.pathname;return e.startsWith(t)&&(e=e.slice(t.length)),d_(e)}}function d_(i){let e,t,s;return(s=i.indexOf("?"))>=0||(s=i.indexOf("#"))>=0?(e=i.slice(0,s),t=i.slice(s)):(e=i,t=""),e.endsWith("/")?e=e.slice(0,-1):e.endsWith("/index.html")&&(e=e.slice(0,-11)),`${e}${t}`}function D4(i){return i.length>0&&!i.startsWith("?")?`?${i}`:i}const Eo=U;class es{get path(){const e=this._path;if(e.length>0)return e;const t=q.getDefinition(this._component);return this._path=[t.name,...t.aliases]}get component(){return this._getComponent()}constructor(e,t,s,n,r,o,a,l,c,u,h,p){this.id=e,this._path=t,this.title=s,this.redirectTo=n,this.caseSensitive=r,this.transitionPlan=o,this.viewport=a,this.data=l,this.routes=c,this.fallback=u,this.nav=p,this._configurationFromHookApplied=!1,this._currentComponent=null,this._component=h,this._isNavigationStrategy=h instanceof lo}static _create(e,t){if(typeof e=="string"||e instanceof Array){const s=rn(e),n=(t==null?void 0:t.redirectTo)??null,r=(t==null?void 0:t.caseSensitive)??!1,o=sp((t==null?void 0:t.id)??(s instanceof Array?s[0]:s)),a=(t==null?void 0:t.title)??null,l=(t==null?void 0:t.transitionPlan)??null,c=(t==null?void 0:t.viewport)??Cn,u=(t==null?void 0:t.data)??{},h=(t==null?void 0:t.routes)??Eo;return new es(o,s,a,n,r,l,c,u,h,(t==null?void 0:t.fallback)??null,t,(t==null?void 0:t.nav)??!0)}else if(typeof e=="object"){const s=e;To(s,"");const n=rn(s.path??(t==null?void 0:t.path)??U),r=s.title??(t==null?void 0:t.title)??null,o=s.redirectTo??(t==null?void 0:t.redirectTo)??null,a=s.caseSensitive??(t==null?void 0:t.caseSensitive)??!1,l=s.id??(t==null?void 0:t.id)??(n instanceof Array?n[0]:n),c=s.transitionPlan??(t==null?void 0:t.transitionPlan)??null,u=s.viewport??(t==null?void 0:t.viewport)??Cn,h={...t==null?void 0:t.data,...s.data},p=[...s.routes??Eo,...(t==null?void 0:t.routes)??Eo];return new es(l,n,r,o,a,c,u,h,p,s.fallback??(t==null?void 0:t.fallback)??null,s.component??t??null,s.nav??!0)}else Qe("string, function/class or object","",e)}_applyChildRouteConfig(e,t){To(e,this.path[0]??"");const s=rn(e.path??this.path);return new es(sp(e.id??this.id??s),s,e.title??this.title,e.redirectTo??this.redirectTo,e.caseSensitive??this.caseSensitive,e.transitionPlan??this.transitionPlan??(t==null?void 0:t.transitionPlan)??null,e.viewport??this.viewport,e.data??this.data,e.routes??this.routes,e.fallback??this.fallback??(t==null?void 0:t.fallback)??null,this._component,e.nav??this.nav)}_getTransitionPlan(e,t,s){if(o(e,t)&&l_(e.params,t.params))return"none";if(s!=null)return s;const n=this.transitionPlan??"replace";return typeof n=="function"?n(e,t):n;function r(a){return a.replace(`/*${Jt}`,"")}function o(a,l){const c=a.finalPath,u=l.finalPath;return c.length===0||u.length===0||r(c)===r(u)}}_applyFromConfigurationHook(e,t,s){if(this._configurationFromHookApplied)throw new Error(W(3550));if(typeof e.getRouteConfig=="function")return T(e.getRouteConfig(t,s),n=>{if(this._configurationFromHookApplied=!0,n==null)return;let r=(t==null?void 0:t.path)??"";typeof r!="string"&&(r=r[0]),To(n,r),this.id=n.id??this.id,this._path=rn(n.path??this.path),this.title=n.title??this.title,this.redirectTo=n.redirectTo??this.redirectTo,this.caseSensitive=n.caseSensitive??this.caseSensitive,this.transitionPlan=n.transitionPlan??this.transitionPlan,this.viewport=n.viewport??this.viewport,this.data=n.data??this.data,this.routes=n.routes??this.routes,this.fallback=n.fallback??this.fallback,this.nav=n.nav??this.nav})}_clone(){return new es(this.id,this.path,this.title,this.redirectTo,this.caseSensitive,this.transitionPlan,this.viewport,this.data,this.routes,this.fallback,this._component,this.nav)}_getFallback(e,t,s){const n=this.fallback;return typeof n=="function"&&!q.isType(n)?n(e,t,s):n}_getComponentName(){try{return this._getComponent().name}catch{return"UNRESOLVED-NAVIGATION-STRATEGY"}}_getComponent(e,t,s,n){if(e==null){if(this._currentComponent!=null)return this._currentComponent;if(this._isNavigationStrategy)throw new Error(W(3558,this.id));return this._currentComponent=this._component}return this._currentComponent??(this._currentComponent=this._isNavigationStrategy?this._component.getComponent(e,t,s,n):this._component)}_handleNavigationStart(){this._isNavigationStrategy&&(this._currentComponent=null)}toString(){let e=`RConf(id: ${this.id}, isNavigationStrategy: ${this._isNavigationStrategy}`;return e+=`, path: [${this.path.join(",")}]`,this.redirectTo&&(e+=`, redirectTo: ${this.redirectTo}`),this.caseSensitive&&(e+=`, caseSensitive: ${this.caseSensitive}`),this.transitionPlan!=null&&(e+=`, transitionPlan: ${this.transitionPlan}`),e+=`, viewport: ${this.viewport}`,this._currentComponent!=null&&(e+=`, component: ${this._currentComponent.name}`),`${e})`}}const ki={name:si("route-configuration"),isConfigured(i){return Rt.has(ki.name,i)},configure(i,e){const t=es._create(i,e);return Rt.define(t,e,ki.name),e},getConfig(i){return ki.isConfigured(i)||ki.configure({},i),Rt.get(ki.name,i)}};function V4(i){return function(e,t){return t.addInitializer(function(){ki.configure(i,this)}),e}}function Lr(i,e,t,s,n){if(a_(i))return es._create(i,null);const[r,o]=Mr(i,n);return r.type===5?es._create({...i,nav:!1},null):T(o,a=>{const l=a.Type,c=ki.getConfig(l);return La(i)?c._applyChildRouteConfig(i,t):e?c._clone():!c._configurationFromHookApplied&&r.type===4&&typeof i.getRouteConfig=="function"?T(c._applyFromConfigurationHook(i,t,s),()=>c):c})}function Mr(i,e){const t=p_(i);let s;switch(t.type){case 5:return[t,null];case 0:{if(e==null)throw new Error(W(3551));let r=e.component.dependencies.find(o=>Ba(o)&&o.name===t.value)??q.find(e.container,t.value);if(r===null)throw new Error(W(3552,t.value,e));r instanceof Le||(r=Le.create(r),q.define(r)),s=r;break}case 2:s=t.value;break;case 4:s=q.getDefinition(t.value.constructor);break;case 3:if(e==null)throw new Error(W(3553));s=e._resolveLazy(t.value);break}return[t,s]}function p_(i){return La(i)?p_(i.component):tt.create(i)}const na=["?","#","/","+","(",")","@","!","=",",","&","'","~",";"];class F4{get _done(){return this._rest.length===0}constructor(e){this._input=e,this._buffers=[],this._bufferIndex=0,this._index=0,this._rest=e}_startsWith(...e){const t=this._rest;return e.some(function(s){return t.startsWith(s)})}_consumeOptional(e){return this._startsWith(e)?(this._rest=this._rest.slice(e.length),this._index+=e.length,this._append(e),!0):!1}_consume(e){this._consumeOptional(e)||this._expect(`'${e}'`)}_expect(e){throw new Error(W(3500,e,this._index,this._input,this._rest,this._rest))}_ensureDone(){if(!this._done)throw new Error(W(3501,this._rest,this._index,this._input))}_advance(){const e=this._rest[0];this._rest=this._rest.slice(1),++this._index,this._append(e)}_record(){this._buffers[this._bufferIndex++]=""}_playback(){const e=--this._bufferIndex,t=this._buffers,s=t[e];return t[e]="",s}_discard(){this._buffers[--this._bufferIndex]=""}_append(e){const t=this._bufferIndex,s=this._buffers;for(let n=0;n<t;++n)s[n]+=e}}const np=new Map;class Ii{get kind(){return"Route"}constructor(e,t,s,n){this.isAbsolute=e,this.root=t,this.queryParams=s,this.fragment=n}static parse(e){const t=e.toString();let s=np.get(t);return s===void 0&&np.set(t,s=Ii._$parse(e)),s}static _$parse(e){const t=e.path;if(t==="")return new Ii(!1,Nr.Empty,e.query,e.fragment);const s=new F4(t);s._record();const n=s._consumeOptional("/"),r=Na._parse(s);return s._ensureDone(),s._discard(),new Ii(n,r,e.query,e.fragment)}toInstructionTree(e){return new nt(e,this.isAbsolute,this.root._toInstructions(0,0),ia(this.queryParams,e.queryParams,!0),this.fragment??e.fragment)}}class Na{get kind(){return"CompositeSegment"}constructor(e){this.siblings=e}static _parse(e){e._record();const t=e._consumeOptional("+"),s=[];do s.push(ra._parse(e));while(e._consumeOptional("+"));return!t&&s.length===1?(e._discard(),s[0]):(e._discard(),new Na(s))}_toInstructions(e,t){switch(this.siblings.length){case 0:return[];case 1:return this.siblings[0]._toInstructions(e,t);case 2:return[...this.siblings[0]._toInstructions(e,0),...this.siblings[1]._toInstructions(0,t)];default:return[...this.siblings[0]._toInstructions(e,0),...this.siblings.slice(1,-1).flatMap(function(s){return s._toInstructions(0,0)}),...this.siblings[this.siblings.length-1]._toInstructions(0,t)]}}}class ra{get kind(){return"ScopedSegment"}constructor(e,t){this.left=e,this.right=t}static _parse(e){e._record();const t=Zh._parse(e);if(e._consumeOptional("/")){const s=ra._parse(e);return e._discard(),new ra(t,s)}return e._discard(),t}_toInstructions(e,t){const s=this.left._toInstructions(e,0),n=this.right._toInstructions(0,t);let r=s[s.length-1];for(;r.children.length>0;)r=r.children[r.children.length-1];return r.children.push(...n),s}}class Zh{get kind(){return"SegmentGroup"}constructor(e){this.expression=e}static _parse(e){if(e._record(),e._consumeOptional("(")){const t=Na._parse(e);return e._consume(")"),e._discard(),new Zh(t)}return e._discard(),Nr._parse(e)}_toInstructions(e,t){return this.expression._toInstructions(e+1,t+1)}}class Nr{get kind(){return"Segment"}static get Empty(){return new Nr(Dr.Empty,Vr.Empty,!0)}constructor(e,t,s){this.component=e,this.viewport=t,this.scoped=s}static _parse(e){e._record();const t=Dr._parse(e),s=Vr._parse(e),n=!e._consumeOptional("!");return e._discard(),new Nr(t,s,n)}_toInstructions(e,t){return[Ge.create({component:this.component.name,params:this.component.parameterList._toObject(),viewport:this.viewport.name,open:e,close:t})]}}class Dr{get kind(){return"Component"}static get Empty(){return new Dr("",Fr.Empty)}constructor(e,t){switch(this.name=e,this.parameterList=t,e.charAt(0)){case":":this.isParameter=!0,this.isStar=!1,this.isDynamic=!0,this.parameterName=e.slice(1);break;case"*":this.isParameter=!1,this.isStar=!0,this.isDynamic=!0,this.parameterName=e.slice(1);break;default:this.isParameter=!1,this.isStar=!1,this.isDynamic=!1,this.parameterName=e;break}}static _parse(e){if(e._record(),e._record(),!e._done)if(e._startsWith("./"))e._advance();else if(e._startsWith("../"))e._advance(),e._advance();else for(;!e._done&&!e._startsWith(...na);)e._advance();const t=e._playback();t.length===0&&e._expect("component name");const s=Fr._parse(e);return e._discard(),new Dr(t,s)}}class Vr{get kind(){return"Viewport"}static get Empty(){return new Vr("")}constructor(e){this.name=e}static _parse(e){e._record();let t=null;if(e._consumeOptional("@")){for(e._record();!e._done&&!e._startsWith(...na);)e._advance();t=decodeURIComponent(e._playback()),t.length===0&&e._expect("viewport name")}return e._discard(),new Vr(t)}}class Fr{get kind(){return"ParameterList"}static get Empty(){return new Fr([])}constructor(e){this.expressions=e}static _parse(e){e._record();const t=[];if(e._consumeOptional("(")){do if(t.push(oa._parse(e,t.length)),!e._consumeOptional(","))break;while(!e._done&&!e._startsWith(")"));e._consume(")")}return e._discard(),new Fr(t)}_toObject(){const e={};for(const t of this.expressions)e[t.key]=t.value;return e}}class oa{get kind(){return"Parameter"}static get Empty(){return new oa("","")}constructor(e,t){this.key=e,this.value=t}static _parse(e,t){for(e._record(),e._record();!e._done&&!e._startsWith(...na);)e._advance();let s=e._playback();s.length===0&&e._expect("parameter key");let n;if(e._consumeOptional("=")){for(e._record();!e._done&&!e._startsWith(...na);)e._advance();n=decodeURIComponent(e._playback()),n.length===0&&e._expect("parameter value")}else n=s,s=t.toString();return e._discard(),new oa(s,n)}}class j4{constructor(e,t){this.viewportName=e,this.componentName=t}toString(){return`VR(viewport:'${this.viewportName}',component:'${this.componentName}')`}}const rp=new WeakMap;class aa{get _currState(){return this._state&16256}set _currState(e){this._state=this._state&127|e}get _nextState(){return this._state&127}set _nextState(e){this._state=this._state&16256|e}constructor(e,t,s){this.viewport=e,this.hostController=t,this._isActive=!1,this._curCA=null,this._nextCA=null,this._state=8256,this._$plan="replace",this._currNode=null,this._nextNode=null,this._currTransition=null,this._cancellationPromise=null,this._logger=s.container.get(Me).scopeTo(`ViewportAgent<${s.routeConfigContext._friendlyPath}>`),R(this._logger,3300)}static for(e,t){let s=rp.get(e);if(s===void 0){const n=Ze.getCachedOrThrow(e);rp.set(e,s=new aa(e,n,t))}return s}_activateFromViewport(e,t){const s=this._currTransition;s!==null&&Kt(s),this._isActive=!0;const n=this._logger.scopeTo("activateFromViewport()");switch(this._nextState){case 64:switch(this._currState){case 8192:R(n,3301,this);return;case 4096:return R(n,3302,this),this._curCA._activate(e,t);default:this._unexpectedState("activateFromViewport 1")}case 2:{if(this._currTransition===null)throw new Error(W(3350,this));R(n,3303,this);const r=qe._start(a=>{this._activate(e,this._currTransition,a)}),o=new Promise(a=>{r._continueWith(()=>{a()})});return r._start()._done?void 0:o}default:this._unexpectedState("activateFromViewport 2")}}_deactivateFromViewport(e,t){const s=this._currTransition;s!==null&&Kt(s),this._isActive=!1;const n=this._logger.scopeTo("deactivateFromViewport()");switch(this._currState){case 8192:R(n,3304,this);return;case 4096:return R(n,3305,this),this._curCA._deactivate(e,t);case 128:R(n,3306,this);return;default:{if(this._currTransition===null)throw new Error(W(3351,this));R(n,3307,this);const r=qe._start(a=>{this._deactivate(e,this._currTransition,a)}),o=new Promise(a=>{r._continueWith(()=>{a()})});return r._start()._done?void 0:o}}}_handles(e){if(!this._isAvailable())return!1;const t=this.viewport,s=e.viewportName,n=t.name,r=this._logger.scopeTo("handles()");if(s!==Cn&&n!==s)return R(r,3308,e,n),!1;const o=t.usedBy;return o.length>0&&!o.split(",").includes(e.componentName)?(R(r,3309,e,o),!1):(R(r,3310,n,e),!0)}_isAvailable(){const e=this._logger.scopeTo("isAvailable()");return this._isActive?this._nextState!==64?(R(e,3312,this._nextNode),!1):!0:(R(e,3311),!1)}_canUnload(e,t){if(this._currTransition===null&&(this._currTransition=e),Kt(e),e.guardsResult!==!0)return;t._push();const s=this._logger.scopeTo("canUnload()");T(this._cancellationPromise,()=>{qe._start(n=>{R(s,3313,this);for(const r of this._currNode.children)r.context.vpa._canUnload(e,n)})._continueWith(n=>{switch(this._currState){case 4096:switch(R(s,3314,this),this._$plan){case"none":this._currState=1024;return;case"invoke-lifecycles":case"replace":this._currState=2048,n._push(),qe._start(r=>{R(s,3315,this),this._curCA._canUnload(e,this._nextNode,r)})._continueWith(()=>{R(s,3316,this),this._currState=1024,n._pop()})._start();return}case 8192:R(s,3317,this);return;default:e._handleError(new Error(`Unexpected state at canUnload of ${this}`))}})._continueWith(()=>{t._pop()})._start()})}_canLoad(e,t){if(this._currTransition===null&&(this._currTransition=e),Kt(e),e.guardsResult!==!0)return;t._push();const s=this._logger.scopeTo("canLoad()");qe._start(n=>{switch(this._nextState){case 32:switch(R(s,3318,this),this._nextState=16,this._$plan){case"none":return;case"invoke-lifecycles":return this._curCA._canLoad(e,this._nextNode,n);case"replace":n._push(),T(this._nextNode.context._createComponentAgent(this.hostController,this._nextNode),r=>{(this._nextCA=r)._canLoad(e,this._nextNode,n),n._pop()})}case 64:R(s,3319,this);return;default:this._unexpectedState("canLoad")}})._continueWith(n=>{if(e.guardsResult!==!0){R(s,3354,e.guardsResult,this._nextCA);return}const r=this._nextNode;switch(this._$plan){case"none":case"invoke-lifecycles":{R(s,3320,r,this._$plan),n._push();const o=r.context;T(o.routeConfigContext.allResolved,()=>T(T(le(...r.residue.splice(0).map(a=>$i(this._logger,r,a))),()=>le(...o.getAvailableViewportAgents().reduce((a,l)=>{const c=l.viewport,u=c.default;return u===null||a.push($i(this._logger,r,Ge.create({component:u,viewport:c.name}))),a},[]))),()=>{n._pop()}));return}case"replace":R(s,3321,r);return}})._continueWith(n=>{switch(this._nextState){case 16:R(s,3322,this),this._nextState=8;for(const r of this._nextNode.children)r.context.vpa._canLoad(e,n);return;case 64:return;default:this._unexpectedState("canLoad")}})._continueWith(()=>{R(s,3323,this),t._pop()})._start()}_unloading(e,t){Kt(e),zn(this,e),t._push();const s=this._logger.scopeTo("unloading()");qe._start(n=>{R(s,3324,this);for(const r of this._currNode.children)r.context.vpa._unloading(e,n)})._continueWith(n=>{switch(this._currState){case 1024:switch(R(s,3325,this),this._$plan){case"none":this._currState=256;return;case"invoke-lifecycles":case"replace":this._currState=512,n._push(),qe._start(r=>{R(s,3326,this),this._curCA._unloading(e,this._nextNode,r)})._continueWith(()=>{R(s,3327,this),this._currState=256,n._pop()})._start();return}case 8192:R(s,3328,this);for(const r of this._currNode.children)r.context.vpa._unloading(e,t);return;default:this._unexpectedState("unloading")}})._continueWith(()=>{t._pop()})._start()}_loading(e,t){Kt(e),zn(this,e),t._push();const s=this._logger.scopeTo("loading()");qe._start(n=>{switch(this._nextState){case 8:switch(R(s,3329,this),this._nextState=4,this._$plan){case"none":return;case"invoke-lifecycles":return this._curCA._loading(e,this._nextNode,n);case"replace":return this._nextCA._loading(e,this._nextNode,n)}case 64:R(s,3330,this);return;default:this._unexpectedState("loading")}})._continueWith(n=>{switch(this._nextState){case 4:R(s,3331,this),this._nextState=2;for(const r of this._nextNode.children)r.context.vpa._loading(e,n);return;case 64:return;default:this._unexpectedState("loading")}})._continueWith(()=>{R(s,3332,this),t._pop()})._start()}_deactivate(e,t,s){Kt(t),zn(this,t),s._push();const n=this._logger.scopeTo("deactivate()");switch(this._currState){case 256:switch(R(n,3333,this),this._currState=128,this._$plan){case"none":case"invoke-lifecycles":s._pop();return;case"replace":{const r=this.hostController,o=this._curCA;t._run(()=>T(o._deactivate(e,r),()=>{e===null&&o._dispose()}),()=>{s._pop()})}}return;case 8192:R(n,3334,this),s._pop();return;case 128:R(n,3335,this),s._pop();return;default:this._unexpectedState("deactivate")}}_activate(e,t,s){Kt(t),zn(this,t),s._push();const n=this._logger.scopeTo("activate()");if(this._nextState===32){R(n,3336,this),qe._start(r=>{this._canLoad(t,r)})._continueWith(r=>{this._loading(t,r)})._continueWith(r=>{this._activate(e,t,r)})._continueWith(()=>{s._pop()})._start();return}switch(this._nextState){case 2:R(n,3337,this),this._nextState=1,qe._start(r=>{switch(this._$plan){case"none":case"invoke-lifecycles":return;case"replace":{const o=this.hostController;t._run(()=>(r._push(),this._nextCA._activate(e,o)),()=>{r._pop()})}}})._continueWith(r=>{this._processDynamicChildren(t,r)})._continueWith(()=>{s._pop()})._start();return;case 64:R(n,3338,this),s._pop();return;default:this._unexpectedState("activate")}}_swap(e,t){const s=this._logger.scopeTo("swap()");if(this._currState===8192){R(s,3339,this),this._activate(null,e,t);return}if(this._nextState===64){R(s,3340,this),this._deactivate(null,e,t);return}switch(Kt(e),zn(this,e),this._currState===256&&this._nextState===2||this._unexpectedState("swap"),this._currState=128,this._nextState=1,this._$plan){case"none":case"invoke-lifecycles":{R(s,3341,this);const n=Ac(this._nextNode.children,this._currNode.children);for(const r of n)r.context.vpa._swap(e,t);return}case"replace":{R(s,3342,this);const n=this.hostController,r=this._curCA,o=this._nextCA;t._push(),qe._start(a=>{e._run(()=>(a._push(),T(r._deactivate(null,n),()=>r._dispose())),()=>{a._pop()})})._continueWith(a=>{e._run(()=>(a._push(),o._activate(null,n)),()=>{a._pop()})})._continueWith(a=>{this._processDynamicChildren(e,a)})._continueWith(()=>{t._pop()})._start();return}}}_processDynamicChildren(e,t){R(this._logger,3343,this);const s=this._nextNode;e._run(()=>{t._push();const n=s.context;return T(n.routeConfigContext.allResolved,()=>{const r=s.children.slice();return T(le(...s.residue.splice(0).map(o=>$i(this._logger,s,o))),()=>T(le(...n.getAvailableViewportAgents().reduce((o,a)=>{const l=a.viewport,c=l.default;return c===null||o.push($i(this._logger,s,Ge.create({component:c,viewport:l.name}))),o},[])),()=>s.children.filter(o=>!r.includes(o))))})},n=>{qe._start(r=>{for(const o of n)e._run(()=>(r._push(),o.context.vpa._canLoad(e,r)),()=>{r._pop()})})._continueWith(r=>{if(e.guardsResult===!0)for(const o of n)e._run(()=>(r._push(),o.context.vpa._loading(e,r)),()=>{r._pop()})})._continueWith(r=>{if(e.guardsResult===!0)for(const o of n)e._run(()=>(r._push(),o.context.vpa._activate(null,e,r)),()=>{r._pop()})})._continueWith(()=>{t._pop()})._start()})}_scheduleUpdate(e,t){var n;switch(this._nextState){case 64:this._nextNode=t,this._nextState=32;break;default:this._unexpectedState("scheduleUpdate 1")}switch(this._currState){case 8192:case 4096:case 1024:break;default:this._unexpectedState("scheduleUpdate 2")}const s=((n=this._curCA)==null?void 0:n._routeNode)??null;s===null||s.component!==t.component?this._$plan="replace":this._$plan=t.context.routeConfigContext.config._getTransitionPlan(s,t,e.transitionPlan),R(this._logger,3344,this)}_cancelUpdate(){var s,n;this._currNode!==null&&this._currNode.children.forEach(function(r){r.context.vpa._cancelUpdate()}),this._nextNode!==null&&this._nextNode.children.forEach(function(r){r.context.vpa._cancelUpdate()}),R(this._logger,3345,this._nextNode);let e=null,t=null;switch(this._currState){case 8192:case 4096:this._currTransition=null;break;case 2048:case 1024:this._currState=4096,this._currTransition=null;break;case 512:case 256:case 128:e=T((s=this._curCA)==null?void 0:s._deactivate(null,this.hostController),()=>{var r;(r=this._curCA)==null||r._dispose(),this._currState=8192,this._curCA=null});break}switch(this._nextState){case 64:case 32:case 16:case 8:this._nextNode=null,this._nextState=64;break;case 4:case 2:case 1:{t=T((n=this._nextCA)==null?void 0:n._deactivate(null,this.hostController),()=>{var r;(r=this._nextCA)==null||r._dispose(),this._$plan="replace",this._nextState=64,this._nextCA=null,this._nextNode=null});break}}e!==null&&t!==null&&(this._cancellationPromise=T(le(e,t),()=>{this._currTransition=null,this._cancellationPromise=null}))}_endTransition(){if(this._currNode!==null&&this._currNode.children.forEach(function(e){e.context.vpa._endTransition()}),this._nextNode!==null&&this._nextNode.children.forEach(function(e){e.context.vpa._endTransition()}),this._currTransition!==null){const e=this._logger.scopeTo("endTransition()");switch(Kt(this._currTransition),this._nextState){case 64:switch(this._currState){case 8192:case 128:R(e,3346,this),this._currState=8192,this._curCA=null;break;default:this._unexpectedState("endTransition 1")}break;case 1:switch(this._currState){case 8192:case 128:switch(this._$plan){case"none":R(e,3347,this),this._currState=4096;break;case"invoke-lifecycles":R(e,3347,this),this._currState=4096,this._curCA._routeNode=this._nextNode;break;case"replace":R(e,3348,this),this._currState=4096,this._curCA=this._nextCA;break}this._currNode=this._nextNode;break;default:this._unexpectedState("endTransition 2")}break;default:this._unexpectedState("endTransition 3")}this._$plan="replace",this._nextState=64,this._nextNode=null,this._nextCA=null,this._currTransition=null}}toString(){return`VPA(state:${z4(this._state)},plan:'${this._$plan}',n:${this._nextNode},c:${this._currNode},viewport:${this.viewport})`}_dispose(){var e;R(this._logger,3349,this),(e=this._curCA)==null||e._dispose()}_unexpectedState(e){throw new Error(W(3352,e,this))}}function zn(i,e){if(e.guardsResult!==!0)throw new Error(W(3353,e.guardsResult,i))}function Kt(i){if(i.error!==void 0&&!i.erredWithUnknownRoute)throw i.error}const op=new Map;function z4(i){let e=op.get(i);return e===void 0&&op.set(i,e=H4(i)),e}function H4(i){const e=[];return(i&8192)===8192&&e.push("currIsEmpty"),(i&4096)===4096&&e.push("currIsActive"),(i&2048)===2048&&e.push("currCanUnload"),(i&1024)===1024&&e.push("currCanUnloadDone"),(i&512)===512&&e.push("currUnload"),(i&256)===256&&e.push("currUnloadDone"),(i&128)===128&&e.push("currDeactivate"),(i&64)===64&&e.push("nextIsEmpty"),(i&32)===32&&e.push("nextIsScheduled"),(i&16)===16&&e.push("nextCanLoad"),(i&8)===8&&e.push("nextCanLoadDone"),(i&4)===4&&e.push("nextLoad"),(i&2)===2&&e.push("nextLoadDone"),(i&1)===1&&e.push("nextActivate"),e.join("|")}class jr{get root(){return this._tree.root}get isInstructionsFinalized(){return this._isInstructionsFinalized}constructor(e,t,s,n,r,o,a,l,c,u,h,p,d){this.path=e,this.finalPath=t,this.context=s,this._originalInstruction=n,this.instruction=r,this.params=o,this.queryParams=a,this.fragment=l,this.data=c,this._viewport=u,this.title=h,this.component=p,this.residue=d,this._version=1,this._isInstructionsFinalized=!1,this.children=[],this._originalInstruction??(this._originalInstruction=r)}static create(e){const{[Jt]:t,...s}=e.params??{};return new jr(e.path,e.finalPath,e.context,e.originalInstruction??e.instruction,e.instruction,Object.freeze(s),e.queryParams??ao,e.fragment??null,Object.freeze(e.data??Ke),e._viewport??null,e.title??null,e.component,e.residue??[])}contains(e,t=!1){var s,n;if(this.context.routeConfigContext===e.options.context.routeConfigContext){const r=this.children,o=e.children;for(let a=0,l=r.length;a<l;++a)for(let c=0,u=o.length;c<u;++c){const h=o[c],p=t?(s=h.recognizedRoute)==null?void 0:s.route.endpoint:null,d=r[a+c]??null,g=d!==null?d.isInstructionsFinalized?d.instruction:d._originalInstruction:null,f=(n=g==null?void 0:g.recognizedRoute)==null?void 0:n.route.endpoint;if(a+c<l&&(((p==null?void 0:p.equalsOrResidual(f))??!1)||((g==null?void 0:g.contains(h))??!1))){if(c+1===u)return!0}else break}}return this.children.some(function(r){return r.contains(e,t)})}_appendChild(e){this.children.push(e),e._setTree(this._tree)}_clearChildren(){for(const e of this.children)e._clearChildren(),e.context.vpa._cancelUpdate();this.children.length=0}getTitle(e){const t=[...this.children.map(s=>s.getTitle(e)),typeof this.title=="function"?this.title.call(void 0,this):this.title].filter(s=>s!==null);return t.length===0?null:t.join(e)}computeAbsolutePath(){if(this.context.routeConfigContext.isRoot)return"";const e=this.context.parent.node.computeAbsolutePath(),t=this.instruction.toUrlComponent(!1);return e.length>0?t.length>0?`${e}/${t}`:e:t}_setTree(e){this._tree=e;for(const t of this.children)t._setTree(e)}_finalizeInstruction(){this._isInstructionsFinalized=!0;const e=this.children.map(s=>s._finalizeInstruction()),t=this.instruction._clone();return t.children.splice(0,t.children.length,...e),this.instruction=t}_clone(){const e=new jr(this.path,this.finalPath,this.context,this._originalInstruction,this.instruction,this.params,this.queryParams,this.fragment,this.data,this._viewport,this.title,this.component,[...this.residue]),t=this.children,s=t.length;for(let n=0;n<s;++n)e.children.push(t[n]._clone());return e._version=this._version+1,e.context.node===this&&(e.context.node=e),e}toString(){var n,r,o;const e=[],t=((n=this.context)==null?void 0:n.routeConfigContext.config._getComponentName())??"";t.length>0&&e.push(`c:'${t}'`);const s=((r=this.context)==null?void 0:r.routeConfigContext.config.path)??"";return s.length>0&&e.push(`path:'${s}'`),this.children.length>0&&e.push(`children:[${this.children.map(String).join(",")}]`),this.residue.length>0&&e.push(`residue:${this.residue.map(function(a){return typeof a=="string"?`'${a}'`:String(a)}).join(",")}`),`RN(ctx:'${(o=this.context)==null?void 0:o.routeConfigContext._friendlyPath}',${e.join(",")})`}}class Xh{constructor(e,t,s,n){this.options=e,this.queryParams=t,this.fragment=s,this.root=n}contains(e,t=!1){return this.root.contains(e,t)}_clone(){const e=new Xh(this.options._clone(),this.queryParams,this.fragment,this.root._clone());return e.root._setTree(this),e}_finalizeInstructions(){return new nt(this.options,!0,this.root.children.map(e=>e._finalizeInstruction()),this.queryParams,this.fragment)}_mergeQuery(e){this.queryParams=Object.freeze(ia(this.queryParams,e,!0))}toString(){return this.root.toString()}}function $i(i,e,t){var s;switch(i.trace("createAndAppendNodes(node:%s,vi:%s",e,t),t.component.type){case 0:switch(t.component.value){case"..":e=((s=e.context.parent)==null?void 0:s.node)??e,e._clearChildren();case".":return le(...t.children.map(n=>$i(i,e,n)));default:{i.trace("createAndAppendNodes invoking createNode");const n=e.context,r=t._clone();let o=t.recognizedRoute;if(o!==null)return Ns(i,e,Vs(i,e,t,o,r));if(t.children.length===0){const d=n.routeConfigContext._generateViewportInstruction(t);if(d!==null){e._tree._mergeQuery(d.query);const g=d.vi;return g.children.push(...t.children),Ns(i,e,Vs(i,e,g,g.recognizedRoute,t))}}let a=0,l=t.component.value,c=t;for(;c.children.length===1&&(c=c.children[0],c.component.type===0);)++a,l=`${l}/${c.component.value}`;o=n.routeConfigContext.recognize(l),i.trace("createNode recognized route: %s",o);const u=(o==null?void 0:o.residue)??null;i.trace("createNode residue:",u);const h=u===null;if(o===null||u===l){const d=n.routeConfigContext._generateViewportInstruction({component:t.component.value,params:t.params??Ke,open:t.open,close:t.close,viewport:t.viewport,children:t.children});if(d!==null)return e._tree._mergeQuery(d.query),Ns(i,e,Vs(i,e,d.vi,d.vi.recognizedRoute,t));const g=t.component.value;if(g==="")return;let f=t.viewport;(f===null||f.length===0)&&(f=Cn);const _=n.getFallbackViewportAgent(f),b=_!==null?_.viewport._getFallback(t,e,n):n.routeConfigContext.config._getFallback(t,e,n);if(b===null)throw new Jh(W(3401,g,n.routeConfigContext._friendlyPath,f,g,n.routeConfigContext.component.name));if(typeof b=="string"){i.trace(`Fallback is set to '${b}'. Looking for a recognized route.`);const v=n.routeConfigContext.childRoutes.find(m=>m.id===b);if(v!==void 0)return Ns(i,e,ap(i,v,e,t));i.trace(`No route configuration for the fallback '${b}' is found; trying to recognize the route.`);const $=n.routeConfigContext.recognize(b,!0);if($!==null&&$.residue!==b)return Ns(i,e,Vs(i,e,t,$,null))}return i.trace(`The fallback '${b}' is not recognized as a route; treating as custom element name.`),T(Lr(b,!1,n.routeConfigContext.config,null,n.routeConfigContext),v=>Ns(i,e,ap(i,v,e,t)))}o.residue=null,t.component.value=h?l:l.slice(0,-(u.length+1));let p=!h;for(let d=0;d<a;++d){const g=t.children[0];if((u==null?void 0:u.startsWith(g.component.value))??!1){p=!1;break}t.viewport=g.viewport,t.children=g.children}return p&&t.children.unshift(Ge.create(u)),t.recognizedRoute=o,i.trace("createNode after adjustment vi:%s",t),Ns(i,e,Vs(i,e,t,o,r))}}case 3:case 4:case 2:{const n=e.context;return T(Mr(t.component.value,n.routeConfigContext)[1],r=>{const{vi:o,query:a}=n.routeConfigContext._generateViewportInstruction({component:r,params:t.params??Ke,open:t.open,close:t.close,viewport:t.viewport,children:t.children});return e._tree._mergeQuery(a),Ns(i,e,Vs(i,e,o,o.recognizedRoute,t))})}}}function Vs(i,e,t,s,n,r=s.route.endpoint.route){const o=e.context,a=e._tree;return T(r.handler,l=>{var m;if(r.handler=l,i.trace("creatingConfiguredNode(rdc:%s, vi:%s)",l,t),l.redirectTo===null){const C=(((m=t.viewport)==null?void 0:m.length)??0)>0,O=C?t.viewport:l.viewport;return T(Mr(l._getComponent(t,o,e,s.route),o.routeConfigContext)[1],P=>{const N=o._resolveViewportAgent(new j4(O,P.name));C||(t.viewport=N.viewport.name);const D=o.container.get(Zs);return T(D.getRouteContext(N,P,null,N.hostController.container,o.routeConfigContext.config,o,l),F=>{i.trace("createConfiguredNode setting the context node");const fe=F.node=jr.create({path:s.route.endpoint.route.path,finalPath:r.path,context:F,instruction:t,originalInstruction:n,params:s.route.params,queryParams:a.queryParams,fragment:a.fragment,data:l.data,_viewport:O,component:P,title:l.title,residue:t.children.slice()});return fe._setTree(e._tree),i.trace("createConfiguredNode(vi:%s) -> %s",t,fe),fe})})}const c=Ii.parse(Ic.parse(r.path)),u=Ii.parse(Ic.parse(l.redirectTo));let h,p;const d=[];switch(c.root.kind){case"ScopedSegment":case"Segment":h=c.root;break;default:throw new Error(W(3502,c.root.kind))}switch(u.root.kind){case"ScopedSegment":case"Segment":p=u.root;break;default:throw new Error(W(3502,u.root.kind))}let g,f,_=!1,b=!1;for(;!(_&&b);){if(_)g=null;else if(h.kind==="Segment")g=h,_=!0;else if(h.left.kind==="Segment")switch(g=h.left,h.right.kind){case"ScopedSegment":case"Segment":h=h.right;break;default:throw new Error(W(3502,h.right.kind))}else throw new Error(W(3502,h.left.kind));if(b)f=null;else if(p.kind==="Segment")f=p,b=!0;else if(p.left.kind==="Segment")switch(f=p.left,p.right.kind){case"ScopedSegment":case"Segment":p=p.right;break;default:throw new Error(W(3502,p.right.kind))}else throw new Error(W(3502,p.left.kind));f!==null&&(f.component.isDynamic&&((g==null?void 0:g.component.isDynamic)??!1)?d.push(s.route.params[f.component.parameterName]):d.push(f.component.name))}const v=d.filter(Boolean).join("/"),$=o.routeConfigContext.recognize(v);if($===null)throw new Jh(W(3402,v,o.routeConfigContext._friendlyPath,v,o.routeConfigContext.component.name));return Vs(i,e,Ge.create({recognizedRoute:$,component:v,children:t.children,viewport:t.viewport,open:t.open,close:t.close}),$,n)})}function Ns(i,e,t){return T(t,s=>(i.trace("appendNode($childNode:%s)",s),e._appendChild(s),s.context.vpa._scheduleUpdate(e._tree.options,s)))}function ap(i,e,t,s){const n=new ua(new Ea(new n_(new i_(e.path[0],e.caseSensitive,e),[]),Ke),null);return s.children.length=0,Vs(i,t,s,n,null)}const ao=Object.freeze(new URLSearchParams);function G4(i){return Ri(i)&&Object.prototype.hasOwnProperty.call(i,c_)===!0}function lp(i,e){return{...i,[c_]:e}}class Jh extends Error{}class la{get erredWithUnknownRoute(){return this._erredWithUnknownRoute}constructor(e,t,s,n,r,o,a,l,c,u,h,p,d,g,f){this.id=e,this.prevInstructions=t,this.instructions=s,this.finalInstructions=n,this.instructionsChanged=r,this.trigger=o,this.options=a,this.managedState=l,this.previousRouteTree=c,this.routeTree=u,this.promise=h,this.resolve=p,this.reject=d,this.guardsResult=g,this.error=f,this._erredWithUnknownRoute=!1}static _create(e){return new la(e.id,e.prevInstructions,e.instructions,e.finalInstructions,e.instructionsChanged,e.trigger,e.options,e.managedState,e.previousRouteTree,e.routeTree,e.promise,e.resolve,e.reject,e.guardsResult,void 0)}_run(e,t){if(this.guardsResult===!0)try{const s=e();s instanceof Promise?s.then(t).catch(n=>{this._handleError(n)}):t(s)}catch(s){this._handleError(s)}}_handleError(e){this._erredWithUnknownRoute=e instanceof Jh,this.reject(this.error=e)}toString(){return`T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions})`}}const Zs=at.createInterface("IRouter",i=>i.singleton(ca));class ca{get _ctx(){const e=this._$ctx;if(e!==null)return e;if(!this._container.has(wt,!0))throw new Error(W(3271));return this._$ctx=this._container.get(wt)}get routeTree(){let e=this._routeTree;if(e===null){const t=this._ctx;e=this._routeTree=new Xh(ss.create(this.options,{}),ao,null,jr.create({path:"",finalPath:"",context:t,instruction:null,component:q.getDefinition(t.routeConfigContext.config.component),title:t.routeConfigContext.config.title}))}return e}get currentTr(){return this._currentTr??(this._currentTr=la._create({id:0,prevInstructions:this._instructions,instructions:this._instructions,finalInstructions:this._instructions,instructionsChanged:!0,trigger:"api",options:ss.create(this.options,{}),managedState:null,previousRouteTree:this.routeTree._clone(),routeTree:this.routeTree,resolve:null,reject:null,promise:null,guardsResult:!0,error:void 0}))}set currentTr(e){this._currentTr=e}get isNavigating(){return this._isNavigating}constructor(){this._$ctx=null,this._routeTree=null,this._currentTr=null,this._navigated=!1,this._navigationId=0,this._nextTr=null,this._locationChangeSubscription=null,this._hasTitleBuilder=!1,this._activeContexts=[],this._isNavigating=!1,this._container=x(Ni),this._p=x(Ve),this._logger=x(Me).root.scopeTo("Router"),this._events=x(Ma),this._locationMgr=x(u_),this.options=x(Yh),this._routeConfigLookup=new WeakMap,this._vpaLookup=new Map,this._instructions=nt.create("",this.options,null,null),this._container.registerResolver(ca,Pt.instance(ca,this))}_resolveContext(e){return As.resolve(this._ctx,e)}start(e){if(this._hasTitleBuilder=typeof this.options.buildTitle=="function",this._locationMgr.startListening(),this._locationChangeSubscription=this._events.subscribe("au:router:location-change",t=>{this._p.taskQueue.queueTask(()=>{const s=G4(t.state)?t.state:null,n=this.options,r=ss.create(n,{historyStrategy:"replace"}),o=nt.create(t.url,n,r,this._ctx);this._enqueue(o,t.trigger,s,null)})}),!this._navigated&&e)return this.load(this._locationMgr.getPath(),{historyStrategy:this.options.historyStrategy!=="none"?"replace":"none"})}stop(){var e;this._locationMgr.stopListening(),(e=this._locationChangeSubscription)==null||e.dispose()}load(e,t){return T(this.createViewportInstructions(e,t??null),s=>(R(this._logger,3250,s),this._enqueue(s,"api",null,null)))}isActive(e,t){const s=this._resolveContext(t),n=e instanceof nt?e:this.createViewportInstructions(e,{context:s,historyStrategy:this.options.historyStrategy});return R(this._logger,3251,n,s),this.routeTree.contains(n,!1)}getRouteContext(e,t,s,n,r,o,a){const l=n.get(Me).scopeTo("RouteContext");return T(this.getRouteConfigContext(a,t,s,n,r,(o==null?void 0:o.routeConfigContext)??null),c=>{let u=this._vpaLookup.get(e);u===void 0&&this._vpaLookup.set(e,u=new WeakMap);let h=u.get(c);if(h!==void 0)return R(l,3252,c),h;R(l,3253,c);const p=n.has(wt,!0)?n.get(wt):null;return u.set(c,h=new As(e,p,n,this,c,this._locationMgr)),h})}getRouteConfigContext(e,t,s,n,r,o){return T(e instanceof es&&!e._isNavigationStrategy?e:Lr(typeof(s==null?void 0:s.getRouteConfig)=="function"?s:t.Type,!1,r,null,o),a=>{let l=this._routeConfigLookup.get(a);return l!=null||(l=new Z4(o,t,a,n,this),this._routeConfigLookup.set(a,l)),l})}generatePath(e,t){return T(this.createViewportInstructions(Rc(e),{context:t??this._ctx},!0),s=>s.toUrl(!0,this.options._urlParser))}createViewportInstructions(e,t,s){if(e instanceof nt)return e;let n=(t==null?void 0:t.context)??null;return n!==null&&(n=t.context=this._resolveContext(n)),(n??this._$ctx).createViewportInstructions(e,t,s)}_enqueue(e,t,s,n){const r=this.currentTr,o=this._logger;if(t!=="api"&&r.trigger==="api"&&r.instructions.equals(e))return zs(o,3254,t),!0;let a,l,c;const u=this.options.restorePreviousRouteTreeOnError;n===null||n.erredWithUnknownRoute||n.error!=null&&u?c=new Promise(function(p,d){a=p,l=d}):(zs(o,3255,n),c=n.promise,a=n.resolve,l=n.reject);const h=this._nextTr=la._create({id:++this._navigationId,trigger:t,managedState:s,prevInstructions:r.finalInstructions,finalInstructions:e,instructionsChanged:!r.finalInstructions.equals(e),instructions:e,options:e.options,promise:c,resolve:a,reject:l,previousRouteTree:this.routeTree,routeTree:this._routeTree=this.routeTree._clone(),guardsResult:!0,error:void 0});if(zs(o,3256,h),!this._isNavigating)try{this._run(h)}catch(p){h._handleError(p)}return h.promise.then(p=>(zs(o,3257,h),p)).catch(p=>{if(r_(o,3270,h,p),h.erredWithUnknownRoute)this._cancelNavigation(h);else if(this._isNavigating=!1,this._events.publish(new M4(h.id,h.instructions,p)),u)this._cancelNavigation(h);else{const d=this._nextTr;d!==null?d.previousRouteTree=h.previousRouteTree:this._routeTree=h.previousRouteTree}throw p})}_run(e){this.currentTr=e,this._nextTr=null,this._isNavigating=!0;for(const n of this._activeContexts)n.routeConfigContext._handleNavigationStart();let t=this._resolveContext(e.options.context);const s=this._logger.scopeTo("run()");if(R(s,3258,e),this._events.publish(new O4(e.id,e.instructions,e.trigger,e.managedState)),this._nextTr!==null)return zs(s,3259,e),this._run(this._nextTr);e._run(()=>{const n=e.finalInstructions;R(s,3260,n);const r=this._ctx,o=e.routeTree;o.options=n.options,o.queryParams=r.node._tree.queryParams=n.queryParams,o.fragment=r.node._tree.fragment=n.fragment;const a=t.container.get(Me).scopeTo("RouteTree");n.isAbsolute&&(t=r),t===r&&(o.root._setTree(o),r.node=o.root);const l=t.routeConfigContext.allResolved instanceof Promise?" - awaiting promise":"";return a.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${l}`,r,o,n),T(t.routeConfigContext.allResolved,()=>f_(a,n,t,r.node))},()=>{const n=e.previousRouteTree.root.children,r=e.routeTree.root.children,o=Ac(n,r);qe._start(a=>{R(s,3261,n.length);for(const l of n)l.context.vpa._canUnload(e,a)})._continueWith(a=>{e.guardsResult!==!0&&(a._push(),this._cancelNavigation(e))})._continueWith(a=>{R(s,3262,r.length);for(const l of r)l.context.vpa._canLoad(e,a)})._continueWith(a=>{e.guardsResult!==!0&&(a._push(),this._cancelNavigation(e))})._continueWith(a=>{R(s,3263,n.length);for(const l of n)l.context.vpa._unloading(e,a)})._continueWith(a=>{R(s,3264,r.length);for(const l of r)l.context.vpa._loading(e,a)})._continueWith(a=>{R(s,3265,o.length);for(const l of o)l.context.vpa._swap(e,a)})._continueWith(a=>{e.guardsResult!==!0&&(a._push(),this._cancelNavigation(e))})._continueWith(()=>{R(s,3266),o.forEach(function(l){l.context.vpa._endTransition()}),this._navigated=!0,this._instructions=e.finalInstructions=e.routeTree._finalizeInstructions(),this._isNavigating=!1;const a=e.finalInstructions.toUrl(!0,this.options._urlParser);switch(e.options._getHistoryStrategy(this._instructions)){case"none":break;case"push":this._locationMgr.pushState(lp(e.options.state,e.id),this.updateTitle(e),a);break;case"replace":this._locationMgr.replaceState(lp(e.options.state,e.id),this.updateTitle(e),a);break}this._events.publish(new B4(e.id,e.instructions,this._instructions)),e.resolve(!0),this._runNextTransition()})._start()})}updateTitle(e=this.currentTr){const t=this._getTitle(e);return t.length>0&&(this._p.document.title=t),this._p.document.title}_getTitle(e=this.currentTr){let t;if(this._hasTitleBuilder)t=this.options.buildTitle(e)??"";else switch(typeof e.options.title){case"function":t=e.options.title.call(void 0,e.routeTree.root)??"";break;case"string":t=e.options.title;break;default:t=e.routeTree.root.getTitle(e.options.titleSeparator)??"";break}return t}_subscribeNavigationStart(e){this._activeContexts.push(e)}_unsubscribeNavigationStart(e){const t=this._activeContexts.indexOf(e);t>-1&&this._activeContexts.splice(t,1)}_cancelNavigation(e){R(this._logger.scopeTo("cancelNavigation()"),3267,e);const s=e.previousRouteTree.root.children,n=e.routeTree.root.children;Ac(s,n).forEach(function(a){a.context.vpa._cancelUpdate()}),this._instructions=e.prevInstructions,this._routeTree=e.previousRouteTree,this._isNavigating=!1;const o=e.guardsResult;if(this._events.publish(new L4(e.id,e.instructions,`guardsResult is ${o}`)),o===!1)e.resolve(!1),this._runNextTransition();else{let a;if(this._navigated&&(e.erredWithUnknownRoute||e.error!=null&&this.options.restorePreviousRouteTreeOnError))a=e.prevInstructions;else{if(o===!0)return;a=o}T(this._enqueue(a,"api",e.managedState,e),()=>{R(this._logger,3268,e)})}}_runNextTransition(){this._nextTr!==null&&(R(this._logger,3269,this._nextTr),this._p.taskQueue.queueTask(()=>{const e=this._nextTr;if(e!==null)try{this._run(e)}catch(t){e._handleError(t)}}))}}function f_(i,e,t,s){return i.trace("updateNode(ctx:%s,node:%s)",t,s),s.queryParams=e.queryParams,s.fragment=e.fragment,s.context.routeConfigContext.isRoot||s.context.vpa._scheduleUpdate(s._tree.options,s),s.context===t?(s._clearChildren(),T(le(...e.children.map(n=>$i(i,s,n))),()=>le(...t.getAvailableViewportAgents().reduce((n,r)=>{const o=r.viewport,a=o.default;return a===null||n.push($i(i,s,Ge.create({component:a,viewport:o.name}))),n},[])))):le(...s.children.map(n=>f_(i,e,t,n)))}class Da{constructor(e,t,s){this.path=e,this.query=t,this.fragment=s,this.id=`${e}?${(t==null?void 0:t.toString())??""}#${s??""}`}toString(){return this.id}static _create(e){let t=null;const s=e.indexOf("#");if(s>=0){const o=e.slice(s+1);t=decodeURIComponent(o),e=e.slice(0,s)}let n=null;const r=e.indexOf("?");if(r>=0){const o=e.slice(r+1);e=e.slice(0,r),n=Object.freeze(new URLSearchParams(o))}return new Da(e,n??ao,t)}}function g_(i,e,t){let s;typeof i=="string"?s=i:(s=i.path,e=i.query,t=i.fragment),e??(e=ao);let n=e.toString();n=n===""?"":`?${n}`;const r=t!=null&&t.length>0?`#${encodeURIComponent(t)}`:"";return`${s}${n}${r}`}const Ic=Object.freeze({parse(i){return Da._create(i)},stringify(i,e,t){return g_(i,e,t)}}),U4=Object.freeze({parse(i){const e=i.indexOf("#");if(e>=0){const t=i.slice(e+1);i=decodeURIComponent(t)}return Da._create(i)},stringify(i,e,t){return`/#/${g_(i,e,t)}`}});function W4(i,e){return typeof e=="function"?e(i):e}const Yh=at.createInterface("RouterOptions");class ha{constructor(e,t,s,n,r,o,a){this.useUrlFragmentHash=e,this.useHref=t,this.historyStrategy=s,this.buildTitle=n,this.useNavigationModel=r,this.activeClass=o,this.restorePreviousRouteTreeOnError=a,this._urlParser=e?U4:Ic}static create(e){return new ha(e.useUrlFragmentHash??!1,e.useHref??!0,e.historyStrategy??"push",e.buildTitle??null,e.useNavigationModel??!0,e.activeClass??null,e.restorePreviousRouteTreeOnError??!0)}toString(){return`RO(${[["historyStrategy","history"]].map(([e,t])=>{const s=this[e];return`${t}:${typeof s=="function"?s:`'${s}'`}`}).join(",")})`}}class ss{constructor(e,t,s,n,r,o,a,l){this.historyStrategy=e,this.title=t,this.titleSeparator=s,this.context=n,this.queryParams=r,this.fragment=o,this.state=a,this.transitionPlan=l}static create(e,t){return new ss(t.historyStrategy??e.historyStrategy,t.title??null,t.titleSeparator??" | ",t.context??null,t.queryParams??null,t.fragment??"",t.state??null,t.transitionPlan??null)}_clone(){return new ss(this.historyStrategy,this.title,this.titleSeparator,this.context,{...this.queryParams},this.fragment,this.state===null?null:{...this.state},this.transitionPlan)}_getHistoryStrategy(e){return W4(e,this.historyStrategy)}}const Cn="default";class Ge{constructor(e,t,s,n,r,o,a){this.open=e,this.close=t,this.recognizedRoute=s,this.component=n,this.viewport=r,this.params=o,this.children=a}static create(e){var s;if(e instanceof Ge)return e;if(oo(e)){const n=tt.create(e.component),r=((s=e.children)==null?void 0:s.map(Ge.create))??[];return new Ge(e.open??0,e.close??0,e.recognizedRoute??null,n,e.viewport??null,Object.freeze(e.params??null),r)}const t=tt.create(e);return new Ge(0,0,null,t,null,null,[])}contains(e){const t=this.children,s=e.children;if(t.length<s.length||!this.component.equals(e.component))return!1;const n=this.viewport??null,r=e.viewport??null;if(n!==null&&r!==null&&n!==r)return!1;for(let o=0,a=s.length;o<a;++o)if(!t[o].contains(s[o]))return!1;return!0}equals(e){const t=this.children,s=e.children;if(t.length!==s.length||!this.component.equals(e.component)||this.viewport!==e.viewport||!l_(this.params,e.params))return!1;for(let n=0,r=t.length;n<r;++n)if(!t[n].equals(s[n]))return!1;return!0}_clone(){return new Ge(this.open,this.close,this.recognizedRoute,this.component._clone(),this.viewport,this.params,[...this.children])}toUrlComponent(e=!0){const t=this.component.toUrlComponent(),s=this.viewport,n=t.length===0||s===null||s.length===0||s===Cn?"":`@${s}`,r=`${"(".repeat(this.open)}${t}${q4(this.params)}${n}${")".repeat(this.close)}`,o=e?this.children.map(a=>a.toUrlComponent()).join("+"):"";return r.length>0?o.length>0?`${r}/${o}`:r:o}toString(){const e=`c:${this.component}`,t=this.viewport===null||this.viewport.length===0?"":`viewport:${this.viewport}`,s=this.children.length===0?"":`children:[${this.children.map(String).join(",")}]`;return`VPI(${[e,t,s].filter(Boolean).join(",")})`}}function q4(i){if(i===null)return"";const e=Object.keys(i),t=e.length;if(t===0)return"";const s=Array(t),n=[],r=[];for(const o of e)un(o)?n.push(Number(o)):r.push(o);for(let o=0;o<t;++o){const a=n.indexOf(o);if(a>-1)s[o]=i[o],n.splice(a,1);else{const l=r.shift();s[o]=`${l}=${i[l]}`}}return`(${s.join(",")})`}class nt{constructor(e,t,s,n,r){this.options=e,this.isAbsolute=t,this.children=s,this.queryParams=n,this.fragment=r,Object.freeze(n)}static create(e,t,s,n,r){s=s instanceof ss?s:ss.create(t,s??Ke);let o=s.context;!(o instanceof As)&&n!=null&&(o=s.context=As.resolve(n,o));const a=o!=null;if(e instanceof Array){const l=e.length,c=new Array(l),u=new URLSearchParams(s.queryParams??Ke),h=new Array(l);for(let p=0;p<l;p++){const d=e[p];h[p]=T(a?o.routeConfigContext._generateViewportInstruction(d,r):null,g=>{g!==null?(c[p]=g.vi,ia(u,g.query,!1)):c[p]=Ge.create(d)})}return T(le(...h),()=>new nt(s,!1,c,u,s.fragment))}return typeof e=="string"?Ii.parse(t._urlParser.parse(e)).toInstructionTree(s):T(a?o.routeConfigContext._generateViewportInstruction(oo(e)?{...e,params:e.params??Ke}:{component:e,params:Ke},r):null,l=>{const c=new URLSearchParams(s.queryParams??Ke);return l!==null?new nt(s,!1,[l.vi],ia(c,l.query,!1),s.fragment):new nt(s,!1,[Ge.create(e)],c,s.fragment)})}equals(e){const t=this.children,s=e.children;if(t.length!==s.length)return!1;for(let n=0,r=t.length;n<r;++n)if(!t[n].equals(s[n]))return!1;return!0}toUrl(e,t){let s="";if(!e){const r=[];let o=this.options.context;if(o!=null&&!(o instanceof As))throw new Error("Invalid operation; incompatible navigation context.");for(;o!=null&&!o.routeConfigContext.isRoot;){const a=o.vpa,l=a._currState===4096?a._currNode:a._nextNode;if(l==null)throw new Error("Invalid operation; nodes of the viewport agent are not set.");r.splice(0,0,l.instruction.toUrlComponent()),o=o.parent}r[0]===""&&r.splice(0,1),s=r.join("/")}const n=this.toPath();return t.stringify(s.length>0?`${s}/${n}`:n,this.queryParams,this.fragment)}toPath(){return this.children.map(e=>e.toUrlComponent()).join("+")}toString(){return`[${this.children.map(String).join(",")}]`}}class lo{constructor(e){this.getComponent=e}}class tt{constructor(e,t){this.type=e,this.value=t}static create(e){if(e instanceof tt)return e;if(typeof e=="string")return new tt(0,e);if(Ri(e)||Qe("function/class or object","",e),e instanceof lo)return new tt(5,e);if(typeof e=="function")if(q.isType(e)){const t=q.getDefinition(e);return new tt(2,t)}else return tt.create(e());if(e instanceof Promise)return new tt(3,e);if(oo(e)){const t=Ge.create(e);return new tt(1,t)}if(Pa(e))return new tt(4,e);if(e instanceof Le)return new tt(2,e);if(Ba(e)){const t=Le.create(e);return q.define(t),new tt(2,t)}throw new Error(W(3400,o_(e)))}equals(e){switch(this.type){case 5:case 2:case 4:case 3:case 0:return this.type===e.type&&this.value===e.value;case 1:return this.type===e.type&&this.value.equals(e.value)}}_clone(){return new tt(this.type,this.value)}toUrlComponent(){switch(this.type){case 2:return this.value.name;case 4:case 3:case 5:throw new Error(W(3403,this.type));case 1:return this.value.toUrlComponent();case 0:return this.value}}toString(){switch(this.type){case 2:return`CEDef(name:'${this.value.name}')`;case 5:return"NS";case 3:return"Promise";case 4:return`VM(name:'${q.getDefinition(this.value.constructor).name}')`;case 1:return this.value.toString();case 0:return`'${this.value}'`}}}class Q4{constructor(e,t,s,n,r){this._instance=e,this._controller=t,this._routeNode=s,this._ctx=n,this._routerOptions=r,this._logger=t.container.get(Me).scopeTo(`ComponentAgent<${n.routeConfigContext._friendlyPath}>`),R(this._logger,3050);const o=t.lifecycleHooks;this._canLoadHooks=(o.canLoad??[]).map(a=>a.instance),this._loadHooks=(o.loading??[]).map(a=>a.instance),this._canUnloadHooks=(o.canUnload??[]).map(a=>a.instance),this._unloadHooks=(o.unloading??[]).map(a=>a.instance),this._hasCanLoad="canLoad"in e,this._hasLoad="loading"in e,this._hasCanUnload="canUnload"in e,this._hasUnload="unloading"in e}_activate(e,t){const s=this._controller,n=this._ctx.vpa.hostController;switch(s.mountTarget){case Kn.host:case Kn.shadowRoot:n.host.appendChild(s.host);break;case Kn.location:n.host.append(s.location.$start,s.location);break;case Kn.none:throw new Error("Invalid mount target for routed component")}if(e===null)return R(this._logger,3051),this._controller.activate(this._controller,t);R(this._logger,3052),this._controller.activate(e,t)}_deactivate(e,t){var n,r,o,a;const s=this._controller;if((n=s.host)==null||n.remove(),(r=s.location)==null||r.remove(),(a=(o=s.location)==null?void 0:o.$start)==null||a.remove(),e===null)return R(this._logger,3053),s.deactivate(s,t);R(this._logger,3054),s.deactivate(e,t)}_dispose(){R(this._logger,3055),this._controller.dispose()}_canUnload(e,t,s){R(this._logger,3056,t,this._canUnloadHooks.length),s._push();let n=Promise.resolve();for(const r of this._canUnloadHooks)s._push(),n=n.then(()=>new Promise(o=>{if(e.guardsResult!==!0){s._pop(),o();return}e._run(()=>r.canUnload(this._instance,t,this._routeNode),a=>{e.guardsResult===!0&&a===!1&&(e.guardsResult=!1),s._pop(),o()})}));this._hasCanUnload&&(s._push(),n=n.then(()=>{if(e.guardsResult!==!0){s._pop();return}e._run(()=>this._instance.canUnload(t,this._routeNode),r=>{e.guardsResult===!0&&r===!1&&(e.guardsResult=!1),s._pop()})})),s._pop()}_canLoad(e,t,s){R(this._logger,3057,t,this._canLoadHooks.length);const n=this._ctx.root;s._push();let r=Promise.resolve();for(const o of this._canLoadHooks)s._push(),r=r.then(()=>new Promise(a=>{if(e.guardsResult!==!0){s._pop(),a();return}e._run(()=>o.canLoad(this._instance,t.params,t,this._routeNode),l=>{e.guardsResult===!0&&l!=null&&l!==!0&&(e.guardsResult=l===!1?!1:nt.create(l,this._routerOptions,null,n)),s._pop(),a()})}));this._hasCanLoad&&(s._push(),r=r.then(()=>{if(e.guardsResult!==!0){s._pop();return}e._run(()=>this._instance.canLoad(t.params,t,this._routeNode),o=>{e.guardsResult===!0&&o!=null&&o!==!0&&(e.guardsResult=o===!1?!1:nt.create(o,this._routerOptions,null,n)),s._pop()})})),s._pop()}_unloading(e,t,s){R(this._logger,3058,t,this._unloadHooks.length),s._push();for(const n of this._unloadHooks)e._run(()=>(s._push(),n.unloading(this._instance,t,this._routeNode)),()=>{s._pop()});this._hasUnload&&e._run(()=>(s._push(),this._instance.unloading(t,this._routeNode)),()=>{s._pop()}),s._pop()}_loading(e,t,s){R(this._logger,3059,t,this._loadHooks.length),s._push();for(const n of this._loadHooks)e._run(()=>(s._push(),n.loading(this._instance,t.params,t,this._routeNode)),()=>{s._pop()});this._hasLoad&&e._run(()=>(s._push(),this._instance.loading(t.params,t,this._routeNode)),()=>{s._pop()}),s._pop()}}const wt=at.createInterface("IRouteContext"),__=Object.freeze(["string","object","function"]);function K4(i){if(i==null)return!1;const e=i.params,t=i.component;return typeof e=="object"&&e!==null&&t!=null&&__.includes(typeof t)&&!(t instanceof Promise)&&!(t instanceof lo)}function Rc(i){_e(i)||(i=[i]);const e=i.length;for(let s=0;s<e;++s){const n=t(i[s]);if(n==null)throw new Error(W(3404,i));i[s]=n}return i;function t(s){let n;return typeof s=="string"||typeof s=="function"?(n=s,s=null):n=s.component,n==null||!__.includes(typeof n)||n instanceof Promise||n instanceof lo?null:{...s,component:n,params:(s==null?void 0:s.params)??Ke}}}class As{get isRoot(){return this.parent===null}get node(){const e=this._node;if(e===null)throw new Error(W(3171,this));return e}set node(e){(this._prevNode=this._node)!==e&&(this._node=e,R(this._logger,3151,this._prevNode,e))}get vpa(){const e=this._vpa;if(e===null)throw new Error(W(3172,this));return e}constructor(e,t,s,n,r,o){this.parent=t,this._router=n,this.routeConfigContext=r,this._locationMgr=o,this._childViewportAgents=[],this._prevNode=null,this._node=null,this._vpa=e,t===null?this.root=this:this.root=t.root,this._logger=s.get(Me).scopeTo(`RouteContext<${this.routeConfigContext._friendlyPath}>`),R(this._logger,3150),this._router._subscribeNavigationStart(this);const a=this.container=s.createChild();this._platform=a.get(Ve),a.registerResolver(Qr,this._hostControllerProvider=new $e,!0);const l=new $e("IRouteContext",this);a.registerResolver(wt,l),a.registerResolver(As,l),n.options.useNavigationModel&&a.get(Ma).subscribe("au:router:navigation-end",()=>{r.navigationModel._setIsActive(n,this)})}static setRoot(e){const t=e.get(Me).scopeTo("RouteContext");e.has(_n,!0)||yo(new Error(W(3167)),t),e.has(wt,!0)&&yo(new Error(W(3168)),t);const{controller:s}=e.get(_n);s===void 0&&yo(new Error(W(3169)),t);const n=e.get(Zs);return T(n.getRouteContext(null,s.definition,s.viewModel,s.container,null,null,null),r=>{e.register(Pt.instance(wt,r)),r.node=n.routeTree.root})}static resolve(e,t){const s=e.container,n=s.get(Me).scopeTo("RouteContext");if(t==null)return R(n,3152,t),e;if(t instanceof As)return R(n,3153,t),t;if(t instanceof s.get(Ve).Node){R(n,3154,t.nodeName);try{return q.for(t,{searchParents:!0}).container.get(wt)}catch(r){throw r_(n,3155,t.nodeName,r),r}}if(Pa(t)){const r=t.$controller;return R(n,3156,r.definition.name),r.container.get(wt)}if(N3(t)){const r=t;return R(n,3157,r.definition.name),r.container.get(wt)}yo(new Error(W(3170,Object.prototype.toString.call(t))),n)}dispose(){this.container.dispose(),this._router._unsubscribeNavigationStart(this)}_resolveViewportAgent(e){R(this._logger,3158,e);const t=this._childViewportAgents.find(s=>s._handles(e));if(t===void 0)throw new Error(W(3174,e,this._printTree()));return t}getAvailableViewportAgents(){return this._childViewportAgents.filter(e=>e._isAvailable())}getFallbackViewportAgent(e){return this._childViewportAgents.find(t=>t._isAvailable()&&t.viewport.name===e&&t.viewport.fallback!=="")??null}_createComponentAgent(e,t){R(this._logger,3159,t),this._hostControllerProvider.prepare(e);const s=this.container.createChild({inheritParentResources:!0}),n=this._platform,r=t.component,o=n.document.createElement(r.name);Zr(s,o,n);const a=s.invoke(r.Type),l=this.routeConfigContext._childRoutesConfigured?void 0:T(Lr(a,!1,this.routeConfigContext.config,t,null),c=>this.routeConfigContext._processConfig(c));return T(l,()=>{const c=Ze.$el(s,a,o,{projections:null},r),u=new Q4(a,c,t,this,this._router.options);return this._hostControllerProvider.dispose(),u})}generateRootedPath(e){return T(this.createViewportInstructions(Rc(e),null,!0),t=>{var a,l,c;const s=t.toUrl(!0,this._router.options._urlParser);let n="";const r=[];let o=t.options.context;for(;!o.isRoot;){const u=(c=(l=(a=o.vpa)==null?void 0:a._currNode)==null?void 0:l.instruction)==null?void 0:c.toUrlComponent(!1);((u==null?void 0:u.length)??0)!==0&&r.unshift(u),o=o.parent}return n=r.join("/"),n.length===0?s:`${n}/${s}`})}generateRelativePath(e){return T(this.createViewportInstructions(Rc(e),null,!0),t=>t.toUrl(!0,this._router.options._urlParser))}createViewportInstructions(e,t,s){if(e instanceof nt)return e;let n=(t==null?void 0:t.context)??this,r=!1;if(!_e(e))e=a.call(this,e);else{const l=e.length;for(let c=0;c<l;++c)e[c]=a.call(this,e[c])}const o=this._router.options;return nt.create(e,o,ss.create(o,{...t,context:n}),this.root,s);function a(l){typeof l=="string"&&(l=this._locationMgr.removeBaseHref(l));const c=oo(l);let u=c?l.component:l;if(typeof u=="string"&&u.startsWith("../")&&n!==null){for(;u.startsWith("../")&&(((n==null?void 0:n.parent)??null)!==null||r);)u=u.slice(3),r||(n=n.parent);r=!0}return c?l.component=u:l=u,l}}_registerViewport(e){const t=aa.for(e,this);return this._childViewportAgents.includes(t)?(R(this._logger,3161,t),t):(R(this._logger,3160,t),this._childViewportAgents.push(t),t)}_unregisterViewport(e){const t=aa.for(e,this);if(!this._childViewportAgents.includes(t)){R(this._logger,3163,t);return}R(this._logger,3162,t),this._childViewportAgents.splice(this._childViewportAgents.indexOf(t),1)}toString(){const t=this._childViewportAgents.map(String).join(",");return`RC(path:'${this.routeConfigContext._friendlyPath}',viewports:[${t}])`}_printTree(){const e=[],t=this.routeConfigContext.path;for(let s=0;s<t.length;++s)e.push(`${" ".repeat(s)}${t[s]}`);return e.join(`
`)}}class Z4{get isRoot(){return this.parent===null}get depth(){return this.path.length-1}get navigationModel(){return this._navigationModel}get allResolved(){return this._allResolved}constructor(e,t,s,n,r){this.parent=e,this.component=t,this.config=s,this._router=r,this._childRoutesConfigured=!1,this.childRoutes=[],this._allResolved=null,e===null?(this.root=this,this.path=[this],this._friendlyPath=t.name):(this.root=e.root,this.path=[...e.path,this],this._friendlyPath=`${e._friendlyPath}/${t.name}`),this._logger=n.get(Me).scopeTo(`RouteConfigContext<${this._friendlyPath}>`),R(this._logger,3150),this._moduleLoader=n.get(h1),this.container=n.createChild(),this._recognizer=new k4,r.options.useNavigationModel?this._navigationModel=new X4([]):this._navigationModel=null,this._processConfig(s)}_handleNavigationStart(){this.config._handleNavigationStart();for(const e of this.childRoutes)e instanceof Promise||e._handleNavigationStart()}_processConfig(e){var l;const t=[],s=e.routes??Eo,n=s.length;if(n===0){const c=(l=e.component.prototype)==null?void 0:l.getRouteConfig;this._childRoutesConfigured=c==null?!0:typeof c!="function";return}const r=this._navigationModel,o=r!==null;let a=0;for(;a<n;a++){const c=s[a];if(c instanceof Promise){t.push(this._addRoute(c));continue}const u=Lr(c,!0,e,null,this);if(u instanceof Promise){if(!La(c)||c.path==null)throw new Error(W(3173));for(const d of rn(c.path))this._$addRoute(d,c.caseSensitive??!1,u);const h=this.childRoutes.length,p=u.then(d=>this.childRoutes[h]=d);this.childRoutes.push(p),o&&r._addRoute(p),t.push(p.then(dt));continue}for(const h of u.path??U)this._$addRoute(h,u.caseSensitive,u);this.childRoutes.push(u),o&&r._addRoute(u)}this._childRoutesConfigured=!0,t.length>0&&(this._allResolved=Promise.all(t).then(()=>{this._allResolved=null}))}_addRoute(e){return R(this._logger,3165,e),T(Lr(e,!0,this.config,null,this),t=>{var s;for(const n of t.path??U)this._$addRoute(n,t.caseSensitive,t);(s=this._navigationModel)==null||s._addRoute(t),this.childRoutes.push(t)})}_$addRoute(e,t,s){this._recognizer.add({path:e,caseSensitive:t,handler:s},!0)}_resolveLazy(e){return this._moduleLoader.load(e,t=>{const s=t.raw;if(typeof s=="function"){const o=q.isType(s)?q.getDefinition(s):null;if(o!=null)return o}let n,r;for(const o of t.items){const a=q.isType(o.value)?o.definition:null;a!=null&&(o.key==="default"?n=a:r===void 0&&(r=a))}if(n===void 0&&r===void 0){if(!Ba(s))throw new Error(W(3175,e));const o=Le.create(s);return q.define(o),o}return r??n})}_generateViewportInstruction(e,t){if(!K4(e))return null;t??(t=!1);const s=e.component;let n,r=!1;if(s instanceof es)n=s.path,r=!0;else if(typeof s=="string"){const f=this.childRoutes.find(_=>_.id===s);if(f===void 0)return null;n=f.path}else if(s.type===0){const f=this.childRoutes.find(_=>_.id===s.value);if(f===void 0)return null;n=f.path}else{const f=Mr(s,this)[1];n=this.childRoutes.reduce((_,b)=>(b.component===f.Type&&_.push(...b.path),_),[]),r=!0}if(n===void 0)return null;const o=e.params,a=this._recognizer,l=n.length,c=[];let u=null;if(l===1){const f=p(n[0]);if(f===null){if(r)throw new Error(W(3166,e,c));return zs(this._logger,3166,e,c),null}return g.call(this,f)}let h=0;for(let f=0;f<l;f++){const _=p(n[f]);_!==null&&(u===null?(u=_,h=Object.keys(_.consumed).length):Object.keys(_.consumed).length>h&&(u=_))}if(u===null){if(r)throw new Error(W(3166,e,c));return zs(this._logger,3166,e,c),null}return g.call(this,u);function p(f){const _=a.getEndpoint(f);if(_===null)return c.push(`No endpoint found for the path: '${f}'.`),null;const b=Object.create(null);for(const m of _.params){const C=m.name;let O=o[C];if(O==null||String(O).length===0){if(!m.isOptional)return c.push(`No value for the required parameter '${C}' is provided for the path: '${f}'.`),null;O=""}else{if(!m.satisfiesPattern(O))return c.push(`The value '${O}' for the parameter '${C}' does not satisfy the pattern '${m.pattern}'.`),null;b[C]=O}const P=m.isStar?`*${C}`:m.isOptional?`:${C}?`:`:${C}`;f=f.replace(P,encodeURIComponent(O))}const v=Object.keys(b),$=Object.fromEntries(Object.entries(o).filter(([m])=>!v.includes(m)));return{path:f.replace(/\/\//g,"/"),endpoint:_,consumed:b,query:$}}async function d(f){const _=e.children,b=(_==null?void 0:_.length)??0;if(b===0)return{instructions:U,query:Ke};const v=f.component,$=q.isType(v)?q.getDefinition(v):Mr(v,this)[1];return T(T(this._router.getRouteConfigContext(f,$,null,this.container,this.config,this),m=>T(m.allResolved,()=>m)),m=>{const C=new Array(b),O=new Array(b);let P=Object.create(null);for(let N=0;N<b;++N){const D=_[N];C[N]=T(m._generateViewportInstruction(oo(D)?{...D,params:D.params??Ke}:{component:D,params:Ke},t),F=>{if(F==null)throw new Error(W(3166,D));O[N]=F.vi,P=ip(P,F.query)})}return T(Promise.all(C),()=>({instructions:O,query:P}))})}function g(f){return T(t?d.call(this,f.endpoint.route.handler):{instructions:e.children,query:Ke},({instructions:_,query:b})=>({vi:Ge.create({recognizedRoute:new ua(new Ea(f.endpoint,f.consumed),null),component:f.path,children:_,viewport:e.viewport,open:e.open,close:e.close}),query:ip(f.query,b)}))}}recognize(e,t=!1){R(this._logger,3164,e);let s=this,n=!0,r=null;for(;n;)if(r=s._recognizer.recognize(e),r===null){if(!t||s.isRoot)return null;s=s.parent}else n=!1;return new ua(r,Reflect.has(r.params,Jt)?r.params[Jt]??null:null)}dispose(){this.container.dispose()}}class ua{constructor(e,t){this.route=e,this.residue=t}toString(){const e=this.route,t=e.endpoint.route;return`RR(route:(endpoint:(route:(path:${t.path},handler:${t.handler})),params:${JSON.stringify(e.params)}),residue:${this.residue})`}}class X4{constructor(e){this.routes=e,this._promise=void 0}resolve(){return T(this._promise,dt)}_setIsActive(e,t){T(this._promise,()=>{for(const s of this.routes)s._setIsActive(e,t)})}_addRoute(e){const t=this.routes;if(!(e instanceof Promise)){(e.nav??!1)&&e.redirectTo===null&&t.push(da._create(e));return}const s=t.length;t.push(void 0);let n;n=this._promise=T(this._promise,()=>T(e,r=>{r.nav&&r.redirectTo===null?t[s]=da._create(r):t.splice(s,1),this._promise===n&&(this._promise=void 0)}))}}class da{constructor(e,t,s,n){this.id=e,this.path=t,this.title=s,this.data=n,this._trees=null}static _create(e){return new da(e.id,rn(e.path??U),e.title,e.data)}get isActive(){return this._isActive}_setIsActive(e,t){let s=this._trees;if(s===null){const n=e.options;s=this._trees=this.path.map(r=>{const o=t.routeConfigContext._recognizer.getEndpoint(r);if(o===null)throw new Error(W(3450,r));return new nt(ss.create(n,{context:t}),!1,[Ge.create({recognizedRoute:new ua(new Ea(o,Ke),null),component:r})],ao,null)})}this._isActive=s.some(n=>e.routeTree.contains(n,!0))}}class m_{constructor(){this.name=Cn,this.usedBy="",this.default="",this.fallback="",this._agent=void 0,this._controller=void 0,this._ctx=x(wt),this._logger=x(Me).scopeTo(`au-viewport<${this._ctx.routeConfigContext._friendlyPath}>`)}_getFallback(e,t,s){const n=this.fallback;return typeof n=="function"&&!q.isType(n)?n(e,t,s):n}hydrated(e){R(this._logger,3e3),this._controller=e,this._agent=this._ctx._registerViewport(this)}attaching(e,t){return R(this._logger,3001),this._agent._activateFromViewport(e,this._controller)}detaching(e,t){return R(this._logger,3002),this._agent._deactivateFromViewport(e,this._controller)}dispose(){R(this._logger,3003),this._ctx._unregisterViewport(this),this._agent._dispose(),this._agent=void 0}toString(){const e=[];for(const t of J4){const s=this[t];switch(typeof s){case"string":s!==""&&e.push(`${t}:'${s}'`);break;default:e.push(`${t}:${String(s)}`)}}return`VP(ctx:'${this._ctx.routeConfigContext._friendlyPath}',${e.join(",")})`}}q.define({name:"au-viewport",bindables:["name","usedBy","default","fallback"]},m_);const J4=["name","usedBy","default","fallback"];class eu{constructor(){this._el=x(En),this._router=x(Zs),this._ctx=x(wt),this._events=x(Ma),this._locationMgr=x(u_),this.attribute="href",this.active=!1,this._href=null,this._instructions=null,this._navigationEndListener=null,this.onClick=t=>{this._instructions!==null&&(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||t.button!==0||(t.preventDefault(),this._router.load(this._instructions,{context:this.context})))};const e=this._el;this._isEnabled=!e.hasAttribute("external")&&!e.hasAttribute("data-external"),this._activeClass=this._router.options.activeClass}binding(){this._isEnabled&&this._el.addEventListener("click",this.onClick),this.valueChanged(),this._navigationEndListener=this._events.subscribe("au:router:navigation-end",e=>{const t=this.active=this._instructions!==null&&this._router.isActive(this._instructions,this.context),s=this._activeClass;s!==null&&this._el.classList.toggle(s,t)})}attaching(){const t=this.context.routeConfigContext.allResolved;if(t!==null)return t.then(()=>{this.valueChanged()})}unbinding(){this._isEnabled&&this._el.removeEventListener("click",this.onClick),this._navigationEndListener.dispose()}valueChanged(){const e=this._router,t=e.options,s=this.route;let n=this.context;if(n===void 0?n=this.context=this._ctx:n===null&&(n=this.context=this._ctx.root),s!=null&&n.routeConfigContext.allResolved===null){const o=this.params,a=this._instructions=e.createViewportInstructions(typeof o=="object"&&o!==null?{component:s,params:o}:s,{context:n});this._href=a.toUrl(!1,t._urlParser)}else this._instructions=null,this._href=null;const r=q.for(this._el,{optional:!0});if(r!==null)r.viewModel[this.attribute]=this._instructions;else if(this._href===null)this._el.removeAttribute(this.attribute);else{const o=t.useUrlFragmentHash?this._href:this._locationMgr.addBaseHref(this._href);this._el.setAttribute(this.attribute,o)}}}qr.define({name:"load",bindables:{route:{mode:ir,primary:!0,callback:"valueChanged"},params:{mode:ir,callback:"valueChanged"},attribute:{mode:ir},active:{mode:I4},context:{mode:ir,callback:"valueChanged"}}},eu);class v_{get _isExternal(){return this._el.hasAttribute("external")||this._el.hasAttribute("data-external")}constructor(){if(this._el=x(En),this._router=x(Zs),this._ctx=x(wt),this._isInitialized=!1,this._router.options.useHref&&this._el.nodeName==="A"){const e=x(Kr).name;switch(this._el.getAttribute("target")){case null:case e:case"_self":this._isEnabled=!0;break;default:this._isEnabled=!1;break}}else this._isEnabled=!1}binding(){this._isInitialized||(this._isInitialized=!0,this._isEnabled=this._isEnabled&&Vt.get(this._el,qr.getDefinition(eu).key)===null),this.valueChanged(this.value),this._el.addEventListener("click",this)}unbinding(){this._el.removeEventListener("click",this)}valueChanged(e){e==null?this._el.removeAttribute("href"):(this._router.options.useUrlFragmentHash&&this._ctx.routeConfigContext.isRoot&&!/^[.#]/.test(e)&&!this._isExternal&&(e=`#${e}`),this._el.setAttribute("href",e))}handleEvent(e){this._onClick(e)}_onClick(e){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||e.button!==0||this._isExternal||!this._isEnabled)return;const t=this._el.getAttribute("href");t!==null&&(e.preventDefault(),this._router.load(t,{context:this._ctx}))}}v_.$au={type:"custom-attribute",name:"href",noMultiBindings:!0,bindables:{value:{mode:ir}}};const Y4=Zs,eC=[Y4],tC=[m_,eu,v_];function cp(i,e){let t=null;Ri(e)?t=e.basePath??null:e={};const s=ha.create(e);return i.register(Pt.cachedCallback(h_,(n,r,o)=>{const a=n.get(Kr),l=new URL(a.document.baseURI);return l.pathname=d_(t??l.pathname),l}),Pt.instance(Yh,s),Pt.instance(ha,s),go.creating(Zs,n=>{}),go.hydrated(Ni,As.setRoot),go.activated(Zs,n=>n.start(!0)),go.deactivated(Zs,n=>n.stop()),...eC,...tC)}const sC={register(i){return cp(i)},customize(i){return{register(e){return cp(e,i)}}}};var iC=Object.create,tu=Object.defineProperty,nC=Object.getOwnPropertyDescriptor,rC=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),b_=i=>{throw TypeError(i)},oC=(i,e,t)=>e in i?tu(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,aC=(i,e)=>tu(i,"name",{value:e,configurable:!0}),lC=i=>[,,,iC(null)],cC=["class","method","getter","setter","accessor","field","value","get","set"],w_=i=>i!==void 0&&typeof i!="function"?b_("Function expected"):i,hC=(i,e,t,s,n)=>({kind:cC[i],name:e,metadata:s,addInitializer:r=>t._?b_("Already initialized"):n.push(w_(r||null))}),uC=(i,e)=>oC(e,rC("metadata"),i[3]),dC=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},pC=(i,e,t,s,n,r)=>{var o,a,l,c=e&7,u=!1,h=0,p=i[h]||(i[h]=[]),d=c&&(n=n.prototype,c<5&&(c>3||!u)&&nC(n,t));aC(n,t);for(var g=s.length-1;g>=0;g--)l=hC(c,t,a={},i[3],p),o=(0,s[g])(n,l),a._=1,w_(o)&&(n=o);return uC(i,n),d&&tu(n,t,d),u?c^4?r:d:n},y_,su;y_=[lt(Bw),V4({routes:[{path:"",component:Or,title:"Home"},{path:"cart",component:Br,title:"Cart"}]})];const ru=class ru{constructor(e){this.cartService=e}get cartCount(){return this.cartService.count}};ru.dependencies=[bn,Yo,ea,Ts,Or,Br,ti,ta];let kn=ru;su=lC();kn=pC(su,0,"MyApp",y_,kn);dC(su,1,kn);yr.register(sC).app(kn).start();
